<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ShardingSphere | lwy&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e1aa9d15d62220ec692a843c08c79000";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>        
    </script>
    <script src="https://fastly.jsdelivr.net/npm/twikoo@1.5.11/dist/twikoo.all.min.js"></script>
    <script href="./js/index.js" async="async"></script>
    <link rel="icon" href="https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/20220627/mmexport1656324824543.124zxwkqyzlc.webp">
    <script charset="utf-8" href="./js/main.js"></script>
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="ä¸€èµ·å­¦ä¹ ç¼–ç¨‹!">
    <meta name="image" content="https://frxcat.fun/./1.shardingjdbc.assets/image-20200907154007333.png">
    <meta name="twitter:title" content="ShardingSphere">
    <meta name="twitter:description" content="">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://frxcat.fun/./1.shardingjdbc.assets/image-20200907154007333.png">
    <meta name="twitter:url" content="https://frxcat.fun/studynotes/database/ShardingSphere/ShardingSphere_index_.html">
    <meta name="twitter:site" content="@frxcat">
    <meta property="og:type" content="article">
    <meta property="og:title" content="ShardingSphere">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://frxcat.fun/./1.shardingjdbc.assets/image-20200907154007333.png">
    <meta property="og:url" content="https://frxcat.fun/studynotes/database/ShardingSphere/ShardingSphere_index_.html">
    <meta property="og:site_name" content="frxcat">
    <meta property="article:published_time" content="2022-11-10T09:38:05.000Z">
    <meta property="article:tag" content="null">
    <meta itemprop="name" content="ShardingSphere">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://frxcat.fun/./1.shardingjdbc.assets/image-20200907154007333.png">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="baidu-site-verification" content="code-5aMKYEt9fV">
    <link rel="preload" href="/assets/css/0.styles.47be26a6.css" as="style"><link rel="preload" href="/assets/js/app.52078691.js" as="script"><link rel="preload" href="/assets/js/2.3705e0fd.js" as="script"><link rel="preload" href="/assets/js/3.34330720.js" as="script"><link rel="preload" href="/assets/js/41.f9580004.js" as="script"><link rel="preload" href="/assets/js/62.88bcb186.js" as="script"><link rel="preload" href="/assets/js/68.17898152.js" as="script"><link rel="preload" href="/assets/js/53.6e4f0023.js" as="script"><link rel="preload" href="/assets/js/54.7ab2b710.js" as="script"><link rel="prefetch" href="/assets/js/10.9737349b.js"><link rel="prefetch" href="/assets/js/100.ce9d8915.js"><link rel="prefetch" href="/assets/js/101.f87843de.js"><link rel="prefetch" href="/assets/js/102.70976c26.js"><link rel="prefetch" href="/assets/js/103.af0ae479.js"><link rel="prefetch" href="/assets/js/104.08019755.js"><link rel="prefetch" href="/assets/js/105.5ba4095d.js"><link rel="prefetch" href="/assets/js/106.972a8f34.js"><link rel="prefetch" href="/assets/js/107.12e9ddb4.js"><link rel="prefetch" href="/assets/js/108.28e874b2.js"><link rel="prefetch" href="/assets/js/109.9b8d4781.js"><link rel="prefetch" href="/assets/js/11.b6770bd0.js"><link rel="prefetch" href="/assets/js/110.22af2046.js"><link rel="prefetch" href="/assets/js/111.e6983aec.js"><link rel="prefetch" href="/assets/js/112.1f240eff.js"><link rel="prefetch" href="/assets/js/113.d14bc345.js"><link rel="prefetch" href="/assets/js/114.4aa404d9.js"><link rel="prefetch" href="/assets/js/115.99538e07.js"><link rel="prefetch" href="/assets/js/116.208b8283.js"><link rel="prefetch" href="/assets/js/117.b1d409af.js"><link rel="prefetch" href="/assets/js/118.d47b4c00.js"><link rel="prefetch" href="/assets/js/119.370cd414.js"><link rel="prefetch" href="/assets/js/12.bd5c2d8b.js"><link rel="prefetch" href="/assets/js/120.1fa4e63b.js"><link rel="prefetch" href="/assets/js/121.a4fe7a0f.js"><link rel="prefetch" href="/assets/js/122.2bfb2933.js"><link rel="prefetch" href="/assets/js/123.aa149f19.js"><link rel="prefetch" href="/assets/js/124.e8464955.js"><link rel="prefetch" href="/assets/js/125.575955d0.js"><link rel="prefetch" href="/assets/js/126.4dff1740.js"><link rel="prefetch" href="/assets/js/127.09db1a96.js"><link rel="prefetch" href="/assets/js/128.943fa020.js"><link rel="prefetch" href="/assets/js/129.5aed95c9.js"><link rel="prefetch" href="/assets/js/13.9cbc2efd.js"><link rel="prefetch" href="/assets/js/130.245e9fdc.js"><link rel="prefetch" href="/assets/js/131.581380a1.js"><link rel="prefetch" href="/assets/js/132.60db6223.js"><link rel="prefetch" href="/assets/js/133.96797ef5.js"><link rel="prefetch" href="/assets/js/134.b688c12a.js"><link rel="prefetch" href="/assets/js/135.4e3da7b9.js"><link rel="prefetch" href="/assets/js/136.6ca77d45.js"><link rel="prefetch" href="/assets/js/137.bcb83ecf.js"><link rel="prefetch" href="/assets/js/138.4a67aa90.js"><link rel="prefetch" href="/assets/js/139.a9de0505.js"><link rel="prefetch" href="/assets/js/14.0503a1f8.js"><link rel="prefetch" href="/assets/js/140.000d224c.js"><link rel="prefetch" href="/assets/js/141.d4417d1a.js"><link rel="prefetch" href="/assets/js/142.9f63cf5c.js"><link rel="prefetch" href="/assets/js/143.52301d1e.js"><link rel="prefetch" href="/assets/js/144.183c8304.js"><link rel="prefetch" href="/assets/js/145.cafbbce0.js"><link rel="prefetch" href="/assets/js/146.b07ef39d.js"><link rel="prefetch" href="/assets/js/147.f8c98c90.js"><link rel="prefetch" href="/assets/js/148.a1db8613.js"><link rel="prefetch" href="/assets/js/149.3f6baedb.js"><link rel="prefetch" href="/assets/js/15.d34a8df4.js"><link rel="prefetch" href="/assets/js/150.d0ed51f5.js"><link rel="prefetch" href="/assets/js/151.b2b0401c.js"><link rel="prefetch" href="/assets/js/152.e650aea9.js"><link rel="prefetch" href="/assets/js/153.086cfb5b.js"><link rel="prefetch" href="/assets/js/154.996b563c.js"><link rel="prefetch" href="/assets/js/155.40fd70fa.js"><link rel="prefetch" href="/assets/js/156.69d0287c.js"><link rel="prefetch" href="/assets/js/157.5575a854.js"><link rel="prefetch" href="/assets/js/158.c8c3db15.js"><link rel="prefetch" href="/assets/js/159.62cfff25.js"><link rel="prefetch" href="/assets/js/16.6451f778.js"><link rel="prefetch" href="/assets/js/160.08eed556.js"><link rel="prefetch" href="/assets/js/161.309275e7.js"><link rel="prefetch" href="/assets/js/162.2eb8eaa9.js"><link rel="prefetch" href="/assets/js/163.44b7949e.js"><link rel="prefetch" href="/assets/js/164.6f6d645f.js"><link rel="prefetch" href="/assets/js/165.c5d88775.js"><link rel="prefetch" href="/assets/js/166.69dfbb33.js"><link rel="prefetch" href="/assets/js/167.4b1ee20c.js"><link rel="prefetch" href="/assets/js/168.1ed9dde6.js"><link rel="prefetch" href="/assets/js/169.e23242bb.js"><link rel="prefetch" href="/assets/js/17.7550e5c8.js"><link rel="prefetch" href="/assets/js/170.784b6d48.js"><link rel="prefetch" href="/assets/js/171.50a83b35.js"><link rel="prefetch" href="/assets/js/172.40c931dc.js"><link rel="prefetch" href="/assets/js/173.244612f1.js"><link rel="prefetch" href="/assets/js/174.4104b8a3.js"><link rel="prefetch" href="/assets/js/175.c2b2ee17.js"><link rel="prefetch" href="/assets/js/176.d8eaa441.js"><link rel="prefetch" href="/assets/js/177.e90c3831.js"><link rel="prefetch" href="/assets/js/178.30b27b94.js"><link rel="prefetch" href="/assets/js/179.854eb2e3.js"><link rel="prefetch" href="/assets/js/18.7a103199.js"><link rel="prefetch" href="/assets/js/180.350f5024.js"><link rel="prefetch" href="/assets/js/181.80b2d200.js"><link rel="prefetch" href="/assets/js/182.c2b971a6.js"><link rel="prefetch" href="/assets/js/183.74680f68.js"><link rel="prefetch" href="/assets/js/184.0325e3d7.js"><link rel="prefetch" href="/assets/js/185.ec78a717.js"><link rel="prefetch" href="/assets/js/186.dca301d6.js"><link rel="prefetch" href="/assets/js/187.42e89237.js"><link rel="prefetch" href="/assets/js/188.3d89a625.js"><link rel="prefetch" href="/assets/js/189.ec5bb043.js"><link rel="prefetch" href="/assets/js/19.df1fef81.js"><link rel="prefetch" href="/assets/js/190.fd14816e.js"><link rel="prefetch" href="/assets/js/191.8e55628c.js"><link rel="prefetch" href="/assets/js/192.ff48f421.js"><link rel="prefetch" href="/assets/js/193.03757d8b.js"><link rel="prefetch" href="/assets/js/194.6dbc284a.js"><link rel="prefetch" href="/assets/js/195.4ec15c3e.js"><link rel="prefetch" href="/assets/js/196.beda4d6e.js"><link rel="prefetch" href="/assets/js/197.5064a624.js"><link rel="prefetch" href="/assets/js/198.43286ea8.js"><link rel="prefetch" href="/assets/js/199.301b3707.js"><link rel="prefetch" href="/assets/js/20.e0e9251f.js"><link rel="prefetch" href="/assets/js/200.d54667f8.js"><link rel="prefetch" href="/assets/js/201.d3e38772.js"><link rel="prefetch" href="/assets/js/202.609eee44.js"><link rel="prefetch" href="/assets/js/203.891daf04.js"><link rel="prefetch" href="/assets/js/204.b1ec7758.js"><link rel="prefetch" href="/assets/js/205.419a76de.js"><link rel="prefetch" href="/assets/js/206.06dacd15.js"><link rel="prefetch" href="/assets/js/207.07d858a5.js"><link rel="prefetch" href="/assets/js/208.e9e9d1a3.js"><link rel="prefetch" href="/assets/js/209.eed886b0.js"><link rel="prefetch" href="/assets/js/21.b29bbfd0.js"><link rel="prefetch" href="/assets/js/210.1b3fc6c1.js"><link rel="prefetch" href="/assets/js/211.2828e206.js"><link rel="prefetch" href="/assets/js/212.b4145674.js"><link rel="prefetch" href="/assets/js/213.40581007.js"><link rel="prefetch" href="/assets/js/214.10021b7a.js"><link rel="prefetch" href="/assets/js/215.c63ea6cd.js"><link rel="prefetch" href="/assets/js/216.a4c7698a.js"><link rel="prefetch" href="/assets/js/217.1a0d8ee7.js"><link rel="prefetch" href="/assets/js/218.39707446.js"><link rel="prefetch" href="/assets/js/219.d88c14a5.js"><link rel="prefetch" href="/assets/js/22.40bd7391.js"><link rel="prefetch" href="/assets/js/220.f2426e81.js"><link rel="prefetch" href="/assets/js/221.ba868543.js"><link rel="prefetch" href="/assets/js/222.b176c69e.js"><link rel="prefetch" href="/assets/js/223.8d89753d.js"><link rel="prefetch" href="/assets/js/224.85f7d7c5.js"><link rel="prefetch" href="/assets/js/225.bc929c1a.js"><link rel="prefetch" href="/assets/js/226.c1a508ca.js"><link rel="prefetch" href="/assets/js/227.50eb23c4.js"><link rel="prefetch" href="/assets/js/228.c830f0ed.js"><link rel="prefetch" href="/assets/js/229.f85d6beb.js"><link rel="prefetch" href="/assets/js/23.4097c0c1.js"><link rel="prefetch" href="/assets/js/230.96c62d70.js"><link rel="prefetch" href="/assets/js/231.612e981b.js"><link rel="prefetch" href="/assets/js/232.6e0c1ae8.js"><link rel="prefetch" href="/assets/js/233.a1c9f425.js"><link rel="prefetch" href="/assets/js/234.d2e0ad23.js"><link rel="prefetch" href="/assets/js/235.279f0b35.js"><link rel="prefetch" href="/assets/js/236.7ab53cbc.js"><link rel="prefetch" href="/assets/js/237.43a4af2e.js"><link rel="prefetch" href="/assets/js/238.fe5c7fb7.js"><link rel="prefetch" href="/assets/js/239.75b41961.js"><link rel="prefetch" href="/assets/js/24.80d0ea88.js"><link rel="prefetch" href="/assets/js/240.51559559.js"><link rel="prefetch" href="/assets/js/241.694be33f.js"><link rel="prefetch" href="/assets/js/242.a703c270.js"><link rel="prefetch" href="/assets/js/243.da64b731.js"><link rel="prefetch" href="/assets/js/244.15eeffbb.js"><link rel="prefetch" href="/assets/js/245.5f3dc510.js"><link rel="prefetch" href="/assets/js/246.784553ea.js"><link rel="prefetch" href="/assets/js/247.f8ea5fdf.js"><link rel="prefetch" href="/assets/js/248.bada25c2.js"><link rel="prefetch" href="/assets/js/249.bc9dd416.js"><link rel="prefetch" href="/assets/js/25.e8691b15.js"><link rel="prefetch" href="/assets/js/250.1f4519ae.js"><link rel="prefetch" href="/assets/js/251.9f27016e.js"><link rel="prefetch" href="/assets/js/252.9789c0ce.js"><link rel="prefetch" href="/assets/js/253.61d9c2ff.js"><link rel="prefetch" href="/assets/js/254.462c1534.js"><link rel="prefetch" href="/assets/js/255.31d681e1.js"><link rel="prefetch" href="/assets/js/256.3f32f819.js"><link rel="prefetch" href="/assets/js/257.d63fd914.js"><link rel="prefetch" href="/assets/js/258.5bcfe9aa.js"><link rel="prefetch" href="/assets/js/259.b90ca4b1.js"><link rel="prefetch" href="/assets/js/26.4811050d.js"><link rel="prefetch" href="/assets/js/260.ec35a84d.js"><link rel="prefetch" href="/assets/js/261.adaf3e9c.js"><link rel="prefetch" href="/assets/js/262.ffb4323c.js"><link rel="prefetch" href="/assets/js/263.7eac7f34.js"><link rel="prefetch" href="/assets/js/264.20216400.js"><link rel="prefetch" href="/assets/js/265.63289daa.js"><link rel="prefetch" href="/assets/js/266.e575e597.js"><link rel="prefetch" href="/assets/js/267.b4d4982d.js"><link rel="prefetch" href="/assets/js/268.fb0ad32c.js"><link rel="prefetch" href="/assets/js/269.eff28f67.js"><link rel="prefetch" href="/assets/js/27.9457ca9e.js"><link rel="prefetch" href="/assets/js/270.0fe5a756.js"><link rel="prefetch" href="/assets/js/271.965a0032.js"><link rel="prefetch" href="/assets/js/272.dadc37da.js"><link rel="prefetch" href="/assets/js/273.74c233e5.js"><link rel="prefetch" href="/assets/js/274.faaf2837.js"><link rel="prefetch" href="/assets/js/275.ebf1a886.js"><link rel="prefetch" href="/assets/js/276.88095e66.js"><link rel="prefetch" href="/assets/js/277.8de99fb3.js"><link rel="prefetch" href="/assets/js/278.c5ccf883.js"><link rel="prefetch" href="/assets/js/279.d2a2a622.js"><link rel="prefetch" href="/assets/js/28.15e050ac.js"><link rel="prefetch" href="/assets/js/280.ccc75b75.js"><link rel="prefetch" href="/assets/js/281.6a99caed.js"><link rel="prefetch" href="/assets/js/282.1a5662a1.js"><link rel="prefetch" href="/assets/js/283.3f1abb3d.js"><link rel="prefetch" href="/assets/js/284.e8083077.js"><link rel="prefetch" href="/assets/js/285.d5502c5a.js"><link rel="prefetch" href="/assets/js/286.0bf35ff3.js"><link rel="prefetch" href="/assets/js/287.f8606aa4.js"><link rel="prefetch" href="/assets/js/288.43aafdd0.js"><link rel="prefetch" href="/assets/js/289.1f225e1f.js"><link rel="prefetch" href="/assets/js/29.fc604ea8.js"><link rel="prefetch" href="/assets/js/290.511c1ecb.js"><link rel="prefetch" href="/assets/js/291.2a97f2f8.js"><link rel="prefetch" href="/assets/js/292.60f07469.js"><link rel="prefetch" href="/assets/js/293.513e4f12.js"><link rel="prefetch" href="/assets/js/294.1e3142f1.js"><link rel="prefetch" href="/assets/js/295.f6dd6bb0.js"><link rel="prefetch" href="/assets/js/296.f27849d1.js"><link rel="prefetch" href="/assets/js/297.8299d6c2.js"><link rel="prefetch" href="/assets/js/298.736bb09f.js"><link rel="prefetch" href="/assets/js/299.1a1d84bb.js"><link rel="prefetch" href="/assets/js/30.0dc5bdaf.js"><link rel="prefetch" href="/assets/js/300.b1e44f73.js"><link rel="prefetch" href="/assets/js/301.f4b3766a.js"><link rel="prefetch" href="/assets/js/302.1b3978e5.js"><link rel="prefetch" href="/assets/js/303.1d2d380e.js"><link rel="prefetch" href="/assets/js/304.9b1eb3e1.js"><link rel="prefetch" href="/assets/js/305.c0a6482f.js"><link rel="prefetch" href="/assets/js/306.2da8847d.js"><link rel="prefetch" href="/assets/js/307.de86dbf4.js"><link rel="prefetch" href="/assets/js/308.64af9f4e.js"><link rel="prefetch" href="/assets/js/309.a43d581f.js"><link rel="prefetch" href="/assets/js/31.56b3711d.js"><link rel="prefetch" href="/assets/js/310.4d6c6ec0.js"><link rel="prefetch" href="/assets/js/311.10e0994d.js"><link rel="prefetch" href="/assets/js/312.444c5360.js"><link rel="prefetch" href="/assets/js/313.ae5b8015.js"><link rel="prefetch" href="/assets/js/314.48737017.js"><link rel="prefetch" href="/assets/js/315.a8d7c9f0.js"><link rel="prefetch" href="/assets/js/316.2ce73af7.js"><link rel="prefetch" href="/assets/js/317.8bbe6a4f.js"><link rel="prefetch" href="/assets/js/318.18ea088d.js"><link rel="prefetch" href="/assets/js/319.f99b3850.js"><link rel="prefetch" href="/assets/js/32.98e21745.js"><link rel="prefetch" href="/assets/js/320.bf33a93f.js"><link rel="prefetch" href="/assets/js/321.7795d606.js"><link rel="prefetch" href="/assets/js/322.15ee300f.js"><link rel="prefetch" href="/assets/js/323.8f69f55d.js"><link rel="prefetch" href="/assets/js/324.56376288.js"><link rel="prefetch" href="/assets/js/325.1ddb3a11.js"><link rel="prefetch" href="/assets/js/326.dd92c51e.js"><link rel="prefetch" href="/assets/js/327.636535c1.js"><link rel="prefetch" href="/assets/js/328.ecab5d99.js"><link rel="prefetch" href="/assets/js/329.f3471637.js"><link rel="prefetch" href="/assets/js/33.5cb151f0.js"><link rel="prefetch" href="/assets/js/330.6bcc345d.js"><link rel="prefetch" href="/assets/js/331.2c6587ef.js"><link rel="prefetch" href="/assets/js/332.55251f19.js"><link rel="prefetch" href="/assets/js/333.913c2b69.js"><link rel="prefetch" href="/assets/js/334.35003154.js"><link rel="prefetch" href="/assets/js/335.9801f78b.js"><link rel="prefetch" href="/assets/js/336.0e7bcd51.js"><link rel="prefetch" href="/assets/js/337.a1d950ac.js"><link rel="prefetch" href="/assets/js/338.8715b7e7.js"><link rel="prefetch" href="/assets/js/339.aa147c68.js"><link rel="prefetch" href="/assets/js/34.d8f76763.js"><link rel="prefetch" href="/assets/js/340.7f66359e.js"><link rel="prefetch" href="/assets/js/341.16692663.js"><link rel="prefetch" href="/assets/js/342.acae3279.js"><link rel="prefetch" href="/assets/js/343.fb6498a0.js"><link rel="prefetch" href="/assets/js/344.d987f6c4.js"><link rel="prefetch" href="/assets/js/345.2e2a1575.js"><link rel="prefetch" href="/assets/js/346.23cb7ed6.js"><link rel="prefetch" href="/assets/js/347.dc457dab.js"><link rel="prefetch" href="/assets/js/348.d278ae56.js"><link rel="prefetch" href="/assets/js/349.f472beb4.js"><link rel="prefetch" href="/assets/js/35.1927e840.js"><link rel="prefetch" href="/assets/js/350.693f46d7.js"><link rel="prefetch" href="/assets/js/351.8379e2bc.js"><link rel="prefetch" href="/assets/js/352.3c7bdcc6.js"><link rel="prefetch" href="/assets/js/353.327ce979.js"><link rel="prefetch" href="/assets/js/354.cd7508a0.js"><link rel="prefetch" href="/assets/js/355.6180aaad.js"><link rel="prefetch" href="/assets/js/356.66d21afe.js"><link rel="prefetch" href="/assets/js/357.acd36a95.js"><link rel="prefetch" href="/assets/js/358.543c7a5f.js"><link rel="prefetch" href="/assets/js/359.c255a149.js"><link rel="prefetch" href="/assets/js/36.0d770678.js"><link rel="prefetch" href="/assets/js/37.3bdb5cfe.js"><link rel="prefetch" href="/assets/js/38.3aedc88f.js"><link rel="prefetch" href="/assets/js/39.7033fe79.js"><link rel="prefetch" href="/assets/js/4.a76891f2.js"><link rel="prefetch" href="/assets/js/40.8ad3fb1f.js"><link rel="prefetch" href="/assets/js/42.e363d915.js"><link rel="prefetch" href="/assets/js/43.1132b9a3.js"><link rel="prefetch" href="/assets/js/44.fdaae5bc.js"><link rel="prefetch" href="/assets/js/45.d73821d7.js"><link rel="prefetch" href="/assets/js/46.bf9a345e.js"><link rel="prefetch" href="/assets/js/47.5c4abc58.js"><link rel="prefetch" href="/assets/js/48.34950cd2.js"><link rel="prefetch" href="/assets/js/49.1ec0762a.js"><link rel="prefetch" href="/assets/js/5.65db3320.js"><link rel="prefetch" href="/assets/js/50.652c485a.js"><link rel="prefetch" href="/assets/js/51.877b9a08.js"><link rel="prefetch" href="/assets/js/52.ead5e03f.js"><link rel="prefetch" href="/assets/js/55.1a84271a.js"><link rel="prefetch" href="/assets/js/56.7ec80127.js"><link rel="prefetch" href="/assets/js/57.b81aaa00.js"><link rel="prefetch" href="/assets/js/58.6ac03d81.js"><link rel="prefetch" href="/assets/js/59.0d1a6f34.js"><link rel="prefetch" href="/assets/js/6.145042a1.js"><link rel="prefetch" href="/assets/js/60.f62b6344.js"><link rel="prefetch" href="/assets/js/61.9e4959cd.js"><link rel="prefetch" href="/assets/js/63.7df25f03.js"><link rel="prefetch" href="/assets/js/64.247e1298.js"><link rel="prefetch" href="/assets/js/65.c8329589.js"><link rel="prefetch" href="/assets/js/66.68670215.js"><link rel="prefetch" href="/assets/js/67.1765e15d.js"><link rel="prefetch" href="/assets/js/69.fd3bd675.js"><link rel="prefetch" href="/assets/js/7.64b824a1.js"><link rel="prefetch" href="/assets/js/70.be083088.js"><link rel="prefetch" href="/assets/js/71.34d2826d.js"><link rel="prefetch" href="/assets/js/72.19ab5be1.js"><link rel="prefetch" href="/assets/js/73.19afbfb9.js"><link rel="prefetch" href="/assets/js/74.f6adbfae.js"><link rel="prefetch" href="/assets/js/75.5d6ed878.js"><link rel="prefetch" href="/assets/js/76.a98f9057.js"><link rel="prefetch" href="/assets/js/77.2c7ee7a9.js"><link rel="prefetch" href="/assets/js/78.65ea061d.js"><link rel="prefetch" href="/assets/js/79.4893c957.js"><link rel="prefetch" href="/assets/js/8.7ff72049.js"><link rel="prefetch" href="/assets/js/80.72463664.js"><link rel="prefetch" href="/assets/js/81.99bc6553.js"><link rel="prefetch" href="/assets/js/82.653fa55a.js"><link rel="prefetch" href="/assets/js/83.0878479e.js"><link rel="prefetch" href="/assets/js/84.82a035c3.js"><link rel="prefetch" href="/assets/js/85.1b7de756.js"><link rel="prefetch" href="/assets/js/86.327e80da.js"><link rel="prefetch" href="/assets/js/87.51de929e.js"><link rel="prefetch" href="/assets/js/88.211a0254.js"><link rel="prefetch" href="/assets/js/89.ca5538d2.js"><link rel="prefetch" href="/assets/js/9.158c7fa3.js"><link rel="prefetch" href="/assets/js/90.d5e79edf.js"><link rel="prefetch" href="/assets/js/91.1be6359e.js"><link rel="prefetch" href="/assets/js/92.cbb1aa69.js"><link rel="prefetch" href="/assets/js/93.59feba4a.js"><link rel="prefetch" href="/assets/js/94.8cc33ac2.js"><link rel="prefetch" href="/assets/js/95.b0ae84fc.js"><link rel="prefetch" href="/assets/js/96.d019867f.js"><link rel="prefetch" href="/assets/js/97.3271008e.js"><link rel="prefetch" href="/assets/js/98.85cad3d9.js"><link rel="prefetch" href="/assets/js/99.45fc9fb4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.47be26a6.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">lwy's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pages/f6054a/" class="nav-link">å¯¼èˆªğŸš€â€‹</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JavaåŸºç¡€</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e05ef5/" class="nav-link">JavaSE</a></li></ul></li><li class="dropdown-item"><h4>JavaWeb</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5cda88/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/cea341/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/8f83ba/" class="nav-link">Servlet</a></li><li class="dropdown-subitem"><a href="/pages/8bc1c4/" class="nav-link">MVC</a></li><li class="dropdown-subitem"><a href="/pages/f883e2/" class="nav-link">filter|listener</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Springç”Ÿæ€" class="dropdown-title"><!----> <span class="title" style="display:;">Springç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/462a90/" class="nav-link">Spring5</a></li><li class="dropdown-item"><!----> <a href="/pages/2e990c/" class="nav-link">SpringMVC</a></li><li class="dropdown-item"><!----> <a href="/pages/0d4af0/" class="nav-link">SpringBoot2</a></li><li class="dropdown-item"><!----> <a href="/pages/870083/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/pages/66babb/" class="nav-link">SpringSecurity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><!----> <span class="title" style="display:;">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æœç´¢å¼•æ“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/596552/" class="nav-link">ElasticSearch</a></li></ul></li><li class="dropdown-item"><h4>æ¶ˆæ¯é˜Ÿåˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e645d9/" class="nav-link">RabbitMQ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡å™¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9551ee/" class="nav-link">NginxğŸŒ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/48771f/" class="nav-link">Dubbo</a></li></ul></li><li class="dropdown-item"><h4>å¸¸ç”¨æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/46271f/" class="nav-link">SSO</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§æ•°æ®" class="dropdown-title"><!----> <span class="title" style="display:;">å¤§æ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b9268d/" class="nav-link">PythonåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/e0bd06/" class="nav-link">æ•°æ®åˆ†æ</a></li></ul></li><li class="dropdown-item"><h4>ç¯å¢ƒæ­å»º</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/600247/" class="nav-link">Hadoopé›†ç¾¤</a></li><li class="dropdown-subitem"><a href="/pages/cdeb68/" class="nav-link">KVMè™šæ‹ŸåŒ–æŠ€æœ¯</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e72480/" class="nav-link">MySQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7ab056/" class="nav-link">NoSQLæ•°æ®åº“æ¦‚è®º</a></li><li class="dropdown-subitem"><a href="/pages/e9cc9f/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/pages/91197c/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/pages/2aae92/" class="nav-link">HBase</a></li></ul></li><li class="dropdown-item"><h4>æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0e424f/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/pages/e0594a/" class="nav-link">MyBatis-Plus</a></li><li class="dropdown-subitem"><a href="/pages/1f54f3/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ShardingSphere</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><!----> <span class="title" style="display:;">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/99e9dc/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/pages/90cc29/" class="nav-link">DockeråŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/90ac28/" class="nav-link">Dockeré«˜çº§</a></li></ul></li><li class="dropdown-item"><h4>ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/45eca1/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/pages/34892c/" class="nav-link">Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•" class="dropdown-title"><!----> <span class="title" style="display:;">é¢è¯•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/40ee62/" class="nav-link">åŠ›æ‰£ç®—æ³•é¢˜</a></li><li class="dropdown-item"><!----> <a href="/pages/39659d/" class="nav-link">åŸºç¡€å¼€å‘ç¯‡</a></li><li class="dropdown-item"><h4>è¿›é˜¶ç¯‡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/60k8c2/" class="nav-link">ä¸­é«˜è¿›é˜¶ç¯‡</a></li><li class="dropdown-subitem"><a href="/pages/29c8c2/" class="nav-link">è°·ç²’å•†åŸ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><!----> <span class="title" style="display:;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/myfriends/" class="nav-link">å‹æƒ…é“¾æ¥</a></li><li class="dropdown-item"><!----> <a href="/pages/mdUse/" class="nav-link">mdä½¿ç”¨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æœ¬ç«™" class="dropdown-title"><!----> <span class="title" style="display:;">æœ¬ç«™</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ç´¢å¼•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9013e4/" class="nav-link">å…³äº</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="img/qie.png"> <div class="blogger-info"><h3>lwy</h3> <span>ä¸€èµ·å­¦ä¹ ç¼–ç¨‹!</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/pages/f6054a/" class="nav-link">å¯¼èˆªğŸš€â€‹</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JavaåŸºç¡€</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e05ef5/" class="nav-link">JavaSE</a></li></ul></li><li class="dropdown-item"><h4>JavaWeb</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5cda88/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/cea341/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/8f83ba/" class="nav-link">Servlet</a></li><li class="dropdown-subitem"><a href="/pages/8bc1c4/" class="nav-link">MVC</a></li><li class="dropdown-subitem"><a href="/pages/f883e2/" class="nav-link">filter|listener</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Springç”Ÿæ€" class="dropdown-title"><!----> <span class="title" style="display:;">Springç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/462a90/" class="nav-link">Spring5</a></li><li class="dropdown-item"><!----> <a href="/pages/2e990c/" class="nav-link">SpringMVC</a></li><li class="dropdown-item"><!----> <a href="/pages/0d4af0/" class="nav-link">SpringBoot2</a></li><li class="dropdown-item"><!----> <a href="/pages/870083/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/pages/66babb/" class="nav-link">SpringSecurity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><!----> <span class="title" style="display:;">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æœç´¢å¼•æ“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/596552/" class="nav-link">ElasticSearch</a></li></ul></li><li class="dropdown-item"><h4>æ¶ˆæ¯é˜Ÿåˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e645d9/" class="nav-link">RabbitMQ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡å™¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9551ee/" class="nav-link">NginxğŸŒ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/48771f/" class="nav-link">Dubbo</a></li></ul></li><li class="dropdown-item"><h4>å¸¸ç”¨æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/46271f/" class="nav-link">SSO</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§æ•°æ®" class="dropdown-title"><!----> <span class="title" style="display:;">å¤§æ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b9268d/" class="nav-link">PythonåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/e0bd06/" class="nav-link">æ•°æ®åˆ†æ</a></li></ul></li><li class="dropdown-item"><h4>ç¯å¢ƒæ­å»º</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/600247/" class="nav-link">Hadoopé›†ç¾¤</a></li><li class="dropdown-subitem"><a href="/pages/cdeb68/" class="nav-link">KVMè™šæ‹ŸåŒ–æŠ€æœ¯</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e72480/" class="nav-link">MySQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7ab056/" class="nav-link">NoSQLæ•°æ®åº“æ¦‚è®º</a></li><li class="dropdown-subitem"><a href="/pages/e9cc9f/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/pages/91197c/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/pages/2aae92/" class="nav-link">HBase</a></li></ul></li><li class="dropdown-item"><h4>æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0e424f/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/pages/e0594a/" class="nav-link">MyBatis-Plus</a></li><li class="dropdown-subitem"><a href="/pages/1f54f3/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ShardingSphere</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><!----> <span class="title" style="display:;">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/99e9dc/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/pages/90cc29/" class="nav-link">DockeråŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/90ac28/" class="nav-link">Dockeré«˜çº§</a></li></ul></li><li class="dropdown-item"><h4>ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/45eca1/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/pages/34892c/" class="nav-link">Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•" class="dropdown-title"><!----> <span class="title" style="display:;">é¢è¯•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/40ee62/" class="nav-link">åŠ›æ‰£ç®—æ³•é¢˜</a></li><li class="dropdown-item"><!----> <a href="/pages/39659d/" class="nav-link">åŸºç¡€å¼€å‘ç¯‡</a></li><li class="dropdown-item"><h4>è¿›é˜¶ç¯‡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/60k8c2/" class="nav-link">ä¸­é«˜è¿›é˜¶ç¯‡</a></li><li class="dropdown-subitem"><a href="/pages/29c8c2/" class="nav-link">è°·ç²’å•†åŸ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><!----> <span class="title" style="display:;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/myfriends/" class="nav-link">å‹æƒ…é“¾æ¥</a></li><li class="dropdown-item"><!----> <a href="/pages/mdUse/" class="nav-link">mdä½¿ç”¨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æœ¬ç«™" class="dropdown-title"><!----> <span class="title" style="display:;">æœ¬ç«™</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ç´¢å¼•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9013e4/" class="nav-link">å…³äº</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL-åŸºç¡€</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e72480/" class="sidebar-link">MySQL-ç®€ä»‹</a></li><li><a href="/database/MySQL/MySQL-CRUD/" class="sidebar-link">MySQL-CRUD</a></li><li><a href="/database/MySQL/MySQL-function/" class="sidebar-link">MySQL-å‡½æ•°</a></li><li><a href="/database/MySQL/MySQ-ManyTableQuery/" class="sidebar-link">MySQL å¤šè¡¨æŸ¥è¯¢</a></li><li><a href="/database/MySQL/MySQL-ConstraintsAndSelf-growth/" class="sidebar-link">MySQL çº¦æŸä¸è‡ªå¢é•¿</a></li><li><a href="/database/MySQL/MySQL_IndexesAndTransactions/" class="sidebar-link">MySQL ç´¢å¼•ä¸äº‹åŠ¡</a></li><li><a href="/database/MySQL/MySQL_Table_type_storage_engine/" class="sidebar-link">MySQL è¡¨ç±»å‹å’Œå­˜å‚¨å¼•æ“</a></li><li><a href="/database/MySQL/MySQL_View_Manage/" class="sidebar-link">MySQL è§†å›¾ä¸ç®¡ç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL-è¿›é˜¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/database/MySQL/MySQL_Storage_Engine/" class="sidebar-link">MySQL å­˜å‚¨å¼•æ“</a></li><li><a href="/database/MySQL/MySQL_Advanced_index/" class="sidebar-link">MySQL ç´¢å¼•</a></li><li><a href="/database/MySQL/MYSQL_SQL_optimization/" class="sidebar-link">MySQL SQLä¼˜åŒ–</a></li><li><a href="/database/MySQL/MySQL_Advanced_View/" class="sidebar-link">MySQL è§†å›¾/å­˜å‚¨è¿‡ç¨‹/è§¦å‘å™¨</a></li><li><a href="/database/MySQL/MySQL_lock/" class="sidebar-link">MySQL é”</a></li><li><a href="/database/MySQL/MySQL_InnoDB_engine/" class="sidebar-link">MySQL InnoDBå¼•æ“</a></li><li><a href="/database/MySQL/MySQL_Advanced_manager/" class="sidebar-link">MySQL ç®¡ç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL-è¿ç»´</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/database/MySQL/MySQL_journal/" class="sidebar-link">MySQL æ—¥å¿—</a></li><li><a href="/database/MySQL/MySQL_Master_slave_replication/" class="sidebar-link">MySQL ä¸»ä»å¤åˆ¶</a></li><li><a href="/database/MySQL/MySQL_Mycat/" class="sidebar-link">MySQL åˆ†åº“åˆ†è¡¨</a></li><li><a href="/database/MySQL/MySQL_Read_write_separation/" class="sidebar-link">MySQL è¯»å†™åˆ†ç¦»</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NoSQL æ•°æ®åº“æ¦‚è®º</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/7ab056/" class="sidebar-link">éå…³ç³»å‹æ•°æ®åº“</a></li><li><a href="/pages/8efc75/" class="sidebar-link">NoSQLæ•°æ®åº“ç†è®ºåŸºç¡€</a></li><li><a href="/pages/e2ef11/" class="sidebar-link">NoSQLæ•°æ®åº“åˆ†ç±»</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Redis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e9cc9f/" class="sidebar-link">Redis æ•°æ®åº“ç®€ä»‹</a></li><li><a href="/database/Reids/Redis_install/" class="sidebar-link">Redis æ¦‚è¿°å®‰è£…</a></li><li><a href="/database/Reids/Redis_datatype/" class="sidebar-link">å¸¸ç”¨äº”å¤§æ•°æ®ç±»å‹</a></li><li><a href="/database/Reids/Redis_conf/" class="sidebar-link">Redis é…ç½®æ–‡ä»¶</a></li><li><a href="/database/Reids/Redis_PublishAndSubscribe/" class="sidebar-link">Redis å‘å¸ƒå’Œè®¢é˜…</a></li><li><a href="/database/Reids/Redis_Newdatatype/" class="sidebar-link">Redis æ–°æ•°æ®ç±»å‹</a></li><li><a href="/database/Reids/Redis_Java/" class="sidebar-link">Redis Javaæ•´åˆ</a></li><li><a href="/database/Reids/Redis_AffairAndLock/" class="sidebar-link">Redis äº‹åŠ¡ä¸é”</a></li><li><a href="/database/Reids/Redis_Persistence/" class="sidebar-link">Redis æŒä¹…åŒ–æ“ä½œ</a></li><li><a href="/database/Reids/Redis_MasterSlaveCopy/" class="sidebar-link">Redis ä¸»ä»å¤åˆ¶</a></li><li><a href="/database/Reids/Redis_ClusterBuild/" class="sidebar-link">Redis é›†ç¾¤æ­å»º</a></li><li><a href="/database/Reids/Redis_CacheProblem/" class="sidebar-link">Redis ç¼“å­˜é—®é¢˜</a></li><li><a href="/database/Reids/Redis_Distributedlock/" class="sidebar-link">Redis åˆ†å¸ƒå¼é”</a></li><li><a href="/database/Reids/Redis_6newfunction/" class="sidebar-link">Redis 6.0æ–°åŠŸèƒ½</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MongoDB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/91197c/" class="sidebar-link">MongoDB ç›¸å…³æ¦‚å¿µ</a></li><li><a href="/database/MongoDB/MongoDB_install/" class="sidebar-link">MongoDB å®‰è£…</a></li><li><a href="/database/MongoDB/MongoDB_command/" class="sidebar-link">MongoDB å¸¸ç”¨å‘½ä»¤</a></li><li><a href="/database/MongoDB/MongoDB_index/" class="sidebar-link">MongoDB ç´¢å¼•-Index</a></li><li><a href="/database/MongoDB/MongoDB_Java/" class="sidebar-link">MongoDB æ•´åˆJavaæ¡ˆä¾‹</a></li><li><a href="/database/MongoDB/MongoDB_ClusterAndSecurity/" class="sidebar-link">MongoDB é›†ç¾¤å’Œå®‰å…¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HBase</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/2aae92/" class="sidebar-link">HBaseç®€ä»‹</a></li><li><a href="/pages/e33def/" class="sidebar-link">HBaseç³»ç»Ÿæ¶æ„</a></li><li><a href="/pages/c23c27/" class="sidebar-link">HBaseæ•°æ®å®šä¹‰</a></li><li><a href="/pages/0ef396/" class="sidebar-link">HBaseæ•°æ®æ“ä½œ</a></li><li><a href="/pages/e16a48/" class="sidebar-link">HBaseåŸºæœ¬åŸç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MyBatis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a7566d/" class="sidebar-link">MyBatis å…¥é—¨æ¡ˆä¾‹</a></li><li><a href="/pages/ba216f/" class="sidebar-link">XML é…ç½®</a></li><li><a href="/pages/c86777/" class="sidebar-link">XML æ˜ å°„æ–‡ä»¶</a></li><li><a href="/pages/72d6fc/" class="sidebar-link">åŠ¨æ€SQL</a></li><li><a href="/pages/c47d25/" class="sidebar-link">ç¼“å­˜</a></li><li><a href="/pages/b147f3/" class="sidebar-link">MyBatisçš„é€†å‘å·¥ç¨‹</a></li><li><a href="/pages/ca7f77/" class="sidebar-link">åˆ†é¡µæ’ä»¶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MyBatis-Plus</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e0594a/" class="sidebar-link">MyBatis-Plus ç®€ä»‹</a></li><li><a href="/pages/7e2604/" class="sidebar-link">MyBatis-Plus å…¥é—¨æ¡ˆä¾‹</a></li><li><a href="/pages/bcc63c/" class="sidebar-link">MyBatis-Plus åŸºæœ¬CRUD</a></li><li><a href="/pages/acce37/" class="sidebar-link">MyBatis-Plus å¸¸ç”¨æ³¨è§£</a></li><li><a href="/pages/004342/" class="sidebar-link">æ¡ä»¶æ„é€ å™¨å’Œå¸¸ç”¨æ¥å£</a></li><li><a href="/pages/160497/" class="sidebar-link">MyBatis-Plus æ’ä»¶</a></li><li><a href="/pages/d70dfe/" class="sidebar-link">MyBatis-Plus é€šç”¨æšä¸¾</a></li><li><a href="/pages/b0e3b4/" class="sidebar-link">MyBatis-Plus ä»£ç ç”Ÿæˆå™¨</a></li><li><a href="/pages/575daf/" class="sidebar-link">MyBatis-Plus å¤šæ•°æ®æº</a></li><li><a href="/pages/8457cc/" class="sidebar-link">MyBatisXæ’ä»¶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Sharding-Sphere</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1f54f3/" aria-current="page" class="active sidebar-link">ShardingSphere</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=studynotes" title="åˆ†ç±»" data-v-06225672>studynotes</a></li><li data-v-06225672><a href="/categories/?category=database" title="åˆ†ç±»" data-v-06225672>database</a></li><li data-v-06225672><a href="/categories/?category=ShardingSphere" title="åˆ†ç±»" data-v-06225672>ShardingSphere</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>lwy</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-11-10</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">ShardingSphere<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#_1-åŸºæœ¬æ¦‚å¿µ">1.åŸºæœ¬æ¦‚å¿µ</a></li><li><a href="#_1-1-shardingsphereç®€ä»‹">1.1.ShardingSphereç®€ä»‹</a></li><li><a href="#_1-2-ä»€ä¹ˆæ˜¯shardingsphere">1.2.ä»€ä¹ˆæ˜¯ShardingSphere?</a></li><li><a href="#_1-3-ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨">1.3.ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨ï¼Ÿ</a></li><li><a href="#_1-4-åˆ†åº“åˆ†è¡¨çš„æ–¹å¼">1.4.åˆ†åº“åˆ†è¡¨çš„æ–¹å¼</a><ul><li><a href="#_1-4-1-å‚ç›´åˆ†è¡¨">1.4.1.å‚ç›´åˆ†è¡¨</a></li><li><a href="#_1-4-2-å‚ç›´åˆ†åº“">1.4.2.å‚ç›´åˆ†åº“</a></li><li><a href="#_1-4-3-æ°´å¹³åˆ†åº“">1.4.3.æ°´å¹³åˆ†åº“</a></li><li><a href="#_1-4-4-æ°´å¹³åˆ†è¡¨">1.4.4.æ°´å¹³åˆ†è¡¨</a></li><li><a href="#_1-4-5-åˆ†åº“åˆ†è¡¨çš„åº”ç”¨å’Œé—®é¢˜">1.4.5.åˆ†åº“åˆ†è¡¨çš„åº”ç”¨å’Œé—®é¢˜</a></li></ul></li><li><a href="#_2-sharding-jdbc-åˆ†åº“åˆ†è¡¨æ“ä½œ">2.Sharding-JDBC åˆ†åº“åˆ†è¡¨æ“ä½œ</a></li><li><a href="#_2-1-shardingsphere-jdbc-ç®€ä»‹">2.1.ShardingSphere-JDBC ç®€ä»‹</a></li><li><a href="#_2-2-sharding-jdbc-å®ç°æ°´å¹³åˆ†è¡¨">2.2.Sharding-JDBC å®ç°æ°´å¹³åˆ†è¡¨</a><ul><li><a href="#_2-2-1-æ­å»ºç¯å¢ƒ">2.2.1.æ­å»ºç¯å¢ƒ</a></li><li><a href="#_2-2-2-åˆ›å»ºæ•°æ®åº“ã€æ•°æ®è¡¨">2.2.2.åˆ›å»ºæ•°æ®åº“ã€æ•°æ®è¡¨</a></li><li><a href="#_2-2-3-ç¼–å†™ä»£ç ">2.2.3.ç¼–å†™ä»£ç </a></li><li><a href="#_2-2-4-é…ç½®æ°´å¹³åˆ†è¡¨ç­–ç•¥">2.2.4.é…ç½®æ°´å¹³åˆ†è¡¨ç­–ç•¥</a></li><li><a href="#_2-2-5-ç¼–å†™æµ‹è¯•ä»£ç ">2.2.5.ç¼–å†™æµ‹è¯•ä»£ç </a></li></ul></li><li><a href="#_2-3-sharding-jdbc-å®ç°æ°´å¹³åˆ†åº“">2.3.Sharding-JDBC å®ç°æ°´å¹³åˆ†åº“</a><ul><li><a href="#_2-3-1-éœ€æ±‚åˆ†æ">2.3.1.éœ€æ±‚åˆ†æ</a></li><li><a href="#_2-3-2-åˆ›å»ºæ•°æ®åº“-æ•°æ®è¡¨">2.3.2.åˆ›å»ºæ•°æ®åº“ï¼Œæ•°æ®è¡¨</a></li><li><a href="#_2-3-3-é…ç½®æ°´å¹³åˆ†åº“ç­–ç•¥">2.3.3.é…ç½®æ°´å¹³åˆ†åº“ç­–ç•¥</a></li></ul></li><li><a href="#_2-4-sharding-jdbc-å®ç°å‚ç›´åˆ†åº“-ä¸“åº“ä¸“è¡¨">2.4.Sharding-JDBC å®ç°å‚ç›´åˆ†åº“(ä¸“åº“ä¸“è¡¨)</a><ul><li><a href="#éœ€æ±‚åˆ†æ">éœ€æ±‚åˆ†æ</a></li><li><a href="#_2-4-1-åˆ›å»ºç”¨æˆ·æ•°æ®åº“ã€æ•°æ®è¡¨">2.4.1.åˆ›å»ºç”¨æˆ·æ•°æ®åº“ã€æ•°æ®è¡¨</a></li><li><a href="#_2-4-2-ç¼–å†™userä»£ç ">2.4.2.ç¼–å†™Userä»£ç </a></li><li><a href="#_2-4-3-é…ç½®å‚ç›´åˆ†åº“ç­–ç•¥">2.4.3.é…ç½®å‚ç›´åˆ†åº“ç­–ç•¥</a></li><li><a href="#_2-4-4-ç¼–å†™æµ‹è¯•ä»£ç ">2.4.4.ç¼–å†™æµ‹è¯•ä»£ç </a></li></ul></li><li><a href="#_2-5-sharding-jdbc-å…¬å…±è¡¨">2.5.Sharding-JDBC å…¬å…±è¡¨</a><ul><li><a href="#_2-5-1-å…¬å…±è¡¨æ¦‚å¿µ">2.5.1.å…¬å…±è¡¨æ¦‚å¿µ</a></li><li><a href="#_2-5-2-åœ¨å¤šä¸ªæ•°æ®åº“ä¸­åˆ›å»ºç›¸åŒç»“æ„çš„å…¬å…±è¡¨">2.5.2.åœ¨å¤šä¸ªæ•°æ®åº“ä¸­åˆ›å»ºç›¸åŒç»“æ„çš„å…¬å…±è¡¨</a></li><li><a href="#_2-5-3-å…¬å…±è¡¨é…ç½®">2.5.3.å…¬å…±è¡¨é…ç½®</a></li><li><a href="#_2-5-4-ç¼–å†™å…¬å…±è¡¨çš„å®ä½“ç±»åŠmapper">2.5.4.ç¼–å†™å…¬å…±è¡¨çš„å®ä½“ç±»åŠmapper</a></li><li><a href="#_2-5-5-ç¼–å†™æµ‹è¯•ä»£ç ">2.5.5.ç¼–å†™æµ‹è¯•ä»£ç </a></li></ul></li><li><a href="#_2-6-sharding-jdbc-å®ç°è¯»å†™åˆ†ç¦»">2.6.Sharding-JDBC å®ç°è¯»å†™åˆ†ç¦»</a><ul><li><a href="#_2-6-1-è¯»å†™åˆ†ç¦»æ¦‚å¿µ">2.6.1.è¯»å†™åˆ†ç¦»æ¦‚å¿µ</a></li><li><a href="#_2-6-2-è¯»å†™åŸç†">2.6.2.è¯»å†™åŸç†</a></li><li><a href="#_2-6-3-sharding-jdbc-è¯»å†™åˆ†ç¦»">2.6.3.Sharding-JDBC è¯»å†™åˆ†ç¦»</a></li><li><a href="#_2-6-4-mysqlé…ç½®è¯»å†™åˆ†ç¦»">2.6.4.Mysqlé…ç½®è¯»å†™åˆ†ç¦»</a></li><li><a href="#_2-6-5-sharding-jdbc-æ“ä½œ">2.6.5.Sharding-JDBC æ“ä½œ</a></li></ul></li><li><a href="#_3-sharding-proxy-åˆ†åº“åˆ†è¡¨æ“ä½œ">3.Sharding-Proxy åˆ†åº“åˆ†è¡¨æ“ä½œ</a></li><li><a href="#_3-1-ä¸‹è½½å®‰è£…sharding-proxy">3.1.ä¸‹è½½å®‰è£…sharding-proxy</a></li><li><a href="#_3-2-é…ç½®-sharding-proxy-åˆ†åº“é…ç½®">3.2.é…ç½® Sharding-Proxyï¼ˆåˆ†åº“é…ç½®ï¼‰</a></li><li><a href="#_3-3-å¯åŠ¨sharding-proxy">3.3.å¯åŠ¨sharding-proxy</a></li><li><a href="#_3-4-é€šè¿‡ç»ˆç«¯è¿›è¡Œè¿æ¥">3.4.é€šè¿‡ç»ˆç«¯è¿›è¡Œè¿æ¥ï¼š</a></li><li><a href="#_3-5-é…ç½®-sharding-proxyåˆ†åº“">3.5.é…ç½® Sharding-Proxyåˆ†åº“</a><ul><li><a href="#_3-5-1-åˆ›å»ºä¸¤ä¸ªæ•°æ®åº“">3.5.1.åˆ›å»ºä¸¤ä¸ªæ•°æ®åº“</a></li><li><a href="#_3-5-2-æ‰¾åˆ°confç›®å½•-ä¿®æ”¹config-sharding-yamlæ–‡ä»¶">3.5.2.æ‰¾åˆ°confç›®å½•ï¼Œä¿®æ”¹config-sharding.yamlæ–‡ä»¶</a></li></ul></li><li><a href="#_3-6-sharding-proxyé…ç½®-è¯»å†™åˆ†ç¦»">3.6.sharding-proxyé…ç½®ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰</a></li></ul></div><p></p> <h2 id="_1-åŸºæœ¬æ¦‚å¿µ"><a href="#_1-åŸºæœ¬æ¦‚å¿µ" class="header-anchor">#</a> 1.åŸºæœ¬æ¦‚å¿µ</h2> <h2 id="_1-1-shardingsphereç®€ä»‹"><a href="#_1-1-shardingsphereç®€ä»‹" class="header-anchor">#</a> 1.1.ShardingSphereç®€ä»‹</h2> <p>Sharding-Sphereå®˜ç½‘ï¼šhttp://shardingsphere.apache.org/index_zh.html</p> <img src="/assets/img/image-20221114165415295.e22104eb.png" alt="image-20221114165415295" style="zoom:80%;"> <h2 id="_1-2-ä»€ä¹ˆæ˜¯shardingsphere"><a href="#_1-2-ä»€ä¹ˆæ˜¯shardingsphere" class="header-anchor">#</a> 1.2.ä»€ä¹ˆæ˜¯ShardingSphere?</h2> <ol><li>ä¸€å¥—å¼€æºçš„åˆ†å¸ƒå¼æ•°æ®åº“ä¸­é—´ä»¶è§£å†³æ–¹æ¡ˆã€‚</li> <li>æœ‰ä¸‰ä¸ªäº§å“ï¼ŒSharding-JDBCã€Sharding-Proxy å’Œ Sharding-Sidecarã€‚</li> <li>ShardingSphere å®šä½ä¸ºå…³ç³»å‹æ•°æ®åº“ä¸­é—´ä»¶ï¼Œåˆç†åœ°åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“æ“ä½œã€‚</li></ol> <h2 id="_1-3-ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨"><a href="#_1-3-ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨" class="header-anchor">#</a> 1.3.ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨ï¼Ÿ</h2> <p>æ•°æ®æ®åº“æ•°æ®é‡æ˜¯ä¸å¯æ§çš„ï¼Œéšç€æ—¶é—´å’Œä¸šåŠ¡å‘å±•ï¼Œé€ æˆè¡¨é‡Œé¢æ•°æ®è¶Šæ¥è¶Šå¤šï¼Œå¦‚æœå†å»å¯¹æ•°æ®åº“è¡¨curdæ“ä½œæ—¶ï¼Œå°±ä¼šæœ‰æ€§èƒ½é—®é¢˜ã€‚
è§£å†³åŠæ³•ï¼š</p> <ul><li>æ–¹æ¡ˆ1ï¼šä»ç¡¬ä»¶ä¸Š</li> <li>æ–¹æ¡ˆ2ï¼šåˆ†åº“åˆ†è¡¨</li></ul> <p><em>ä¸ºäº†è§£å†³ç”±äºæ•°æ®é‡è¿‡å¤§è€Œé€ æˆæ•°æ®åº“æ€§èƒ½é™ä½é—®é¢˜ã€‚</em></p> <img src="/assets/img/image-20200906172653451.deae1b65.png" style="zoom:33%;"> <h2 id="_1-4-åˆ†åº“åˆ†è¡¨çš„æ–¹å¼"><a href="#_1-4-åˆ†åº“åˆ†è¡¨çš„æ–¹å¼" class="header-anchor">#</a> 1.4.åˆ†åº“åˆ†è¡¨çš„æ–¹å¼</h2> <p>åˆ†åº“åˆ†è¡¨æœ‰ä¸¤ç§æ–¹å¼ï¼šå‚ç›´åˆ‡åˆ†å’Œæ°´å¹³åˆ‡åˆ†ã€‚</p> <p>å‚ç›´åˆ‡åˆ†ï¼šå‚ç›´åˆ†è¡¨å’Œå‚ç›´åˆ†åº“
æ°´å¹³åˆ‡åˆ†ï¼šæ°´å¹³åˆ†è¡¨å’Œæ°´å¹³åˆ†åº“
å‚ç›´æ‹†å­—æ®µï¼Œæ°´å¹³æ‹†è®°å½•ã€‚
å‚ç›´åˆ‡åˆ†çš„åº“å’Œè¡¨ç»“æ„æ˜¯ä¸åŒçš„ï¼Œè€Œæ°´å¹³åˆ‡åˆ†çš„åº“å’Œè¡¨æ˜¯ç›¸åŒçš„ã€‚</p> <h3 id="_1-4-1-å‚ç›´åˆ†è¡¨"><a href="#_1-4-1-å‚ç›´åˆ†è¡¨" class="header-anchor">#</a> 1.4.1.å‚ç›´åˆ†è¡¨</h3> <p>æ“ä½œæ•°æ®åº“ä¸­æŸå¼ è¡¨ï¼ŒæŠŠè¿™å¼ è¡¨ä¸­ä¸€éƒ¨åˆ†å­—æ®µæ•°æ®å­˜åˆ°ä¸€å¼ æ–°è¡¨é‡Œé¢ï¼Œå†æŠŠè¿™å¼ è¡¨å¦éƒ¨åˆ†å­—æ®µæ•°æ®å­˜åˆ°å¦å¤–ä¸€å¼ è¡¨é‡Œé¢ã€‚
å‚ç›´æ‹†åˆ†æˆçš„ä¸¤å¼ è¡¨ï¼Œæ¯å¼ è¡¨çš„æ•°æ®é‡å’ŒåŸå…ˆçš„è¡¨çš„æ•°æ®é‡ç›¸åŒã€‚</p> <img src="/assets/img/image-20200906173758427.12109e61.png" style="zoom:33%;"> <img src="/assets/img/image-20200906180305240.b414ec50.png" style="zoom:33%;"> <h3 id="_1-4-2-å‚ç›´åˆ†åº“"><a href="#_1-4-2-å‚ç›´åˆ†åº“" class="header-anchor">#</a> 1.4.2.å‚ç›´åˆ†åº“</h3> <p>æŠŠå•ä¸€æ•°æ®åº“æŒ‰ç…§ä¸šåŠ¡è¿›è¡Œåˆ’åˆ†ï¼Œä¸“åº“ä¸“è¡¨ã€‚</p> <img src="/assets/img/image-202009061909510.066a65a7.png" style="zoom:33%;"> <h3 id="_1-4-3-æ°´å¹³åˆ†åº“"><a href="#_1-4-3-æ°´å¹³åˆ†åº“" class="header-anchor">#</a> 1.4.3.æ°´å¹³åˆ†åº“</h3> <img src="/assets/img/image-20200906191548730.4c7f1a3f.png" style="zoom:33%;"> <h3 id="_1-4-4-æ°´å¹³åˆ†è¡¨"><a href="#_1-4-4-æ°´å¹³åˆ†è¡¨" class="header-anchor">#</a> 1.4.4.æ°´å¹³åˆ†è¡¨</h3> <img src="/assets/img/image-20200906191918904.fc5e386c.png" style="zoom:33%;"> <h3 id="_1-4-5-åˆ†åº“åˆ†è¡¨çš„åº”ç”¨å’Œé—®é¢˜"><a href="#_1-4-5-åˆ†åº“åˆ†è¡¨çš„åº”ç”¨å’Œé—®é¢˜" class="header-anchor">#</a> 1.4.5.åˆ†åº“åˆ†è¡¨çš„åº”ç”¨å’Œé—®é¢˜</h3> <p><strong>åº”ç”¨</strong>
åœ¨æ•°æ®åº“è®¾è®¡æ—¶å€™å°±è¦è€ƒè™‘å‚ç›´åˆ†åº“å’Œå‚ç›´åˆ†è¡¨ã€‚
éšç€æ•°æ®åº“æ•°æ®é‡å¢åŠ ï¼Œä¸è¦é©¬ä¸Šè€ƒè™‘åšæ°´å¹³åˆ‡åˆ†ã€‚é¦–å…ˆè€ƒè™‘ç¼“å­˜å¤„ç†ï¼Œè¯»å†™åˆ†ç¦»ï¼Œä½¿ç”¨ç´¢å¼•ç­‰ç­‰æ–¹å¼ã€‚å¦‚æœè¿™äº›æ–¹å¼ä¸èƒ½æ ¹æœ¬è§£å†³é—®é¢˜äº†ï¼Œå†è€ƒè™‘åšæ°´å¹³åˆ†åº“å’Œæ°´å¹³åˆ†è¡¨ã€‚
<strong>åˆ†åº“åˆ†è¡¨é—®é¢˜</strong>
è·¨èŠ‚ç‚¹è¿æ¥æŸ¥è¯¢é—®é¢˜(åˆ†é¡µã€æ’åº)ã€‚
å¤šæ•°æ®æºç®¡ç†é—®é¢˜ã€‚</p> <h2 id="_2-sharding-jdbc-åˆ†åº“åˆ†è¡¨æ“ä½œ"><a href="#_2-sharding-jdbc-åˆ†åº“åˆ†è¡¨æ“ä½œ" class="header-anchor">#</a> 2.Sharding-JDBC åˆ†åº“åˆ†è¡¨æ“ä½œ</h2> <h2 id="_2-1-shardingsphere-jdbc-ç®€ä»‹"><a href="#_2-1-shardingsphere-jdbc-ç®€ä»‹" class="header-anchor">#</a> 2.1.ShardingSphere-JDBC ç®€ä»‹</h2> <img src="/assets/img/image-20200906171700723.a250f2f3.png" style="zoom:33%;"> <img src="/assets/img/image-20200906171712584.18f88d10.png" style="zoom:33%;"> <p>Sharding-JDBCçš„åŠŸèƒ½ï¼šä¸»è¦åš<code>æ•°æ®åˆ†ç‰‡</code>å’Œ<code>è¯»å†™åˆ†ç¦»</code>ï¼Œä¸æ˜¯åšåˆ†åº“åˆ†è¡¨ï¼Œåˆ†åº“åˆ†è¡¨ç”±æˆ‘ä»¬è‡ªå·±åšã€‚
ä¸»è¦çš„ç›®çš„ï¼š<code>ç®€åŒ–åˆ†åº“åˆ†è¡¨åæ•°æ®çš„ç›¸å…³æ“ä½œ</code>ã€‚</p> <h2 id="_2-2-sharding-jdbc-å®ç°æ°´å¹³åˆ†è¡¨"><a href="#_2-2-sharding-jdbc-å®ç°æ°´å¹³åˆ†è¡¨" class="header-anchor">#</a> 2.2.Sharding-JDBC å®ç°æ°´å¹³åˆ†è¡¨</h2> <h3 id="_2-2-1-æ­å»ºç¯å¢ƒ"><a href="#_2-2-1-æ­å»ºç¯å¢ƒ" class="header-anchor">#</a> 2.2.1.æ­å»ºç¯å¢ƒ</h3> <p>æŠ€æœ¯ï¼šSpringBoot2.2.1 + MybatisPlus + Sharding-JDBC + Druidè¿æ¥æ± </p> <p><code>1.åˆ›å»ºé¡¹ç›®</code></p> <img src="/assets/img/image-20200907101445496.e5399870.png" style="zoom:50%;"> <p><code>2.ä¿®æ”¹pom.xmlæ–‡ä»¶</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.atguigu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>shardingjdbcdemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>shardingjdbcdemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Demo project for Spring Boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.shardingsphere<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>sharding-jdbc-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0-RC1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-plus-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><h3 id="_2-2-2-åˆ›å»ºæ•°æ®åº“ã€æ•°æ®è¡¨"><a href="#_2-2-2-åˆ›å»ºæ•°æ®åº“ã€æ•°æ®è¡¨" class="header-anchor">#</a> 2.2.2.åˆ›å»ºæ•°æ®åº“ã€æ•°æ®è¡¨</h3> <p>æŒ‰ç…§æ°´å¹³åˆ†è¡¨çš„æ–¹å¼åˆ›å»ºæ•°æ®åº“ã€æ•°æ®è¡¨</p> <ol><li><p>åˆ›å»ºæ•°æ®åº“ course_dbã€‚</p></li> <li><p>åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸¤å¼ è¡¨ course_1 å’Œ course_2ã€‚</p></li> <li><p>æ•°æ®å­˜æ”¾çº¦å®šè§„åˆ™ï¼šæ·»åŠ çš„æ•°æ®idä¸ºå¶æ•°æ”¾<code>course_1</code> è¡¨ä¸­ï¼Œidä¸ºå¥‡æ•°æ”¾<code>course_2</code> è¡¨ä¸­ã€‚</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>create database course_db;
use course_db;
create table course_1 (
	`cid` bigint(20) primary key,
	`cname` varchar(50) not null,
	`user_id` bigint(20) not null,
	`cstatus` varchar(10) not null
);
create table course_2 (
	`cid` bigint(20) primary key,
	`cname` varchar(50) not null,
	`user_id` bigint(20) not null,
	`cstatus` varchar(10) not null
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ol> <h3 id="_2-2-3-ç¼–å†™ä»£ç "><a href="#_2-2-3-ç¼–å†™ä»£ç " class="header-anchor">#</a> 2.2.3.ç¼–å†™ä»£ç </h3> <p>1.åœ¨shardingjdbcdemoåŒ…ä¸‹åˆ›å»º entity.Course å®ä½“ç±»</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Course</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> cid<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> cname<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> cstatus<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>2.åˆ›å»ºmapper.CourseMapper æ¥å£</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CourseMapper</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Course</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>3.åœ¨å¯åŠ¨ç±»ä¸ŠåŠ ä¸Š<code>@MapperScan(&quot;com.angenin.shardingjdbcdemo.mapper&quot;)</code>æ³¨è§£</p> <h3 id="_2-2-4-é…ç½®æ°´å¹³åˆ†è¡¨ç­–ç•¥"><a href="#_2-2-4-é…ç½®æ°´å¹³åˆ†è¡¨ç­–ç•¥" class="header-anchor">#</a> 2.2.4.é…ç½®æ°´å¹³åˆ†è¡¨ç­–ç•¥</h3> <p>å®˜ç½‘æ•°æ®åˆ†ç‰‡é…ç½®ï¼š</p> <p>https://shardingsphere.apache.org/document/current/cn/user-manual/shardingsphere-jdbc/</p> <img src="/assets/img/image-20200907110200658.4e5577fa.png" style="zoom:33%;"> <p>(1)<strong>åœ¨ application.properties é…ç½®æ–‡ä»¶ä¸­é…ç½®</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code># shardingjdbc æ°´å¹³åˆ†è¡¨ç­–ç•¥
# é…ç½®æ•°æ®æºï¼Œç»™æ•°æ®æºèµ·åˆ«å
spring.shardingsphere.datasource.names=m1
# ä¸€ä¸ªå®ä½“ç±»å¯¹åº”ä¸¤å¼ è¡¨ï¼Œè¦†ç›–
spring.main.allow-bean-definition-overriding=true
# é…ç½®æ•°æ®æºçš„å…·ä½“å†…å®¹ï¼ŒåŒ…å«è¿æ¥æ± ï¼Œé©±åŠ¨ï¼Œåœ°å€ï¼Œç”¨æˆ·åï¼Œå¯†ç 
spring.shardingsphere.datasource.m1.type=com.alibaba.druid.pool.DruidDataSource
spring.shardingsphere.datasource.m1.driver-class-name=com.mysql.cj.jdbc.Driver
spring.shardingsphere.datasource.m1.url=jdbc:mysql://localhost:3306/course_db?serverTimezone=GMT%2B8
spring.shardingsphere.datasource.m1.username=root
spring.shardingsphere.datasource.m1.password=123456
# æŒ‡å®šcourseè¡¨åˆ†å¸ƒçš„æƒ…å†µï¼Œé…ç½®è¡¨åœ¨å“ªä¸ªæ•°æ®åº“é‡Œï¼Œè¡¨çš„åç§°éƒ½æ˜¯ä»€ä¹ˆ m1.course_1,m1.course_2
spring.shardingsphere.sharding.tables.course.actual-data-nodes=m1.course_$-&gt;{1..2}
# æŒ‡å®š course è¡¨é‡Œé¢ä¸»é”® cid çš„ç”Ÿæˆç­–ç•¥ SNOWFLAKE
spring.shardingsphere.sharding.tables.course.key-generator.column=cid
spring.shardingsphere.sharding.tables.course.key-generator.type=SNOWFLAKE
# é…ç½®åˆ†è¡¨ç­–ç•¥    çº¦å®š cid å€¼å¶æ•°æ·»åŠ åˆ° course_1 è¡¨ï¼Œå¦‚æœ cid æ˜¯å¥‡æ•°æ·»åŠ åˆ° course_2 è¡¨
spring.shardingsphere.sharding.tables.course.table-strategy.inline.shardingcolumn=cid
spring.shardingsphere.sharding.tables.course.table-strategy.inline.algorithmexpression=course_$-&gt;{cid % 2 + 1}
# æ‰“å¼€ sql è¾“å‡ºæ—¥å¿—
spring.shardingsphere.props.sql.show=true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_2-2-5-ç¼–å†™æµ‹è¯•ä»£ç "><a href="#_2-2-5-ç¼–å†™æµ‹è¯•ä»£ç " class="header-anchor">#</a> 2.2.5.ç¼–å†™æµ‹è¯•ä»£ç </h3> <p>åœ¨teståŒ…ä¸­çš„æµ‹è¯•ç±»ä¸­è¿›è¡Œæµ‹è¯•</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ShardingjdbcdemoApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CourseMapper</span> courseMapper<span class="token punctuation">;</span>
    <span class="token comment">//æ·»åŠ è¯¾ç¨‹</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCourse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Course</span> course <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Course</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//cidç”±æˆ‘ä»¬è®¾ç½®çš„ç­–ç•¥ï¼Œé›ªèŠ±ç®—æ³•è¿›è¡Œç”Ÿæˆï¼ˆè‡³å°‘70å¹´å†…ç”Ÿæˆçš„idä¸ä¼šé‡å¤ï¼‰</span>
        course<span class="token punctuation">.</span><span class="token function">setCname</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        course<span class="token punctuation">.</span><span class="token function">setUserId</span><span class="token punctuation">(</span><span class="token number">100L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        course<span class="token punctuation">.</span><span class="token function">setCstatus</span><span class="token punctuation">(</span><span class="token string">&quot;Normal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        courseMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>course<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//æŸ¥è¯¢è¯¾ç¨‹</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">findCourse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Course</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">&quot;cid&quot;</span><span class="token punctuation">,</span> <span class="token number">509755853058867201L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        courseMapper<span class="token punctuation">.</span><span class="token function">selectOne</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><code>1.addCourseæ–¹æ³•æ‰§è¡Œç»“æœï¼š</code></p> <p><img alt="" data-src="/assets/img/image-20200907154007333.3a0f0a9e.png" loading="lazy" class="lazy"></p> <p><code>2.findCourseæ–¹æ³•æ‰§è¡Œç»“æœï¼š</code></p> <p><img alt="" data-src="/assets/img/image-20200907155213701.cb18b06d.png" loading="lazy" class="lazy"></p> <h2 id="_2-3-sharding-jdbc-å®ç°æ°´å¹³åˆ†åº“"><a href="#_2-3-sharding-jdbc-å®ç°æ°´å¹³åˆ†åº“" class="header-anchor">#</a> 2.3.Sharding-JDBC å®ç°æ°´å¹³åˆ†åº“</h2> <h3 id="_2-3-1-éœ€æ±‚åˆ†æ"><a href="#_2-3-1-éœ€æ±‚åˆ†æ" class="header-anchor">#</a> 2.3.1.éœ€æ±‚åˆ†æ</h3> <img src="/assets/img/image-20200907160515237.3a92a148.png" style="zoom:33%;"> <h3 id="_2-3-2-åˆ›å»ºæ•°æ®åº“-æ•°æ®è¡¨"><a href="#_2-3-2-åˆ›å»ºæ•°æ®åº“-æ•°æ®è¡¨" class="header-anchor">#</a> 2.3.2.åˆ›å»ºæ•°æ®åº“ï¼Œæ•°æ®è¡¨</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>create database edu_db_1;
create database edu_db_2;
use edu_db_1;
create table course_1 (
	`cid` bigint(20) primary key,
	`cname` varchar(50) not null,
	`user_id` bigint(20) not null,
	`cstatus` varchar(10) not null
);
create table course_2 (
	`cid` bigint(20) primary key,
	`cname` varchar(50) not null,
	`user_id` bigint(20) not null,
	`cstatus` varchar(10) not null
);
use edu_db_2;
create table course_1 (
	`cid` bigint(20) primary key,
	`cname` varchar(50) not null,
	`user_id` bigint(20) not null,
	`cstatus` varchar(10) not null
);
create table course_2 (
	`cid` bigint(20) primary key,
	`cname` varchar(50) not null,
	`user_id` bigint(20) not null,
	`cstatus` varchar(10) not null
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="_2-3-3-é…ç½®æ°´å¹³åˆ†åº“ç­–ç•¥"><a href="#_2-3-3-é…ç½®æ°´å¹³åˆ†åº“ç­–ç•¥" class="header-anchor">#</a> 2.3.3.é…ç½®æ°´å¹³åˆ†åº“ç­–ç•¥</h3> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment"># shardingjdbc æ°´å¹³åˆ†åº“åˆ†è¡¨ç­–ç•¥</span>
<span class="token comment"># é…ç½®æ•°æ®æºï¼Œç»™æ•°æ®æºèµ·åˆ«å</span>
<span class="token comment"># æ°´å¹³åˆ†åº“éœ€è¦é…ç½®å¤šä¸ªæ•°æ®åº“</span>
<span class="token attr-name">spring.shardingsphere.datasource.names</span><span class="token punctuation">=</span><span class="token attr-value">m1,m2</span>
<span class="token comment"># ä¸€ä¸ªå®ä½“ç±»å¯¹åº”ä¸¤å¼ è¡¨ï¼Œè¦†ç›–</span>
<span class="token attr-name">spring.main.allow-bean-definition-overriding</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token comment"># é…ç½®ç¬¬ä¸€ä¸ªæ•°æ®æºçš„å…·ä½“å†…å®¹ï¼ŒåŒ…å«è¿æ¥æ± ï¼Œé©±åŠ¨ï¼Œåœ°å€ï¼Œç”¨æˆ·åï¼Œå¯†ç </span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.type</span><span class="token punctuation">=</span><span class="token attr-value">com.alibaba.druid.pool.DruidDataSource</span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.cj.jdbc.Driver</span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/edu_db_1?serverTimezone=GMT%2B8</span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.password</span><span class="token punctuation">=</span><span class="token attr-value">123456</span>
<span class="token comment"># é…ç½®ç¬¬äºŒä¸ªæ•°æ®æºçš„å…·ä½“å†…å®¹ï¼ŒåŒ…å«è¿æ¥æ± ï¼Œé©±åŠ¨ï¼Œåœ°å€ï¼Œç”¨æˆ·åï¼Œå¯†ç </span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.type</span><span class="token punctuation">=</span><span class="token attr-value">com.alibaba.druid.pool.DruidDataSource</span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.cj.jdbc.Driver</span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/edu_db_2?serverTimezone=GMT%2B8</span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.password</span><span class="token punctuation">=</span><span class="token attr-value">123456</span>
<span class="token comment"># æŒ‡å®šæ•°æ®åº“åˆ†å¸ƒçš„æƒ…å†µå’Œæ•°æ®è¡¨åˆ†å¸ƒçš„æƒ…å†µ</span>
<span class="token comment"># m1 m2   course_1 course_2</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.course.actual-data-nodes</span><span class="token punctuation">=</span><span class="token attr-value">m$-&gt;{1..2}.course_$-&gt;{1..2}</span>
<span class="token comment"># æŒ‡å®š course è¡¨é‡Œé¢ä¸»é”® cid çš„ç”Ÿæˆç­–ç•¥ SNOWFLAKE</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.course.key-generator.column</span><span class="token punctuation">=</span><span class="token attr-value">cid</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.course.key-generator.type</span><span class="token punctuation">=</span><span class="token attr-value">SNOWFLAKE</span>
<span class="token comment"># æŒ‡å®šæ•°æ®åº“åˆ†ç‰‡ç­–ç•¥    çº¦å®š user_id å€¼å¶æ•°æ·»åŠ åˆ° m1 åº“ï¼Œå¦‚æœ user_id æ˜¯å¥‡æ•°æ·»åŠ åˆ° m2 åº“</span>
<span class="token comment"># é»˜è®¤å†™æ³•ï¼ˆæ‰€æœ‰çš„è¡¨çš„user_idï¼‰</span>
<span class="token comment">#spring.shardingsphere.sharding.default-database-strategy.inline.sharding-column=user_id</span>
<span class="token comment">#spring.shardingsphere.sharding.default-database-strategy.inline.algorithm-expression=m$-&gt;{user_id % 2 + 1}</span>
<span class="token comment"># æŒ‡å®šåªæœ‰courseè¡¨çš„user_id</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.course.database-strategy.inline.sharding-column</span><span class="token punctuation">=</span><span class="token attr-value">user_id</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.course.database-strategy.inline.algorithm-expression</span><span class="token punctuation">=</span><span class="token attr-value">m$-&gt;{user_id % 2 + 1}</span>
<span class="token comment"># æŒ‡å®šåˆ†è¡¨ç­–ç•¥    çº¦å®š cid å€¼å¶æ•°æ·»åŠ åˆ° course_1 è¡¨ï¼Œå¦‚æœ cid æ˜¯å¥‡æ•°æ·»åŠ åˆ° course_2 è¡¨</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.course.table-strategy.inline.sharding-column</span><span class="token punctuation">=</span><span class="token attr-value">cid</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.course.table-strategy.inline.algorithm-expression</span><span class="token punctuation">=</span><span class="token attr-value">course_$-&gt;{cid % 2 + 1}</span>
<span class="token comment"># æ‰“å¼€ sql è¾“å‡ºæ—¥å¿—</span>
<span class="token attr-name">spring.shardingsphere.props.sql.show</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code>	<span class="token comment">//æ·»åŠ è¯¾ç¨‹</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCourseDb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Course</span> course <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Course</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//cidç”±æˆ‘ä»¬è®¾ç½®çš„ç­–ç•¥ï¼Œé›ªèŠ±ç®—æ³•è¿›è¡Œç”Ÿæˆï¼ˆè‡³å°‘70å¹´å†…ç”Ÿæˆçš„idä¸ä¼šé‡å¤ï¼‰</span>
        course<span class="token punctuation">.</span><span class="token function">setCname</span><span class="token punctuation">(</span><span class="token string">&quot;javademo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//åˆ†åº“æ ¹æ®user_id</span>
        course<span class="token punctuation">.</span><span class="token function">setUserId</span><span class="token punctuation">(</span><span class="token number">100L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        course<span class="token punctuation">.</span><span class="token function">setCstatus</span><span class="token punctuation">(</span><span class="token string">&quot;Normal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        courseMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>course<span class="token punctuation">)</span><span class="token punctuation">;</span>
        course<span class="token punctuation">.</span><span class="token function">setCname</span><span class="token punctuation">(</span><span class="token string">&quot;javademo2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        course<span class="token punctuation">.</span><span class="token function">setUserId</span><span class="token punctuation">(</span><span class="token number">111L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        courseMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>course<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//æŸ¥è¯¢è¯¾ç¨‹</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">findCourseDb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Course</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è®¾ç½®user_idçš„å€¼</span>
        wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">&quot;user_id&quot;</span><span class="token punctuation">,</span> <span class="token number">100L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è®¾ç½®cidçš„å€¼</span>
        wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">&quot;cid&quot;</span><span class="token punctuation">,</span> <span class="token number">509771111076986881L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Course</span> course <span class="token operator">=</span> courseMapper<span class="token punctuation">.</span><span class="token function">selectOne</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>course<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><code>1.addCourseDbæ–¹æ³•æ‰§è¡Œç»“æœï¼š</code></p> <p><img alt="" data-src="/assets/img/image-20200907164813426.87b2264b.png" loading="lazy" class="lazy"></p> <p><img alt="" data-src="/assets/img/image-20200907165429502.48c0a30d.png" loading="lazy" class="lazy"></p> <p><code>2.findCourseDbæ–¹æ³•æ‰§è¡Œç»“æœï¼š</code></p> <p><img alt="" data-src="/assets/img/image-20200907170252742.41c0c319.png" loading="lazy" class="lazy"></p> <h2 id="_2-4-sharding-jdbc-å®ç°å‚ç›´åˆ†åº“-ä¸“åº“ä¸“è¡¨"><a href="#_2-4-sharding-jdbc-å®ç°å‚ç›´åˆ†åº“-ä¸“åº“ä¸“è¡¨" class="header-anchor">#</a> 2.4.Sharding-JDBC å®ç°å‚ç›´åˆ†åº“(ä¸“åº“ä¸“è¡¨)</h2> <h3 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="header-anchor">#</a> éœ€æ±‚åˆ†æ</h3> <img src="/assets/img/image-20200907170551586.ccbeb6f1.png" style="zoom:33%;"> <p>éœ€è¦æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯çš„æ—¶å€™ï¼Œä¸éœ€è¦æŸ¥åˆ°è¯¾ç¨‹ä¿¡æ¯ã€‚</p> <h3 id="_2-4-1-åˆ›å»ºç”¨æˆ·æ•°æ®åº“ã€æ•°æ®è¡¨"><a href="#_2-4-1-åˆ›å»ºç”¨æˆ·æ•°æ®åº“ã€æ•°æ®è¡¨" class="header-anchor">#</a> 2.4.1.åˆ›å»ºç”¨æˆ·æ•°æ®åº“ã€æ•°æ®è¡¨</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> user_db<span class="token punctuation">;</span>
<span class="token keyword">use</span> user_db<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_user<span class="token punctuation">(</span>
	<span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
	<span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
	<span class="token identifier"><span class="token punctuation">`</span>ustatus<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2-4-2-ç¼–å†™userä»£ç "><a href="#_2-4-2-ç¼–å†™userä»£ç " class="header-anchor">#</a> 2.4.2.ç¼–å†™Userä»£ç </h3> <p>åˆ›å»ºuserå®ä½“ç±»å’Œå¯¹åº”çš„mapper</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">&quot;t_user&quot;</span><span class="token punctuation">)</span>    <span class="token comment">//æŒ‡å®šå¯¹åº”çš„è¡¨å</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> ustatus<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-4-3-é…ç½®å‚ç›´åˆ†åº“ç­–ç•¥"><a href="#_2-4-3-é…ç½®å‚ç›´åˆ†åº“ç­–ç•¥" class="header-anchor">#</a> 2.4.3.é…ç½®å‚ç›´åˆ†åº“ç­–ç•¥</h3> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment"># shardingjdbc å‚ç›´åˆ†åº“ç­–ç•¥</span>
<span class="token comment"># é…ç½®æ•°æ®æºï¼Œç»™æ•°æ®æºèµ·åˆ«å</span>
<span class="token comment"># æ°´å¹³åˆ†åº“éœ€è¦é…ç½®å¤šä¸ªæ•°æ®åº“</span>
<span class="token comment"># m0ä¸ºç”¨æˆ·æ•°æ®åº“</span>
<span class="token attr-name">spring.shardingsphere.datasource.names</span><span class="token punctuation">=</span><span class="token attr-value">m1,m2,m0</span>
<span class="token comment"># ä¸€ä¸ªå®ä½“ç±»å¯¹åº”ä¸¤å¼ è¡¨ï¼Œè¦†ç›–</span>
<span class="token attr-name">spring.main.allow-bean-definition-overriding</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token comment"># é…ç½®ç¬¬ä¸€ä¸ªæ•°æ®æºçš„å…·ä½“å†…å®¹ï¼ŒåŒ…å«è¿æ¥æ± ï¼Œé©±åŠ¨ï¼Œåœ°å€ï¼Œç”¨æˆ·åï¼Œå¯†ç </span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.type</span><span class="token punctuation">=</span><span class="token attr-value">com.alibaba.druid.pool.DruidDataSource</span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.cj.jdbc.Driver</span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/edu_db_1?serverTimezone=GMT%2B8</span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span>
<span class="token attr-name">spring.shardingsphere.datasource.m1.password</span><span class="token punctuation">=</span><span class="token attr-value">123456</span>
<span class="token comment"># é…ç½®ç¬¬äºŒä¸ªæ•°æ®æºçš„å…·ä½“å†…å®¹ï¼ŒåŒ…å«è¿æ¥æ± ï¼Œé©±åŠ¨ï¼Œåœ°å€ï¼Œç”¨æˆ·åï¼Œå¯†ç </span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.type</span><span class="token punctuation">=</span><span class="token attr-value">com.alibaba.druid.pool.DruidDataSource</span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.cj.jdbc.Driver</span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/edu_db_2?serverTimezone=GMT%2B8</span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span>
<span class="token attr-name">spring.shardingsphere.datasource.m2.password</span><span class="token punctuation">=</span><span class="token attr-value">123456</span>
<span class="token comment">#é…ç½®ç¬¬ä¸‰ä¸ªæ•°æ®æºå…·ä½“å†…å®¹ï¼ŒåŒ…å«è¿æ¥æ± ï¼Œé©±åŠ¨ï¼Œåœ°å€ï¼Œç”¨æˆ·åå’Œå¯†ç </span>
<span class="token attr-name">spring.shardingsphere.datasource.m0.type</span><span class="token punctuation">=</span><span class="token attr-value">com.alibaba.druid.pool.DruidDataSource</span>
<span class="token attr-name">spring.shardingsphere.datasource.m0.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.cj.jdbc.Driver</span>
<span class="token attr-name">spring.shardingsphere.datasource.m0.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/user_db?serverTimezone=GMT%2B8</span>
<span class="token attr-name">spring.shardingsphere.datasource.m0.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span>
<span class="token attr-name">spring.shardingsphere.datasource.m0.password</span><span class="token punctuation">=</span><span class="token attr-value">123456</span>
<span class="token comment"># é…ç½®user_dbæ•°æ®åº“é‡Œé¢t_user  ä¸“åº“ä¸“è¡¨</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.t_user.actual-data-nodes</span><span class="token punctuation">=</span><span class="token attr-value">m0.t_user</span>
<span class="token comment"># é…ç½®ä¸»é”®çš„ç”Ÿæˆç­–ç•¥</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.t_user.key-generator.column</span><span class="token punctuation">=</span><span class="token attr-value">user_id</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.t_user.key-generator.type</span><span class="token punctuation">=</span><span class="token attr-value">SNOWFLAKE</span>
<span class="token comment"># æŒ‡å®šåˆ†è¡¨ç­–ç•¥</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.t_user.table-strategy.inline.sharding-column</span><span class="token punctuation">=</span><span class="token attr-value">user_id</span>
<span class="token attr-name">spring.shardingsphere.sharding.tables.t_user.table-strategy.inline.algorithm-expression</span><span class="token punctuation">=</span><span class="token attr-value">t_user</span>
<span class="token comment"># ... å…¶ä»–é…ç½®åŒä¸Š</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="_2-4-4-ç¼–å†™æµ‹è¯•ä»£ç "><a href="#_2-4-4-ç¼–å†™æµ‹è¯•ä»£ç " class="header-anchor">#</a> 2.4.4.ç¼–å†™æµ‹è¯•ä»£ç </h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">//æ·»åŠ ç”¨æˆ·</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addUserDb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUstatus</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token comment">//æŸ¥è¯¢ç”¨æˆ·</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">findUserDb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">&quot;user_id&quot;</span><span class="token punctuation">,</span> <span class="token number">509793334663839745L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectOne</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><code>1.addUserDbæ–¹æ³•æ‰§è¡Œç»“æœï¼š</code></p> <p><img alt="" data-src="/assets/img/image-20200907181554550.9c0d5b6c.png" loading="lazy" class="lazy"></p> <p><code>2.findUserDbæ–¹æ³•æ‰§è¡Œç»“æœï¼š</code></p> <p><img alt="" data-src="/assets/img/image-20200907181905163.5e13e403.png" loading="lazy" class="lazy"></p> <h2 id="_2-5-sharding-jdbc-å…¬å…±è¡¨"><a href="#_2-5-sharding-jdbc-å…¬å…±è¡¨" class="header-anchor">#</a> 2.5.Sharding-JDBC å…¬å…±è¡¨</h2> <h3 id="_2-5-1-å…¬å…±è¡¨æ¦‚å¿µ"><a href="#_2-5-1-å…¬å…±è¡¨æ¦‚å¿µ" class="header-anchor">#</a> 2.5.1.å…¬å…±è¡¨æ¦‚å¿µ</h3> <p><code>1.å­˜å‚¨å›ºå®šæ•°æ®çš„è¡¨ï¼Œè¡¨æ•°æ®å¾ˆå°‘å‘ç”Ÿå˜åŒ–ï¼ŒæŸ¥è¯¢æ—¶ç»å¸¸è¦è¿›è¡Œå…³è”ã€‚</code> <code>2.åœ¨æ¯ä¸ªæ•°æ®åº“ä¸­éƒ½åˆ›å»ºå‡ºç›¸åŒç»“æ„å…¬å…±è¡¨ã€‚</code> <code>3.æ“ä½œå…¬å…±è¡¨æ—¶ï¼ŒåŒæ—¶æ“ä½œæ·»åŠ äº†å…¬å…±è¡¨çš„æ•°æ®åº“ä¸­çš„å…¬å…±è¡¨ï¼Œæ·»åŠ è®°å½•æ—¶ï¼ŒåŒæ—¶æ·»åŠ ï¼Œåˆ é™¤æ—¶ï¼ŒåŒæ—¶åˆ é™¤ã€‚</code></p> <h3 id="_2-5-2-åœ¨å¤šä¸ªæ•°æ®åº“ä¸­åˆ›å»ºç›¸åŒç»“æ„çš„å…¬å…±è¡¨"><a href="#_2-5-2-åœ¨å¤šä¸ªæ•°æ®åº“ä¸­åˆ›å»ºç›¸åŒç»“æ„çš„å…¬å…±è¡¨" class="header-anchor">#</a> 2.5.2.åœ¨å¤šä¸ªæ•°æ®åº“ä¸­åˆ›å»ºç›¸åŒç»“æ„çš„å…¬å…±è¡¨</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">use</span> user_db<span class="token punctuation">;</span>
<span class="token comment">#use edu_db_1;</span>
<span class="token comment">#use edu_db_2;</span>
<span class="token comment"># åœ¨user_dbï¼Œedu_db_1ï¼Œedu_db_2ä¸­éƒ½åˆ›å»ºt_udictè¡¨</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_udict<span class="token punctuation">(</span>
	<span class="token identifier"><span class="token punctuation">`</span>dictid<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
	<span class="token identifier"><span class="token punctuation">`</span>ustatus<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
	<span class="token identifier"><span class="token punctuation">`</span>uvalue<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2-5-3-å…¬å…±è¡¨é…ç½®"><a href="#_2-5-3-å…¬å…±è¡¨é…ç½®" class="header-anchor">#</a> 2.5.3.å…¬å…±è¡¨é…ç½®</h3> <div class="language-pr line-numbers-mode"><pre class="language-text"><code># å…¶ä»–é…ç½®åŒä¸Š
# ...
# å…¬å…±è¡¨é…ç½®
spring.shardingsphere.sharding.broadcast-tables=t_udict
# é…ç½®ä¸»é”®çš„ç”Ÿæˆç­–ç•¥
spring.shardingsphere.sharding.tables.t_udict.key-generator.column=dictid
spring.shardingsphere.sharding.tables.t_udict.key-generator.type=SNOWFLAKE
# ...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_2-5-4-ç¼–å†™å…¬å…±è¡¨çš„å®ä½“ç±»åŠmapper"><a href="#_2-5-4-ç¼–å†™å…¬å…±è¡¨çš„å®ä½“ç±»åŠmapper" class="header-anchor">#</a> 2.5.4.ç¼–å†™å…¬å…±è¡¨çš„å®ä½“ç±»åŠmapper</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;t_udict&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Udict</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> dictid<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> ustatus<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> uvalue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UdictMapper</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Udict</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-5-5-ç¼–å†™æµ‹è¯•ä»£ç "><a href="#_2-5-5-ç¼–å†™æµ‹è¯•ä»£ç " class="header-anchor">#</a> 2.5.5.ç¼–å†™æµ‹è¯•ä»£ç </h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">//æ·»åŠ </span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addDict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Udict</span> udict <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Udict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        udict<span class="token punctuation">.</span><span class="token function">setUstatus</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        udict<span class="token punctuation">.</span><span class="token function">setUvalue</span><span class="token punctuation">(</span><span class="token string">&quot;å·²å¯ç”¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        udictMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>udict<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//åˆ é™¤</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteDict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Udict</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">&quot;dictid&quot;</span><span class="token punctuation">,</span> <span class="token number">509811689974136833L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        udictMapper<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><code>1.addDictæ–¹æ³•æ‰§è¡Œç»“æœï¼š</code></p> <p><img alt="" data-src="/assets/img/image-20200907192907516.2db27ed4.png" loading="lazy" class="lazy"></p> <h2 id="_2-6-sharding-jdbc-å®ç°è¯»å†™åˆ†ç¦»"><a href="#_2-6-sharding-jdbc-å®ç°è¯»å†™åˆ†ç¦»" class="header-anchor">#</a> 2.6.Sharding-JDBC å®ç°è¯»å†™åˆ†ç¦»</h2> <h3 id="_2-6-1-è¯»å†™åˆ†ç¦»æ¦‚å¿µ"><a href="#_2-6-1-è¯»å†™åˆ†ç¦»æ¦‚å¿µ" class="header-anchor">#</a> 2.6.1.è¯»å†™åˆ†ç¦»æ¦‚å¿µ</h3> <img src="/assets/img/image-20200907193540976.993ee122.png" style="zoom:33%;"> <img src="/assets/img/image-20200907193859513.cfe4b30f.png" style="zoom:33%;"> <h3 id="_2-6-2-è¯»å†™åŸç†"><a href="#_2-6-2-è¯»å†™åŸç†" class="header-anchor">#</a> 2.6.2.è¯»å†™åŸç†</h3> <img src="/assets/img/image-20200907194401291.de395f35.png" style="zoom:33%;"> <img src="/assets/img/image-20200907194133618.e373e120.png" style="zoom:33%;"> <h3 id="_2-6-3-sharding-jdbc-è¯»å†™åˆ†ç¦»"><a href="#_2-6-3-sharding-jdbc-è¯»å†™åˆ†ç¦»" class="header-anchor">#</a> 2.6.3.Sharding-JDBC è¯»å†™åˆ†ç¦»</h3> <p>Sharding-JDBCé€šè¿‡sqlè¯­å¥è¯­ä¹‰åˆ†æï¼Œå½“sqlè¯­å¥æœ‰insertã€updateã€deleteæ—¶ï¼ŒSharding-JDBCå°±æŠŠè¿™æ¬¡æ“ä½œåœ¨ä¸»æ•°æ®åº“ä¸Šæ‰§è¡Œï¼›å½“sqlè¯­å¥æœ‰selectæ—¶ï¼Œå°±ä¼šæŠŠè¿™æ¬¡æ“ä½œåœ¨ä»æ•°æ®åº“ä¸Šæ‰§è¡Œï¼Œä»è€Œå®ç°è¯»å†™åˆ†ç¦»è¿‡ç¨‹ã€‚ä½†Sharding-JDBCå¹¶ä¸ä¼šåšæ•°æ®åŒæ­¥ï¼Œæ•°æ®åŒæ­¥æ˜¯é…ç½®MySQLåç”±MySQLè‡ªå·±å®Œæˆçš„ã€‚</p> <p>MySQL ä¸€ä¸»ä¸€ä»è¯»å†™åˆ†ç¦»é…ç½®</p> <h3 id="_2-6-4-mysqlé…ç½®è¯»å†™åˆ†ç¦»"><a href="#_2-6-4-mysqlé…ç½®è¯»å†™åˆ†ç¦»" class="header-anchor">#</a> 2.6.4.Mysqlé…ç½®è¯»å†™åˆ†ç¦»</h3> <h4 id="_1-åˆ›å»ºä¸¤ä¸ªmysqlæ•°æ®åº“æœåŠ¡-å¹¶ä¸”å¯åŠ¨ä¸¤ä¸ªmysqlæœåŠ¡"><a href="#_1-åˆ›å»ºä¸¤ä¸ªmysqlæ•°æ®åº“æœåŠ¡-å¹¶ä¸”å¯åŠ¨ä¸¤ä¸ªmysqlæœåŠ¡" class="header-anchor">#</a> 1.åˆ›å»ºä¸¤ä¸ªmysqlæ•°æ®åº“æœåŠ¡ï¼Œå¹¶ä¸”å¯åŠ¨ä¸¤ä¸ªmysqlæœåŠ¡</h4> <p>æˆ‘ä»¬è¿™æ˜¯æ˜¯åœ¨ä¸€ä¸ªwindowsä¸Šåˆ›å»ºä¸¤ä¸ªmysqlå®ä¾‹ï¼Œå¹¶ä¸éœ€è¦å®‰è£…ä¸¤ä¸ªï¼Œåªéœ€è¦æ”¹ä¸‹ç«¯å£å’Œé…ç½®æ–‡ä»¶å³å¯ã€‚</p> <p><code>1.é¦–å…ˆæˆ‘ä»¬æ‰¾åˆ°mysqlçš„å®‰è£…ä½ç½®</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>&quot;C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld.exe&quot; --defaults-file=&quot;C:\ProgramData\MySQL\MySQL Server 5.7\my.ini&quot; MySQL57
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="/assets/img/image-20221115135450558.9b218361.png" alt="image-20221115135450558" style="zoom:50%;"> <p><code>2.å¤åˆ¶MySQL Server 5.7æ”¹ä¸ªåå­—</code></p> <p>è¿™ä¸¤ä¸ªä½ç½®çš„éƒ½è¦å¤åˆ¶</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>C<span class="token operator">:</span>\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\<span class="token class-name">MySQL</span>\<span class="token class-name">MySQL</span> <span class="token class-name">Server</span> <span class="token number">5.7</span>\bin\mysqld<span class="token punctuation">.</span>exe
<span class="token number">2.</span>C<span class="token operator">:</span>\<span class="token class-name">ProgramData</span>\<span class="token class-name">MySQL</span>\<span class="token class-name">MySQL</span> <span class="token class-name">Server</span> <span class="token number">5.7</span>\my<span class="token punctuation">.</span>ini
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><img src="/assets/img/image-20221115135734115.8d517029.png" alt="image-20221115135734115" style="zoom:50%;"> <img src="/assets/img/image-20221115141343114.84911127.png" alt="image-20221115141343114" style="zoom:50%;"> <p><code>3.ä¿®æ”¹å¤åˆ¶ä¹‹åçš„é…ç½®æ–‡ä»¶</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">ProgramData</span>\<span class="token class-name">MySQL</span>\<span class="token class-name">MySQL</span> <span class="token class-name">Server</span> <span class="token number">5.7</span>s1\my<span class="token punctuation">.</span>ini
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">[</span>client<span class="token punctuation">]</span>
# pipe
# socket<span class="token operator">=</span><span class="token number">0.0</span>
port<span class="token operator">=</span><span class="token number">3307</span>
<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>
no<span class="token operator">-</span>beep
<span class="token keyword">default</span><span class="token operator">-</span>character<span class="token operator">-</span>set<span class="token operator">=</span>utf8
# SERVER SECTION
# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
#
# <span class="token class-name">The</span> following options will be read by the <span class="token class-name">MySQL</span> <span class="token class-name">Server<span class="token punctuation">.</span> Make</span> sure that
# you have installed the server correctly <span class="token punctuation">(</span>see above<span class="token punctuation">)</span> so it reads <span class="token keyword">this</span> 
# file<span class="token punctuation">.</span>
#
# server_type<span class="token operator">=</span><span class="token number">3</span>
<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
# <span class="token class-name">The</span> next three options are mutually exclusive <span class="token keyword">to</span> SERVER_PORT below<span class="token punctuation">.</span>
# skip<span class="token operator">-</span>networking
# enable<span class="token operator">-</span>named<span class="token operator">-</span>pipe
# shared<span class="token operator">-</span>memory
# shared<span class="token operator">-</span>memory<span class="token operator">-</span>base<span class="token operator">-</span>name<span class="token operator">=</span>MYSQL
# <span class="token class-name">The</span> <span class="token class-name">Pipe</span> the <span class="token class-name">MySQL</span> <span class="token class-name">Server</span> will use
# socket<span class="token operator">=</span>MYSQL
# <span class="token class-name">The</span> TCP<span class="token operator">/</span>IP <span class="token class-name">Port</span> the <span class="token class-name">MySQL</span> <span class="token class-name">Server</span> will listen on
port<span class="token operator">=</span><span class="token number">3307</span>
# <span class="token class-name">Path</span> <span class="token keyword">to</span> <span class="token namespace">installation</span> <span class="token class-name"><span class="token namespace">directory<span class="token punctuation">.</span></span> All</span> paths are usually resolved relative <span class="token keyword">to</span> <span class="token keyword">this</span><span class="token punctuation">.</span>
basedir<span class="token operator">=</span><span class="token string">&quot;C:/Program Files/MySQL/MySQL Server 5.7s1/&quot;</span>
# <span class="token class-name">Path</span> <span class="token keyword">to</span> <span class="token namespace">the</span> database root
datadir<span class="token operator">=</span><span class="token class-name">C</span><span class="token operator">:</span><span class="token operator">/</span><span class="token class-name">ProgramData</span><span class="token operator">/</span><span class="token class-name">MySQL</span><span class="token operator">/</span><span class="token class-name">MySQL</span> <span class="token class-name">Server</span> <span class="token number">5.7</span>s1\<span class="token class-name">Data</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><code>4.æŠŠå¤åˆ¶ä¿®æ”¹ä¹‹åçš„ä»æ•°æ®åº“åœ¨windowså®‰è£…æœåŠ¡</code></p> <p>åœ¨å¤åˆ¶å‡ºæ¥çš„mysqlçš„binç›®å½•ä¸­cmdä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>mysqld install mysqls1 --defaults-file=&quot;C:\ProgramData\MySQL\MySQL Server 5.7s1\my.ini&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æŠ¥ä¸‹é¢çš„é”™æ˜¯å› ä¸ºæ²¡æœ‰æƒé™ï¼Œç”¨ç®¡ç†å‘˜æ‰“å¼€cmdçª—å£</p> <p><img alt="image-20221115142628824" data-src="/assets/img/image-20221115142628824.ac879114.png" loading="lazy" class="lazy"></p> <p>å‡ºç°ä¸‹é¢æç¤ºè¡¨ç¤ºå®‰è£…æˆåŠŸ</p> <p><img alt="image-20221115142749172" data-src="/assets/img/image-20221115142749172.96bb420c.png" loading="lazy" class="lazy"></p> <p>åˆ·æ–°ä¹‹åå¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ–°å®‰è£…çš„myql</p> <img src="/assets/img/image-20221115143014212.7d91a53e.png" alt="image-20221115143014212" style="zoom:50%;"> <p><code>5.å¯åŠ¨æœåŠ¡</code></p> <img src="/assets/img/image-20221115143139636.4ea7619f.png" alt="image-20221115143139636" style="zoom:50%;"> <p>å¯ä»¥çœ‹åˆ°æ–°çš„mysqlå¯åŠ¨æˆåŠŸï¼Œnavicatå¯ä»¥è¿æ¥æˆåŠŸ</p> <img src="/assets/img/image-20221115143337092.97a6a67a.png" alt="image-20221115143337092" style="zoom:50%;"> <h4 id="_2-é…ç½®mysqlä¸»ä»æœåŠ¡å™¨"><a href="#_2-é…ç½®mysqlä¸»ä»æœåŠ¡å™¨" class="header-anchor">#</a> 2.é…ç½®MYSQLä¸»ä»æœåŠ¡å™¨</h4> <p><code>1.åœ¨ä¸»æœåŠ¡å™¨ä¸Šmy.iniä¿®æ”¹</code></p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token comment">#C:\ProgramData\MySQL\MySQL Server 5.7\my.ini æ–‡ä»¶ä¸­è¿›è¡Œæ·»åŠ </span>
<span class="token comment">#è®¾ç½®æœåŠ¡idï¼Œä¸»ä»ä¸èƒ½ä¸€è‡´</span>
<span class="token key attr-name">server-id</span> <span class="token punctuation">=</span> <span class="token value attr-value">1</span>
<span class="token comment">#å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—</span>
<span class="token key attr-name">log-bin</span> <span class="token punctuation">=</span> <span class="token value attr-value">mysql-bin</span>
<span class="token comment">#è®¾ç½®éœ€è¦åŒæ­¥çš„æ•°æ®åº“</span>
<span class="token key attr-name">binlog-do-db</span><span class="token punctuation">=</span><span class="token value attr-value">user_db</span>
<span class="token comment">#å±è”½ç³»ç»Ÿåº“åŒæ­¥</span>
<span class="token key attr-name">binlog-ignore-db</span><span class="token punctuation">=</span><span class="token value attr-value">mysql</span>
<span class="token key attr-name">binlog-ignore-db</span><span class="token punctuation">=</span><span class="token value attr-value">information_schema</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><code>2.åœ¨ä»æœåŠ¡ä¸Šmy.iniä¿®æ”¹</code></p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token comment">#C:\ProgramData\MySQL\MySQL Server 5.7s1\my.ini æ–‡ä»¶ä¸­è¿›è¡Œæ·»åŠ </span>
<span class="token comment">#è®¾ç½®æœåŠ¡idï¼Œä¸»ä»ä¸èƒ½ä¸€è‡´</span>
<span class="token key attr-name">server-id</span> <span class="token punctuation">=</span> <span class="token value attr-value">2</span>
<span class="token comment">#å¼€å¯æ—¥å¿—</span>
<span class="token key attr-name">log-bin</span> <span class="token punctuation">=</span> <span class="token value attr-value">mysql-bin</span> 
<span class="token comment">#è®¾ç½®éœ€è¦åŒæ­¥çš„æ•°æ®åº“</span>
<span class="token key attr-name">replicate_wild_do_table</span><span class="token punctuation">=</span><span class="token value attr-value">user_db.%</span>
<span class="token comment">#å±è”½ç³»ç»Ÿåº“åŒæ­¥</span>
<span class="token key attr-name">replicate_wild_ignore_table</span><span class="token punctuation">=</span><span class="token value attr-value">mysql.%</span>
<span class="token key attr-name">replicate_wild_ignore_table</span><span class="token punctuation">=</span><span class="token value attr-value">information_schema.%</span>
<span class="token key attr-name">replicate_wild_ignore_table</span><span class="token punctuation">=</span><span class="token value attr-value">performance_schema.%</span>
<span class="token comment"># The next three options are mutually exclusive to SERVER_PORT below.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><img alt="image-20221115150112156" data-src="/assets/img/image-20221115150112156.d13e0596.png" loading="lazy" class="lazy"></p> <p><code>3.è®¾ç½®å®Œä¹‹åé‡å¯ä¸¤å°mysql</code></p> <p>å…¨éƒ¨é‡å¯æˆåŠŸ</p> <p><code>4.åˆ›å»ºç”¨äºä¸»ä»å¤åˆ¶çš„è´¦å·</code></p> <p><strong>ä¸»mysql</strong></p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token comment">#åˆ‡æ¢è‡³ä¸»åº“binç›®å½•ï¼Œç™»å½•ä¸»åº“;</span>
mysql â€h localhost â€uroot â€p
<span class="token comment">#æˆæƒä¸»å¤‡å¤åˆ¶ä¸“ç”¨è´¦å·æˆ–è€…åœ¨navicatä¸­ç›´æ¥æ‰§è¡Œä¸‹é¢çš„sql</span>
GRANT REPLICATION SLAVE ON *.* TO 'db_sync'@'%' IDENTIFIED BY 'db_sync';
<span class="token comment">#åˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#ç¡®è®¤ä½ç‚¹ è®°å½•ä¸‹æ–‡ä»¶åä»¥åŠä½ç‚¹ï¼ˆé‡å¯æˆ–è€…åˆ·æ–°éƒ½ä¼šæ”¹å˜ï¼‰</span>
<span class="token keyword">show</span> master <span class="token keyword">status</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img alt="image-20221115151209041" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <p><code>5.è®¾ç½®ä»åº“å‘ä¸»åº“çš„åŒæ­¥æ•°æ®</code></p> <p><strong>ä»mysqlï¼š</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>#å…ˆåœæ­¢åŒæ­¥
<span class="token class-name">STOP</span> SLAVE<span class="token punctuation">;</span>
#ä¿®æ”¹ä»åº“æŒ‡å‘åˆ°ä¸»åº“ï¼Œä½¿ç”¨ä¸Šä¸€æ­¥è®°å½•çš„æ–‡ä»¶åä»¥åŠä½ç‚¹
# master_host dockerå®¹å™¨linuxçš„ipåœ°å€
# master_port ä¸»mysqlæš´éœ²çš„ç«¯å£
# master_user ä¸»mysqlçš„ç”¨æˆ·å
# master_password ä¸»mysqlçš„å¯†ç 
#ï¼ˆæœ€åä¸¤é¡¹ä¿®æ”¹æˆåˆšåˆšä»ä¸»mysqlæŸ¥åˆ°çš„show master status<span class="token punctuation">;</span>æŸ¥å‡ºæ¥çš„fileåå’Œpositionå€¼ï¼Œä¸»mysqlæ¯æ¬¡åˆ·æ–°æƒé™æˆ–è€…é‡å¯æ—¶ï¼Œè¿™ä¸¤ä¸ªå€¼éƒ½ä¼šæ”¹å˜ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½éœ€è¦æŸ¥çœ‹æ˜¯å¦ç›¸åŒï¼‰
CHANGE MASTER <span class="token class-name">TO</span>
master_host <span class="token operator">=</span> 'localhost'<span class="token punctuation">,</span>
master_port <span class="token operator">=</span> <span class="token number">3306</span><span class="token punctuation">,</span>
master_user <span class="token operator">=</span> 'db_sync'<span class="token punctuation">,</span>
master_password <span class="token operator">=</span> 'db_sync'<span class="token punctuation">,</span>
master_log_file <span class="token operator">=</span> 'mysql<span class="token operator">-</span>bin<span class="token punctuation">.</span><span class="token number">000001</span>'<span class="token punctuation">,</span>
master_log_pos <span class="token operator">=</span> <span class="token number">878</span><span class="token punctuation">;</span>
#é‡ç½®
reset slave<span class="token punctuation">;</span>
#å¯åŠ¨åŒæ­¥
<span class="token class-name">START</span> SLAVE<span class="token punctuation">;</span>
#æŸ¥çœ‹<span class="token class-name">Slave_IO_Runing</span>å’Œ<span class="token class-name">Slave_SQL_Runing</span>å­—æ®µå€¼éƒ½ä¸º<span class="token class-name">Yes</span>ï¼Œè¡¨ç¤ºåŒæ­¥é…ç½®æˆåŠŸã€‚
show slave status<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>é”™è¯¯ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°slave_IO_runningæ˜¯ noï¼Œæœ‰é—®é¢˜ï¼Œå°†æŸ¥è¯¢å‡ºæ¥çš„ä¿¡æ¯å‘åæ‹‰ï¼Œå¯ä»¥çœ‹åˆ°<code>last_io_error</code>å­—æ®µï¼Œé‡Œé¢æœ‰æŠ¥é”™çš„ä¿¡æ¯</p> <p><img alt="image-20221115161053281" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <p>æŠ¥é”™ä¿¡æ¯1</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Fatal</span> error<span class="token operator">:</span> <span class="token class-name">The</span> slave <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> thread stops because master and slave have equal <span class="token class-name">MySQL</span> server ids<span class="token punctuation">;</span> these ids must be different <span class="token keyword">for</span> replication <span class="token keyword">to</span> <span class="token namespace">work</span> <span class="token punctuation">(</span>or the <span class="token operator">--</span>replicate<span class="token operator">-</span>same<span class="token operator">-</span>server<span class="token operator">-</span>id option must be used on slave but <span class="token keyword">this</span> does not always make sense<span class="token punctuation">;</span> please check the manual before using it<span class="token punctuation">)</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è§£å†³æ–¹å¼</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>å‘ç°æ˜¯server<span class="token operator">-</span>idé‡å¤äº†ï¼Œä¸ºä»€ä¹ˆä¼šé‡å¤å‘¢ï¼Ÿæ˜æ˜æ˜¯å¤åˆ¶äº†ä¸€ä¸ªå‘€ï¼ŒæŸ¥è¯¢my<span class="token punctuation">.</span>iniæ–‡ä»¶å‘ç°ï¼Œé‡Œé¢åŸæ¥æœ‰ä¸€ä¸ªserver<span class="token operator">-</span>id<span class="token operator">=</span><span class="token number">1</span>çš„é…ç½®ï¼Œç°åœ¨çš„ä»åº“ä¹Ÿæœ‰server<span class="token operator">-</span>id<span class="token operator">=</span><span class="token number">1</span>ï¼Œæ‰€ä»¥å’Œä¸»åº“é‡å¤äº†ï¼Œåˆ æ‰ä»åº“çš„server<span class="token operator">-</span>id<span class="token operator">=</span><span class="token number">1</span>ï¼Œé‡å¯
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å‘ç°æŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯2</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Fatal</span> error<span class="token operator">:</span> <span class="token class-name">The</span> slave <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> thread stops because master and slave have equal <span class="token class-name">MySQL</span> server <span class="token class-name">UUIDs</span><span class="token punctuation">;</span> these <span class="token class-name">UUIDs</span> must be different <span class="token keyword">for</span> replication <span class="token keyword">to</span> <span class="token namespace">work<span class="token punctuation">.</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è§£å†³æ–¹å¼</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>#åˆ†åˆ«åœ¨ä¸»æœºå’Œä»æœºçš„mysqlä¸‹æ‰§è¡Œ<span class="token punctuation">,</span>å‘½ä»¤æŸ¥çœ‹uuidå€¼<span class="token punctuation">,</span>å‘ç°æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºæ˜¯ç›´æ¥å¤åˆ¶çš„
show variables like '<span class="token operator">%</span>server_uuid<span class="token operator">%</span>'<span class="token punctuation">;</span>
#æ‰¾åˆ°ä»åº“ä¸­çš„<span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">ProgramData</span>\<span class="token class-name">MySQL</span>\<span class="token class-name">MySQL</span> <span class="token class-name">Server</span> <span class="token number">5.7</span>s1\<span class="token class-name">Data</span>\auto<span class="token punctuation">.</span>cnfæ–‡ä»¶ï¼Œæ”¹å€¼å³å¯ï¼Œæˆ–è€…ç›´æ¥åˆ é™¤auto<span class="token punctuation">.</span>cnfä¹Ÿæ˜¯å¯ä»¥çš„
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¯ä»¥å‘ç°ç°åœ¨å·²ç»å…¨æ˜¯yesäº†</p> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdUAAADbCAIAAAC0ppxkAAAbCklEQVR4nO3dXWgbZ7oH8Gccb1q2F5Vhg6+Wchyp6bpNWkSPwfJFWnzkIKWwdg8OS1kak2WluLCxfMCwPiRXMfiA4XichXWt5QSnHMJi0ziFWCLWMU0uLENaRE6SdWtrrJywV8YXUS+2NB/2nIsZjeZTnzN6Jfn/o4XII828M4/0zPs+80rDPXv2jBg5fPgwq00DADDXwroBAAAHFPIvAAAbrbasJXt/6UbqKXX0nvvgDZPFT+5cXc2Q5WIAgIOo6v5v9v7S1atfk9fbZv2MVKbarQAANJ0q8++TOzce/9PH5wbee93qGdn7X6eedvT2dlS3IQCAZlNl/eGND84Vrig8uZ962ub98A26X92GAACajbPX357cWc20eT98z+XoVgAAGpGT+Td7P5WhDi+yLwCACefyr1z4xYwHAABTjuVfqfD7HrIvAIA5e+b/Gj15nCGi1I2rKdUfV69iFjAAgMyp/PvGB+fOfaB6/OTO1VVC5gUAUFSbf+Wvtkmerl7NEFGb9+MBXHQDACiMw++fAQAwgd/fAQBgA/kXAIAN5F8AADaQfwEA2ED+BQBgA/kXAIAN5F8AADac+v4bC/tX/vR8vP1n/zhziHFDNp7//Pq+9E/uRB20BwDqkpP3f9N8N47o4Pz0Q+fhHydIPh+wboul3ZcnZ16+/cmrf+50/lUAYKbq/Ju9v3QjRd5eb9tqymTxQUm5AADlcvz+bwAAYMrp+785Q11gpZYbE4dPqRYKd5+dSIhExLW3/u8fWt2Gv5OqLHt74aePSV+iFe4+e/fBIfVrK2iGFdNm0Mbz166LkyOvXDiSe97uy5MzL8l/+O7JFv22Sq8pm7VQ3YBvrv80b2i/aQsLvkpfedcf1YIH6u9/DQ39Zfvo7+ejv/llSTsF0Cycvv6WkX4SjWysROy+PHl9f8iiBCk+ePFue+uDiVY37X128cXv7rZI+Uu4++zdBLc08copIqK9zy6+eI1IThA7okCkTrXbOyK1c0WSb8FmWNp4/jv62Y8T0rBj77OLL062c3dPtlDnobP0YvzrvQu5nCVs7H1LLTdyyfe167Q08apJ48tvofvkKz+etK7kWrSwyKvKbwYAODn/7I0PzuV87G3LrF5dup+1YbW7+98S99YR84WqPu+hX5+gb3ekLtvefybEs58o3a5Df/6khR68vLJLR9u53Gpfnrz47MouEe1v7tD7yt8raoalzlx/Vt/CQ//m5+jB3m150X7sgUgnDp0iItq/srr/vr9Vabz2mTVrYaWKNeOXv4murq6i8wsHUI3m/7re+9DbRk8f/58NCbizdbJd/OPMT6/J6VLLtN+6sXdNlwKOtLxP4ve75D7C0c7+NpGwsfcNiV9u7NvTDGu3F376+UX5v4EH+b+7Ow+9T/tfbRAR0e7+lzvc5IdSD1f8foe+STxXXqXUAWrcwgpV2gyAplez71+42trsWlXLhT+8+uPEYXs+1Uda3idxc5e2d+g/PmmlB/sCid/v0NtHih6ZSppxe+Gnjx+0LE28+uPEqz9OvLp0Qt2S1n8/Qdce7ZFUfGg/FFSdMIY+kV8i/fePkmrNdrewQrbGC6CJ1Cz/PnmcIWprs++2GPlP9fjXe0Wem+vt5u3uf0stv+4kOsK9TUS099XOoWBny7/SXmyXqIxheznNoL2vHlCuqmDi1Dst9GDvNu3HHohne5Wrf9xb7XJeroidLSzN/uZOlc0AOBBqlH+f3FnNkBM3oxe/L6VWK3Utrz/P1Uz3PruuVFS5t9rFL//68m8nWtzUEjxB4399+TfijpVXNi2tGcS91S5f7iOi2wuG0X3nobO0/9Xd/S93Wn6dv1rVEjzBiQ9efLZRVpOKtfAI9zYZ03qxFpq/qiV4QilJ71/50/M/muRfi2YQJSd7e3t7eyeTZe8TQIOr9v5Dhu+4kXL/N/lLcRKz2Q+V3X9IPRGKiP5ZmaFVbBaUOpuoXiWNuDl57tfuy5MzL7/VTlwrsxn6RUTEkWb93+Re8l/04t2dVvVMBum16rWZrrOUKWgFWihTNSY/LaxYC81fpUq7ulcVb0ZysvfS/xD9y+XVcV/hXQJoLrj/GzAnzQBG/oUDB79/Bqwl//sv23T0979F8oWDppl+/wwajdTxRekBDirUHwAA2ED9AQCADeRfAAA2kH8BANhA/gUAYAP5FwCADSfv/yZRfUMONyMCAFA4e/+3J3eurmY6es8xuUkGAEBdc/L+b0/urGbQ5QUAMOfg/d+ePM60eT9G8gUAMOXc94+fPM5QW+8Pd67ekKu/8s+iAQAAkdO//5BZfdx77twHRFKd+MadNlQjAAAkzs4/U/3iuus9bwdlUrbcgRMAoAk4m3+fPkW6BQAw51z+fd3VRk+zPyiPs0+f2nsDOACAhuZc/tUVHJ7cTz1t876H6i8AgMTB+78RaW4BZ5z+gN//BYCDDL+/DgDABn5/BwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYAP5FwCADeRfAAA2kH8BANhA/gUAYIPLZrOs2wAAcBCh/wsAwAbyLwAAG8i/AABscKIosm6Dua2tLdZNKM+bb77JugkA0EhaWTegkAbKaA13tgAA5lqROOyCI1mZBjrLAtirtb29nXUbzO3s7LBuQnnq+UjWc9tYNwGAGVx/AwBgA/kXAIAN5F8AADYaNf8KMz1cz4yg/WM8bPyb9OfCwvEatRoAIM/W/JuZ7XNFEnau0Up8KkL8tRE3CTM9+TwajFIy4jHLq6GYqIiF9A+LEGZ6kKIBwHaW+TcRcfXNZqweqmRm+1wy7/g9mh906difkePh4CP+2oibiNwja5pU6uPT+cdzgdwrokFNltY9tCbM9HCcJ5KsvK2JiMvqyGmPaYGTV+4QO3JuM2w3EXFFEpSZ7bNodv5phZ8AAEVY5d/E8nzXwKkO5bH/wiSNn7f6vA0tZs2lJrtsb3I8HKTYmtz3Nas3mKik/yvM9HBn6VopPeQC/Pzi0L3xK+VlTtU5zeVyubxLA6lsNpvl/VU0pFzuThr3Wqf8jLBBne4Oi6UAUAKL778llue7BhZv97nG76n/fM/rGlcedE2mVoalD+D8oGvechNDNjRTZWYiSskoFyUiCsXEkXSY86i7sB4uIv3Dx6fXRtzSv6NBTtPNjWoehvrNNuQeWRNHiIjSFbQyM9vnVR+73AHqmkytuK+4lk8XTaZDi47m28xsn3dpILUybFggbBCdpg4/v5I61uddTvB+PyUirkGTCBvD7nCrAZqKaf7NzE7ND41l/f7hrOHjacryU5eZ7fNuVtE8EyNr4ggJMz2ejYtSgWFOFOeKvSgUyxcj4mHuZr/2ob0tJCLqGF5Z3HQNknJgMrN93s2xLO8n0ncpVbl60DVPNLSYOmZ/iwwNHBsaH7ySGL5Q6Dkr8o9D+/lsllctycz2eTc7hzaOXcidggGgbGb1h8QVpeeWiOiruTJt6c9Y9FVVhO0nzJzNJd9SBOYKPbfw0ir4+ewiDfbNZpTOpkXPsGN4JZvNLg7l6jjS00yPqZ0VV/+Fya75qdltIiKhQBHfWIJIRLzjnYs8z49temtzvRWgKRnzb2Z2Kj+o9PMWhV1tt6em9V9h5mwkmbuC1jMjWEwv65kRSDs9wvz6m/rptpHPW4PzdG/cK+W0e+PeAhlUOurzg/nl+WO6OKQ8sLW32XFqoOve0vImEbmHV1Rbo67JVD6G2rNGZrbPNThPXceOEpGfz55edui6IEDz0+ffzOz5cRoaymVNy/6v9jNXy/6vsLyQzF9Qkyq8mlkP6otqmukRopjmfRQKhaT/Y5pXKKViW1ietywyqDzkGFpc7ByvXZeyY3glu3JBW+vICBtE95ZuG88S0kXB8/R5Nptd7Bz3SmcKP5/Nnl62uWsOcDDo8+/2Jk1+nv9IWucRTa+olv1fKaWWXzKIhznuLF0T5/qJqH9O7L9pc5+3conI4HyXdNLz86nJjeXbJHcwnaa/TEi0vXmva2iItAk4EVEyr3T+8PPZxU5lPoyfz2azn9N5ZGGAsujzr5/XdNB0E6HMCpEdwyv5ZKyfNapZaKN8XaGEL0ZIBYqb/dpObmBOvEZnba88KMyGDubZKbE8P7So9EM7hld496YTZXOdzGyfy7s5pjlFZman5rsGLlwYIM2UOT9v7Ln7ee1fpCo2LscBlK749980tcB8iVAmz8LPTcbvGP58YEkzgJZm89topoeTOrKq71hovvWm/lJFPMxx3ERn2rzHLHWlpSzsxDfctIdu0Woinp/X11iFDc3kayckIt6lgZRuw4kr4/eGxoY7OobHhuantCeLRERddNI+wrcxACpR3fePpYlqmi5Px/DKIkkf3UTE1Td7lF+kQTtT8MiasVprWf8NzBUv7co1YuuKRmCuknqHNUO+1UlcGSen06+h+0pSGWRoUWqan9dWojOzU/Ndkxf8uUQrl337ZjNSLl4+nRpYKvB1DQAwqub+Q5nZ8+M0mfIT0dFjXfc2t4k6iIj8/IqfiBLL89S52EF+PjXZd34243doaBqYEw3J0exvpSyz171x9fdViKhrsviL5MnXtR7GJyKuwY3J1IpyYvDzi0OuQRctZnm/HOnhDqLt/Ev8fNZPRIkr8zS06O/w+1PU540k8AUMgBIVz7+GJEJEUibpGF7JfT+j49RA17jh21BdUnKmjuGVleqb2nhU3xAkokTENZX7x6DybTh9nk1cGe9czNY4g80Puua1jSUi8vPZ1LE+b99saiUfaf/pocFBw2lFiXO2Vk0GaAJcNmv8yOS/q5WZ7TtPnxsHqq6pY/pPq912dnYa6M5gW1tb9XyPn3puWwNFGcBepvm3LjTWJxP5tzKNFWUAezXq768DADQ65F8AADaQfwEA2Gjd2dlh3YYmUc9Hsp7btrW1xboJAGxwoiiybgMAwEGE+gMAABvIvwAAbCD/AgCwgfwLAMAG8i8AABtF8u/29nbhJ0D9QxCbAILYBIxBRP8XAIAN5F8AADaQfwEA2ED+BQBgA/kXAICNWuTfeJjjfLwjN3kH+yBMhTXE8WmIRta/mh3GMvKvwPu0N3n3sYqz3BKL7cfDDt1OvkIC76tNcwwBstiqdICYxtDk/a1uVWntqu0bUth86NzKy1cHQSzejIIxLetz0Xyxlvao3P5vKJa7xXt6mkY9PmaR7+7uXl+4Zdy6wF+Odnd3V7zeeLiecnf58gESRXHOcKNngfdxQco/59J3n7LvLQm8j+OCD6fTSrNix0c9pX3EavaGdEeSopiMuB1afTnqJIgFm1FNTK00X6xDldcf3JFLITJNgTWxfvx4aH10Sp8phVsL66Hjx9eZtKn+xadG17unx/JpOTDHPKUI/Kej66GY5v0emBNjofVRTzlnQsZvyNqpkyAWaoZdMbXSNLG2tf6rHiT4rE5O6ifJoTCORkupv/SPTXdHL+sGsVOjND3WX3SLykbUf5VO2VGiaFC7Bxb7JTUyXrAYUoR2WKV/Z6qGb/J27Hjvrn+XLrNlpYWppOgbGT7GssDYdDdFb1a6w/rGqh7LA19Ve5XDWmBRiWtQnmp/4NTqJIgWzXAoplYaONaV5994OBil0CXlBBcPc56FM+ki4wOBn6Ivcs/pjgZ9vEAU6NedzOI3Nau24I5cCmleJvCXo4aXmW6RKB5WjY76N3lBHnXEQrlxjnzuLrxf66PB7y6pnl2OeJjzjB5XjakeBrUfhGBUGXFd+i44akOnPtAfIooGi75FSgqTwF9WwlRa9M22tPmQus98ZHLw3B+d6aaHm6Unct0bsrBo8FN5D2MhigbVB6TAohLW4Ezg1OokiNbNsC+mVpon1mJBgiAo/05Pa6qqmkKjmJ7u1v4lPd1N3VJ+i4Uo90+tfK5TPVvzd3Pp6W75CZpnKg+sX68sya/Csk0l7VfBdupba9iQ7qionmlcatli7TNMQqQOouZp2rWVGyZVgwodJVP5bVlutfgeF3xD6terepye7tYs0+2IxaIS11BJ4EpRh0G0bEZpMS3ruDRHrI3ptMLrb/qThXBrYV0etss8o+sWo5N8hz0Yzf3N/dEZ5XKawF+Omg1ezARUNYj4TauXmWzR/dGZbooGiw2yiu5X9688pbTTZM2bD4mOH9OcwN3HjpPUOzBbWhp18I2X34jkbr4Ykzov1vtfNEy3FnJjzHKir+f5VcFrpUWPr8UbsqgCB7fE4276tMoDV546CaJ5M6qNqZXmi3Wl198CcyYHwZj3DQkgHuZUHfZYSFmQf1MItxbWzQcvZpTXCfzlqNnLrLbojiRFMT3dvT7qKVbqKmG/Gk9gTsztv/GtXDhMo1NxkzBVeJTcx45bXEgRbi2sl/z2Nn1DNr06CaK+GTbF1HpzzRPriuu/2oOQ77kVFL8Zpe7ptBxTzSy7XCItL/3KReDRqfDU6LpZPajAFkl1+jaZSVHOflXAbM35E6rJ0vR39k/qcEcuhUz+XChMkUshit6MC7cW8se7qqMU6Dc//FbXcCzXo/1Uen7VXWIP3FY1Cpxmk3UQRF0z7IqpleaJdRXzH6SLmfLgPzCmOwsLvM/8BJU7UAL/qaZYLV1Nm5paMM2jRdoRjRYoWZhtUeDDmi6vZkykOqal71e5DGuOhz2j66GY9IGR3sH5+ZTxcH4AWYV4WNPVly6+9JsdN6swUaA/RNHLny6sq15X1VEKzKWnu3XXceJhLhjtnv6i7DeC8oZ0HztO+UvtNh2+UhrhTODU6iSIhZphW0ytNEusq5l/5o58oRpzRJLSIZd9Sl8Yhy65sMhPiGnP24H+0Ho0um7+VirUjo/OdFtcb7XcojvS/50nVxp7OJ1Wpi8E5mIhdU2ipP0qTlNY43JHTIyF8guCD6fT+eFebrakvPBmv+HqWiUCc+IlZb856Wp3BWGi9XXSnO6qO0ruSFKa/aEIUqyCKSWaN6R6J7ib/TGzPqITnAmcbgv1EMTCzTCJaZSMn1KTz0VpmiXWVpfqJLqrrg6z50pxk6r84NQ2iKDjyPyHRiQlpyIzKhpbGfMfJPX0+2eqi7GgJ9xaWLcYZUI9Q+By3JFkLETro57G/oZ/ARXEunA+r+VZt9is34MlPd2t6inEQlR5z6EJuk4NxMbAqSGIdajcWBuDWBf5V66a6JtuVsap39GL/a3VrDF/Zip7Q+w+urYck8Z6G4iiZeCq0uBBrMNt2aOsWBuDyImiaNxlxfb29tGjRws8AeofgtgEEMQmYAxiPdV/AQAOEk4QGv433AAAGlHr3uu/LLD40A9/x6in0f3www+vv/4661ZAVRDEJmAMIuoPAABsIP8CALCB/AsAwAbyLwAAG8i/AABsyPn32JFX2LbDSjzMcT0zVlPkqlkKAMBWvv9btym4UsLWo4pep7qhqT5713CRMNNTyc/yFd8z3cqEmR6cpRoJgthUNnefbe4+0z1U/mP+qx+xEJGPt/oCeOGl1W4vzfvUq6/hIs2dPUu8zae1bDYr/0vXANGJIwiOQBCbQD6IOfr8q0vBByz/pnmf9u7HvC+3/lou0v8SXJW7qY66Npnr2wB1C0FsAsb8a3L9zaoQEQ9zXDieHxf3zAiaYbI8JjJWXVV/yY+3NSMozTA8PtNT5pDbYqyu2q4grdPYWu16lheSmp/vdL/5DiUXloUaL9p6RL5O1f2QAv0hSm7Ycn+rwBjvU27VIiwvJH28+geX1UdSE0SLwAELCGLTMJ//YFkLjgbP0jVRFMU070tGPBzn2bgoiqL6ntCB/pCcR2Txm1EKXRxxUzzMBR/lunH9W/I7Q5jpUd2mVby4EYwky9mDZMQjt0kU07wvGrSsgymNL3QHa03iI0+nj80iTbqttJJtxj1yMUTRiRmBKD4VSYYujig3hImHpZvIyIeSIp78WdMkcMAMgtg0jPUHUpUg1PUH3ShYV5ZULVWNpEXVYNp8nGQcW2ueV7z+oF2l+sW6JqnXU3ZbarlIt19p3kf63SyLftQjbYjXREn6q+FQ+vg0Brh1AUFsAiXVH4zpOO+dNzW3z1N14FS9N/fpM75cD1iYmYjKoyP36TM+iga1YyJh65FhrRYshlXaTqT7zXeIHm2ZntxL24yBdgM1WRSYU92Z07Nx0d4bCkq9p4i23yQsLyS1d0P0RJJSN9w0cMAWgtgU9Pm3UPItWT4BC8sLSd+Z09IbxD2yli9clP8+cI+sKaeNtRE7bmKt5+n06eqs6Y1k7RcREVFgTtnZOY++IFytwBjvI23RkIjM+kdzAao6cOAIBLEJaPKvLcmXKJ+ANelXXjSyJopiLETJyFTctL+qzUNFaZNY/GaUdFssr9maxghbj+S11XKRnrC8oOnlOKLQwEF6gjZwUIcQxIaj1H91M3/N67+qc6uugJnWVaJiIfKFQupqVJoPmU19jYVIPymWyqr/qlqlrQfr67+6yV5mtVbjnFzTCrfTi2IhZZ+Nsz3LZqw6GaKlbEkTL5/0wCJwUEsIYhMwBrFVycI25/VAfygYjFIopgyP3CP9GxzHSQ98fFquIQTmxBhxQQ8XkRfEeF8wUvqGfHysc4LjgtKjUEwabZVOM+2AAnNpvseTa4xmbTVcFJi7eDN3qHx8WnS47ytxj6ylqccT5KKU2/BaQFpgGjioQwhiY+EKZ94q7n8hzPR4Iu+UnQ6reCGYw60TmgCC2ASMQWx1alPStPBryKEAAOacyr/xqUgyFFvDGAcAwIL9v/8rTdMNPuLTKCAAAFhzrv4L9QKlwyaAIDYB3P8YAKBecIJQ5Iswv/jFL2rTFACAA4UTRZF1GwAADiLUHwAA2ED+BQBgA/kXAIAN5F8AADaQfwEA2ED+BQBgA/kXAIAN5F8AADaQfwEA2ED+BQBgA/kXAIAN5F8AADaQfwEA2ED+BQBgA/kXAIAN5F8AADaQfwEA2ED+BQBgA/kXAICN/wePw/SN+tGEXQAAAABJRU5ErkJggg==" alt="image-20221115163136330" style="zoom:67%;"> <h4 id="_3-éªŒè¯"><a href="#_3-éªŒè¯" class="header-anchor">#</a> 3.éªŒè¯</h4> <p>åœ¨ä¸»æœåŠ¡å™¨çš„user_dbåº“çš„t_userè¡¨ä¸­éšä¾¿æ”¹ä¸€ä¸ªæ•°æ®ï¼Œå‘ç°ä»æœåŠ¡å™¨çš„user_dbåº“ä¸­çš„t_userè¡¨ä¸­çš„æ•°æ®ä¹Ÿè·Ÿç€æ”¹äº†</p> <p><img alt="image-20221115163610729" data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAY0AAACECAIAAADjveD6AAAgAElEQVR4nO2de3Rb1bngPyUhTkhiTgcMCaGpo8hxogQKWlSs2AOL3CIF23ML7loi5V4W0eVhW3TqHEI9rVoeq1MuuowHcuxZt7LdQhVKbwGtGefehW2sUwgXxk5RqAbyMFEkH9IZEgIO5STOy4FY88d56zz0sCQf299vZa3onP369j57f/vb3z4+2xJwgh8CsYitk2ivjkV8VgAm6HbE29iGPvEOBxN0O/xR7rczEIv4rHxMygXTThai0GRahWiS8IQAvGExGU0SnpDX6w2FRgLymNMLTRIeCMvqpqqsVDUm6Hb0NppH9vxR1oQJuh1+0HwoqueaFqhsO1Nh0Gu1nnFfA9vQ5042NPZ6hIEIAHwPNtFgBEh/KkZXyuv0B8aFLRCePS2VMBqPOqvXAABE/Q7CrymFFOIteA3zJuQhQsYxnAH+h0xFrQm6CaIvzLYm3Q5/lFNardVuh8MNphjuTLA95AzEsut+dKc/6g1Hpl/qKcDPh85AjJVVZEsX64OgmyCi/CSZXV7JEXA2rimWqFPF6ouwWQYxyREIhYiRQCyyZrBXPrny4YO9UZPVNF19yK/EkaiAsxPCrFQzJjkC9gbrAjbiAwAAV2ug3SFk5AzErDAKGTsEE3Q74lOoSAGx+iKszzgKTRLt/P+ekDMQY/mq+SKsjyYJR8gbZiMuMTcbSThI27TPT8xgb9Tbpq15ZBauMxCzAtB9yqc80xAfDZteX6vVCtyjAmCCboKwiwPV1eD1ePQmVABzqm354iQDnEoajUdF3SRTYfyEy0c0V0111YcwEpUwQbdnhB+Wsmo5AzEXWFhWT6EjCIKYgnnTLQCCIEgGUE8hCGJ2UE8hCGJ2UE8hCGJ2UE8hCGJ2UE8hCGJ2UE8hCGJ2Fuzbt2+6ZUAQBDEC3/Pk2bdv33e+853plgJBEAX79u279dZbcd2HIIjZQT2FIIjZQT2FIIjZQT2FIIjZQT2FIIjZWTDdApiUA8fGn/vj0ZNnvsoY8+plC3/sqrSvWFoCqRBkboL2lDbUW3/JRkkBwOfjF5//41+KLQ+CzGVQT2nz2emL2Uc+cXqieJIgCDKteooJugmSVt+nSYLQDEDmCEzQLfUAmiQId5DJPZe8E+aUM03OlM5KkzNEUDXF9E/JP90MAKD+9rwWTNDtCUH6oQw5fLq/ULz7s83ib88fjofvvVbv8tZn9pRUsimR/mHuaWjZ4sIE3Q6/3bRHzOQGTRIeMx19NF0U055yUaxE2Av8ITZG0CTRAl0sq0wIzkDXTHtQZpxlmaCbIBzxNnnzxhp7HeaTNH+YYIsfArEZrKQUPcdFxQLgb8nDKGSCbiINTwhCnvSbxTE4C00x7Skm6O60RaQeY7dZVSYWgIcIcXP6qBCmcXSIX3YSzpyfW/JDMDMiyhFs9UXYLUG3gyBnhQUyG84FU2L1tXn9nk7al+PT0TiAiTsBcEY+5WLaU1ZfG3h4dU33hZzVa5QmFhsLOMEbZlk24hsliT7wgjMQUwYrboRLelag5w/HxX8ZL+UwQTdBeELAT176E1a6/0R5TZPClKewduTzpCwxl5bmAjWK5AYw10eFnN0k6SZIGqy+roAz1C7zt5RKqrTGELMe1IggL0LP/qP7Qs5Aq95AVJoYqjxkEkiiZlNqWjxlNKNC0xtTu+e4WgPOUF/uFq+8RfXsqZlhTRXbj+6iwnZ/S5DhTgu0cedyaTaNi2KpBu5kQhGHP6q8kW6KFZfwvdeK/zJeyrH6IpxO9YZZlmXzsv94vwSnnxuSQpPRJOHobYwJehz8DnlrRv0eblGnKpI7q7TVBeJ5syzLsm0Q4k+UtW5pdEZ7BzP12QJLpcw4xDUXy7Jh8KcfbRf1O0SHQCzgDHk0exHdF+K6mXYRDr9dKIKNBUY8aepXqhrbBYO84ujMXCoAhDyCdGEvyKIZFarRmDo9x2qzQx6KSmkUcLKJbcwzUxYnxd7vc1Fhu9/hbumNehtcAOBq1V9uy9o1FnCC0paaYe06RZjkCEgjzuUTzi5vD3nDYhNYfV0BpXYRDCYVo/Gos3GLVaGwANZUO4UIVpu99FIJ0KQn5JT5lFxULOBMi6Mqwd+pGrhMckTPCZpehDITJtgekpcAVp/Pxf1PSaW2eSEaH9WsgeRAdbUGnEI0w0K1G1MbV4MXRpI5WT4qY0rbnspkJpqF4r+X4KLC3miUV1PcowKNPsbDW8kt0MWybXGHrA0VW9WzHeuWRieEPEq7nBnsjSo7msMflQ+dLDYqRIUloGd+lFAq5YjVRpmJ1WYHnYGrnY9WEVImzGBvFIQOmo404A3Mec1SjQvVbEwDNFSkzmIbANTGVNgLzkBAbVCx7IxwWJXg72aY5AgAhPpoysXPUW1eQrziERzs/JndTNBNEBAIB3o9BMHFcAZiLAsMA1AiiyrN8WR8WWisvgjrY4Juh99B+OW7B1m925Elo3FxdcUkR8DekKllSyKVieB6pVA5miQ8BcxctzFzyyGbiDRJtFfHIj4r2EjCHYxFfFa+bjNlX6ro9hQTbPFHvQGZn5ZzRqX1akH9t8Udoj0V2ZLsjQI4A7FYwMlZAVZr6do0b/9U1qypduquJAB4dwUb9gK3VDCwIrIoiSvI1eAVFjs02T7i5A2KYIsf5KvB0kglZKjOQaZBOZQC0X0hUJqFItqSaAkpmTt6VaD7QiCt27j5NgeMC+XjKBvTgCyMZU2YoJvwhITWclHciygE0dfAsizbtSWvTEtOkfWU8DaLz9dl/BqIYMJyrcdGbJ28tgp7o/FRq6/N7nfMuEVfptFrtdlBcpDSpLSwYIKkoq24TupqDTij8nZggu7sGsW6pZGfKFxU2Mut0voaIpE2b9TvIAhHb6M0rZZOKgFXgxeist4hL1Mg5BHzpElPCLxtajPAarPraViVkDTpkDZANUKF30J+TLAl3befuV5GhWo3Jo+GdstlgS4kC7oJogW6FPvkVl+EjQWcfIOWcuKfCkXVUzTp8APvYbT6ugKgv6PEzSss29BHSPoq4rPSfVyPdVFsGDwzyD/losKcDjDyP7ioWMAp+Hb6GqT+ZPU1xIWNTtn7yFZfRJaAIFqgK8vlltXX5uVVgWC6Ui7pt8L2L51UUoms0FpcmSo/ujMQrm4X/UR6y0wDf7PVF2EFDS3IL2WSHtrXwLWOVK/04Z4VRoXqNKZWz2EGe6O5mlM0KaxKhHwFU4Ck+dEmjLWZMKiKeI6DtChWIv/DDXF5LPinuB4ofx1U3ieZoNvhh6IsqdPOcfgv/+vIyKdnskxrX7H0v31/baElKjhcwys9EkzQ7Yi3zR7nEv/WxaypD8DUnxE/4GaKKyoN7hwHPG+GZ66cN5P2530ztPPqwwTdilXszEdvvp8jcHoKv5M3x8h6j2iGYvV1BXodDtI2O2wq/mVQao4qKRHUUyVA468aZ58hkwWlaYdZpYldFK53AFBPlQQXxbLUdAthArAdkDzB73kiCGJ2UE8hCGJ2UE8hCGJ2UE8hCGJ2eD/6vn37plcOBEEQTd599118zxNBELOD6z4EQcwO6ikEQcwO6ikEQcwO6ikEQcwO6ikEQcwO6ikEQcwO6qlsGRsbm24RkNkMdjADUE8hCGJ2UE8hCGJ2UE8hCGJ2UE8hCGJ2jL7nOTEx8dFHHx09evTTTz89d+7c+fPnAWDx4sWXX375ihUrKisr169fX1ZWVipRZwa7du1iGO2DsDZv3nz77beXWJ4p8uzeC4kvL2UZueob83+yaVFR5cmeH0XOAcD/cF/OXT711FOa0X7xi1+UTqYp8+bhL7re+eT8V0ZP5PKF8//z7atuq/pGyaQyoFAC6/4d8ocffjg0NFRdXb169erly5eXl5cvWrQIAC5cuHD69OkTJ04cPXr08OHDtbW13/72t6dSk5nC2NhYRUVFxmhPPfXUI488snZt+jFZO3bsmJycnImqaobyUP9ZAPhN/ZLpFiRbsulg9/z6w3MXM08bS8vmv/KQKUZloQTWXff19/c3NTV9//vfv+mmm1asWLFkyZL58+fPnz9/yZIlK1asuOmmmxobG5uamt544430lMJ5hpkQjzdkgm71WYc0aXRAZ07RaLK0ZymqlRQATE5Ozps3b8+ePW+//XaW+dBkTodA0mQRavni/omH+s8+1H/2veNfyy81/7344YQ6ByboTq+Fxi3urvxRik82y55QKNKLE641e2kaaVUoPNmMeQA4M6EXjSYNx6Sm9EzQnfcTKJTAuuu+Cxcu/OY3v7Hb7ZWVlddcc83SpUu5Jd7ExMSZM2c+++yzo0ePjoyMnDt3Lj2ldN6H6oBE7RMTR+Oq016ZYHvI28Za024qjp6TcBD+tDuyw0n5Q8A9hOoocOUZpsVHVFUAkI1V5aLYMBAe93Qe3nbfhrKj7OTxM5MvHbj4rfJ54qU65oql8+7bqHIC8MedR6Xm94Zj1b3KW/ypM742O9ES3MIfPNsXcjbGClftkqz7rFsawSFWwaTodnqaJNq17lt9kXCcmL6jxrxhljLyT23fvn3//v0HDx7s7+8/ffr02bNnAWDJkiXl5eWrVq1as2aNy+X66U9/OlUxmOQI2BsUD5bu7G2MRVwgnl8W8Vm1DzzKcAij8phlWZncwcqtxWp3zx+Oi7/D914LADfccMP+/fsnJyctFsuePXtUekpXCQP40/WwMxBu7PVoxQ6ptPEUz51aOB9aHGVPD52fuJQK/p+Jn9cs5i7TpsmF88HnKFs4Py01TTr89jDblZSd/ckE3Q57mI0ASfQ1KJ+KqzXQ7uikfZSLCbaHICqbgKRfec4tRfFDaR30BRBNf14FnQ7f/dlm7ofnD8e5rqW+vPWZPYUqjsNFxQJuhzuYT18qiMBGemrRokVOp9PpdOYqWdZIz5mfXL1hlnLRZHt1V4RrD66BZFOU1niW9wvZuOTP8GZdTNDtINwB2UBJP7680MifB8cDDzwg/iZJUpVCVMJM0N0CXSrZ0g8k9ylVttAsRajWtUvn3beh7MX9E8fGJ39/aOIfbijjLuVx/n5D2bVL030INClI7IrEwM09RLrTbw+zLgCgWCAJEuRD2Opr8xJ9NAV9/qg4uEt3HrDUHR2E3+v1hkLclTPARwgJNqDUzDPvHMaQ5tKCQ6ypCuuWRqff30n7Sm9ThTxEyEhP/f73v1+/fv0111yzbNmyyy67bPHixdz9s2fPsix74sSJkZGRqUngoli2VRiXTNDtiAPQZDvY05dyUYUxrVjVyTux3HKlyfbqGOuzAqcDbCQh5OkMxNhIcbuW2p7KGqvNHm0fZHzKzk/3hcAb1usiNOnobQx4o/Hqxt5iLDtqrltw+K+Xhj/5euiTr4c++To9dOWC2us0OpKLYsWn5OhtjHUNugl/FJRWH/dbfKJ8Gte0fGXWRbEsJetRFEUp+5SOYWRgCxdej8m7lvy3+lKHDOu+9AmRhxnsjQJE24OtrhyrUxCBjfRUbW3toUOHotHoyZMnz5w5c+HCBYqiAODSpUsHDhy4dOnSbbfd9uc//1mZSPXMVNpb7qpgqTWDvVF7mxV4N1WS9IQ4s4CVNQdNEp5O2ke5aNLhj6ryVCg1Jz/GXVRE0mUK6zzqdxD+4rqmctRNCqTVj3SP7gs5AzFteZmg2wNh1gekP27zdTW6s9VUBEHIL42/QK3nmdJ2S0miOeJtwtmisnW72lEpPCRnINYFLYYmc16Prpj+Ka5iNEl4Qpxa4gdBUWwtsWulLaPk3PpMXD+DkSQDLi2pXBTrAiboBm+bqnmZwd4o527I2aTSE1i57ssgsJGeqqysrKysTLu586Bvq/XHd955J3e5atUqZbjciaRawmj40el41NvgAsFN5aNYn/rIXPH0atWJummLAnHyk6tLb1h9DC8TdBOERwwvtMrSmyiy0l9WX5uXkE9cmrsKQhDn+nEB0HziSBtJZOVJYFlWVFUZP5MvOqrknikdt5QuyhlDnG28YZYSbRmpC0m9pQBLv5z0UbzTTYBdf92nqYCEGhAEOAMxVvNxFZGLkxd+l3z6wbVPA8DrP3ToxHI1eD0e9b6THK0Jke70R73hiMtlU/bMqSAfCxkFznndd+DL/30otvf25Z7Gyh8tWVC+Y8eOU6dO6WQwGo9CtbGwdF/IWd3KR/Y2uHRsaGcgFvGNanotQbXf5yD8zkAszeee1tW1fPIFZCr2FPAmlWAW8c5oDU1Kk4Qn5A2zab3GRcWSbgcRz0L9cqoqy7M8REeVeEfTLWWMZHBwKohf7evFTtsHLjr87jC38Mlu3TdIEv60bhn167hMi8Wxs8mueNuxs0lOTxmgmul5tLfihbB2wZxX9My86bYAADSnsonLCZzPum8ydemtT1+Jnhy8+1uP3L7co5teYyNPLUVroN3hIG2x6vaQt40CYEDVHYSeotXEGvaUeKnejSnqRowctT2Vm+bit4LdEG7s9YwEYhG1IR50O2TOZlXyGMj3DgzI6cChmusWyPWUpluqUNCd/qg9nCa90XCaeokk0V4d8EJvdS4bwVuUSwCFhJy5u6WI/qnwvdcOffavv0s+fXHyAgA88O71ly9YtmHZf2xY3nzFZVfJ0hk50cT8VNsEwL9a4g3zHl2rryvQm+6WyFFgWEjARRbG9kHFdwAA3v4Hyw2B1PzFynQKgXNe94mc+erLl5P/+NbxV/72mkfWLbtFHYEZ7I1qrHTTEHzcfgM3sYT2RrDSPyVuWcj0mkb3ZoLuFijWbD1FewpA2On0+J2BmFrV0KTDD4EY64Mg75vmED3UzkCM3zvIxqwqMuKENZp1CkELp0uu8a6dkp//+/nPzkpONO6t9CsXW57dfDloeank60EXxbqAJv0Ayp6m3u/jRjJkmIiZYIsftB7fVMjonzr39fi+LwcSZ/5M2npkqirDCkJvAuDroNiU7crpHQUNgSv/Fo78Duh74I5X4WonxENLTrx3rva3k+XrZOkUAuvqqY0bN+rt98lJpXSMN75+2YwQJjkCABDyuKtjkS2GUbP2T4EykkMtSxaL0vyZkn8KZO9OsG2dBL+OlfcK0WEH0sOkVS8kWXVs/JJh9UVYACbYnsWEBXxHqJZpYaHGcq+KM2D49uf9Gxfu3Hfha5m7f54Ftl3Pe/qz91KJPU1/3ccEM0zERXYuCNRec1fl0g3Bwz8+fm70xVsPjI7v/9XIY19ePPH6ieDff/MJVXQm6Hb47VnNXkLUNIXE2VRTePHT+U9w/G0YPwq9vH0z/9RHSwc3X7j5uYur/05TCl095fF4jh07lkgk/vSnP/31r38dHx+fmJjg1n0cixcsa1jetOkb35tnUflRdRwnWghRIy6gSaIlaGvUesND770OoWcLSFvh8uyBy1+VMtOiNH/ytqcEY9cbZvmaUCxLMUG3g/Cb7GUdiyWraPrutWTQ7eHq6hLfvA039jrcjSovtJ5XRU31lfN/YC97+aC0ON26fqH9qqxd/dnD+ZZLa6p++7pl8lcib30mznmgl0LFdmv3/zz2/KlTp66Cbz3wrWeeSzxw8PSQVh5WX4TdEnQTRJ+xrhJG5pQcCzoCL5n3Xbps/y8u+6TP8tXpTJW2+iKs0bpv5cqVK1eulN/hXObzLPM3/Yfv1V3z0JIFV2gkE1+vzFS+uKXOR+X3RXv1/FPKhMLaVVw5a4gRStvrUywbdTf6p8qRI0c0/8RPDNW8z8mmvVMkTMzcblKJ/9xHEyth8DqCDJqUu9eU04hNbm6MxoHr8z5uEBl4UjJV//ZVC46NT+75y1cAcPuqy75beVlmOXlhhb9eyGIuoPtCinWprG8VT3v9411VekEL5y2695s/435ft3gtAFy4dEYvsmjpyaRWjAf+70AMLA3xpURDx4KewJOLl5+/JXj+FgCAK14hJsvXnav97aUr1uvlk/O57d0fP3bXih8tX6Trt5qtZPm9BIPvuohYrdZt27YVSK5S8/N/P9+w5rJN1y3IzpyaHiZT0LHvQgqg9eZFC2Qbksb+qeklyw42+1j83iMXbn5O5UdXkLOemrPM2W6ElAbsYAbg9zwRBDE7qKcQBDE7qKcQBDE7qKcQBDE76EdHEMTsoD2FIIjZ4d/zvOIKrTc2VYyOjq5ZU+K/YEcKzOjo6KUrvjndUswk5p/6f3Oz25tnvKM9hSCI2UE9hSCI2UE9hSCI2UE9hSCI2UE9hSCI2ZlJemqg2WKpoZLagUmqxmJpHiipQAiClIQZpKeS8QPTLQKCINPBDNJTNnI4lRombdMtB4LkwkBztoZ+9jHnHDNITyEIMkfJW0+lO4uU1wPNFh7F/JCkaoT78sRc2gEusEbPA6VZpFjM6/lWZC7zxpMVZVu7pBZ957Gy6rrOo7LQ6oqy6oqyJ9+UJWI6twr3ZZH5tO903SrcT4bqyqofe+Mod6eirLrikXekXJKhujL1/XceUyap6zwKoJODriTFJLdun6RqLJb6HoCeennXlg8DfnxoxcxriM1SimFPDTRb6g/sTKRSqVQqdXdcaNmBZkvVa/fwtxM74dGqGtlD2Pto/UdPpFJZr+wGmi31PU39XG6pfnj00b1FqMrc5Y0nK+6K//JQfGwiPjZxR0LQAm8+Un1LuO69ifjYRHzskB/atsgVxPttDyd+Hh+biA+08t+lfumun8Bv42MT8bF/3QovPPzYG9zto13Pwz8Lmdz8wsPyTMQk77Xf+H7bloqyLVyeyhwySDINaHR7GzmcSvU3AXAdlevaSaodXhJGwaae+hrdmDmVNbspgp5Kxg8AXF/NN3QdyTV5kvplT1O/2P428qWdm/a+9rrUwE393XVZlzHQXN+zaWdCTFHXndi5qSDSIwAAwByJA1RX8U/rthZO7yRD//2Fra+86+U/7m/z/nP7je+H35Y+B//gr5+7U5HPze3PtnCZ3PnAL53w0r9xBlFly6+kTH78ILx/+P+qk1hbf3i/PM8777gfYOTI0awkKTna3V4DG9ktjYInmmDvR4milTVrKIKesv2nezZBT73SZk2+/tpe3qblqXp0r/wRbVqve5KGGuVzQgqPtb7uZnj1B8r1FNM/8D68+gNxvVZWfUvbBxBlPhYi3LxuVVo+9rV6B36885iQyQ9eMEoiy3NVlTNbSUqPZrfXQVqz1fcUu6zZQTHWfTZyOJVK7Ny099Eqpb9JXKaJ5GBCISXF5h2QVl5ybbX1FW6pJf37r9/NNfM3nqwoe/ilB3/N5fDKg/mJWAhJCohut1cy0GyReSz6m4pZ1uwhbz1VtX6TocVqI4e5x7D30fYBAFv19QAH4gVqT43cEh+hfypnbNab4YOE/kOxtr7K6ZH32158E8C6thogbhA/S978t1fB6X/vV7cBAMDRRO7vxRVKkpzJsdurGdjdA5LHwvCdwCmXNYvIW0/Zqq8H6NnNt89As2TAJqlmhX7nVnR1bTs37X20StqbSFI1+W9U1N3dBHsfvV+2+ZGfAT3HsVntIPqM4M1HHn5JCGE6n+ySP0SndTVwPqYPntggbf8xnVtFx3ZuCGs0pvMnTxicKapHASXJiVy7PY9yThWUT5K6X7X7I4uZZ1mzkvzXfXXdiZ2bBI/T7rslA9ZG3v1RlbD8PrAzwfvObeSwLIHFcj+8NIVVX113qr+Js3q58tGPng+3PXfIf/MLD3Munv7v/fp+IcDaekdig+A/OuB/j/dYV7a8O/hLp+QY+iE8m+Y4z4bv/krK5IfwbF7rvsJIkju5dnuAum6hp9ZQSUX6++ElxbpPGTOfsmYt/PfR8Xuecwf8nmeu4Pc8px18Hx1BELODegpBELNjQj0l/3MYjT+yQRBkrrFgugVQU9edSnVPtxAIgpgHE9pTCIIgCvj9vpMnT063JAiCmA6T7Pfx674sN6rn7AbtbOLUqVPEP3063VLMJNifrsjyxZ1ZxqlTp6ZbBB5c9yEIYnZQTyEIYnZQTyEIYnZQTyEIYnZQTyEIYna09VR1RVmJ5UCmhab71qV2VNRMtxgIYoyuPaWnqtK+GZXsqE0/OoNH8ecvtR1JnbC0EIMM0w6Y0fh2VbKjVvvwDYOEGfLkxNEJMJJPVTH9DPNrw/xbY5ZS416duq+8gEGIeTBa92mqqp56qfMPNFuqyI3iF1SVQfUHqYRwGkzTMFklDrNkR+3uu/mQBAWyEKMMFQfMJKgaRRg/1qvIYbXAA80WSz1IXzyWffTKIEjIdZtGljplGVTZIMP82jDv1pidLK9IBNYNbdaaWfMLQkxGBv+UWlX1N0HP09xwGdjdIzslpq5bFgR13amh7cLHu+q6+5tg+LU+Lsi2fUhUCLaGe2pgeIT/tqpRhgO7e6CGaqvjs9hF1YifOkx21Fq2wS7Nj00PNNf3NPVrfofdIAj4fLeR0NRUo7ynW5ZBlfUzzLMN82yN2UiNe3Xq72Cb/3DzocIEISYksx89TVXV3d3EK5bkkYNQY6/SCsoPwwyr7CovihDXtn1INqAVDOzuEYdz9kGcNB3bSKB2tdkVdw3KyoRWhvm2YX6tYUh5f2Bdwi09a5Xrqrw/sC7F/dtRUaPl2xLvNN23LnVfeY17tTy+dBlYKVOhZdSOder7XFZNXJIdFZR+WcORjy3Pj2majvkFZcLIM4EUiaz2++SqKnnkoCxEMaSUQTKSHU/3QM09DarBk+zYRg4rDu7TzdC2fRcFZPuAmA6oXRlH48DuHti4FqSOJVs46QcBAAw0V2VVgh6qKutnmE8b5tUaU+DGlanAtVV7Prb4D1v8hy3/AvfcCD0Hx6Fi6T3LxUjld2+AgbeEwb/h2l1w3OI/bOn4Illx5VBg3dDVX1j8hy3+4wOwrFtwCdW4r4J/OWzxH7b4P+4YW9YtV0YVV3ZzSZ4fI43LKiHJjnbYlZLW2zpuSKSwZKWn4mMT4m/Jv2Lb/ngT9NQLU4q2Lwcg2VFbRQ7XyMeROCNVvXZPQlp4ZcgwMTIsnACYi+ulp36b1LEU3tRDKBYAAAQgSURBVDDdoGRHbX1PU3+edpNGlXUzzL8N82yNvCij/mYZHDpeFRG6wYkx8gOAD052jJU13CDMYTcuq4Px3R8Iica+2MbFPzHWfggAxptfPg0AAKd3HwK4uozTR8ORY+QJLsEE+dY4VCzcKJUrJslUVgmxbe8WHoJt++NTW0AgWZNZT8mVFAA8LnN71HVznl9utIw8rvKIJDtqLVXkcA2VUAxR2/Yh3ju8C7bJrWf9DJMdtfU90gGACapmmKzKZHUnjxwEkI1u2/ZdVM0w2T5gGMRZPok8D5nQqLJhhnm1YV6tkTfLyxsqYODgaVXAxGsHJ2wby2sAOF2W3HNSOvXn8wmF9hy7KBqKBz9X9Kim+4R139ZloJMkQ1mlZaqnhCK5k0FPpSkpAKhSelTquqXdMmUQP76a+lMG7hLb9qH+JunsH90Mk32vDctPdle6jvWwrd0IsHGtVuG6QcmOp3sAhknhOI8qchg4wyWzHtCscuYMc27D/FqjCAzvP5PklmPLyxsqJvr2p/eWTJT3B9Z1bxhv5paTr44Xs6yCUJBTQpGcMdJTaiUFAH2vDTc9rql3kvKggWZ+fE3h7KukfllZUmWvgYNH0hwInBrQC5JsPdFW4Q9yzlQTnSrnlGHB2zB7Jo6Mge1qrU36ExMJgCrtoNN9Y2UNN5TV3LDUNnbmtRM5lnnjsjqY6Og4xpklNVcvNIo8xbIKArfPKp4SqudMRAqNrp7SVFIAQIK0STbQLH8pqkoWpNxuVzDQLLNM+AXM3UIyvQw5P87Tomsp2bGNHDbcrhOTyVZE3MDn1IBBUH4YVNkwWR5tmGdrGDMx8jnAhmW8hXDjyu4NYtDpp/dM2Dav7r9RuHHjSuH3BPnWuG3jVY9vLMvXq122lvOOL6/YleFVpqmXVRAEj5SeMxEpAtrfR9dTUgCQGtou/q7rfny3xWIBAIAaKpGS1jpHDgIM11uUy3fOxVLXnThSa7HU8zeb+lNDdRkzBKjrTiU6aqsspJQuG51Q151K2Gur+DwVqQyC8sCoysYC5tGG+baGIT0vf2zfsbo7sK4bAA4dbz60rPtqPmg48rHl85WpretSWwEA4NBxy8tCsg/GB7ZeWwfjzXl4tT84Vnv16iEu27Eval8dH9pqHH8KZRWEuu4EdbCKeyg1VKK/qao+YxqkAPDfHf7sq8XZxMbvec4CCv09zzJqx+rtnx+3vKx2tBecUpYlMZe/52mSiuP3EpCpsby8oWKi448lURylLAsxE6inkCnRdMeVtkNfkCXxapeyLMRUmPD8PmRmUONePbS5DMa+qH2+6AZOKctCTAjqKSRPhiMfWyKzsCzEhOC6D0EQs5PzOaNXXXVVMeVBEMREmGS/j9dTJpEGQRBEDa77EAQxO6inEAQxO6inEAQxO/8fn8DzQJmFgv0AAAAASUVORK5CYII=" loading="lazy" class="lazy"></p> <p><img alt="image-20221115163626670" data-src="/assets/img/image-20221115163626670.944ca652.png" loading="lazy" class="lazy"></p> <h3 id="_2-6-5-sharding-jdbc-æ“ä½œ"><a href="#_2-6-5-sharding-jdbc-æ“ä½œ" class="header-anchor">#</a> 2.6.5.Sharding-JDBC æ“ä½œ</h3> <h4 id="_1-é…ç½®è¯»å†™åˆ†ç¦»ç­–ç•¥"><a href="#_1-é…ç½®è¯»å†™åˆ†ç¦»ç­–ç•¥" class="header-anchor">#</a> 1.é…ç½®è¯»å†™åˆ†ç¦»ç­–ç•¥</h4> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code># é…ç½®æ•°æ®æºï¼Œç»™æ•°æ®æºèµ·åˆ«å
# m0ä¸ºç”¨æˆ·æ•°æ®åº“
spring.shardingsphere.datasource.names=m0,s0
# ä¸€ä¸ªå®ä½“ç±»å¯¹åº”ä¸¤å¼ è¡¨ï¼Œè¦†ç›–
spring.main.allow-bean-definition-overriding=true
#user_db ä¸»æœåŠ¡å™¨
spring.shardingsphere.datasource.m0.type=com.alibaba.druid.pool.DruidDataSource
spring.shardingsphere.datasource.m0.driver-class-name=com.mysql.cj.jdbc.Driver
spring.shardingsphere.datasource.m0.url=jdbc:mysql://127.0.0.1:3306/user_db?serverTimezone=GMT%2B8
spring.shardingsphere.datasource.m0.username=root
spring.shardingsphere.datasource.m0.password=123456
#user_db ä»æœåŠ¡å™¨
spring.shardingsphere.datasource.s0.type=com.alibaba.druid.pool.DruidDataSource
spring.shardingsphere.datasource.s0.driver-class-name=com.mysql.cj.jdbc.Driver
spring.shardingsphere.datasource.s0.url=jdbc:mysql://127.0.0.1:3307/user_db?serverTimezone=GMT%2B8
spring.shardingsphere.datasource.s0.username=root
spring.shardingsphere.datasource.s0.password=123456
# ä¸»åº“ä»åº“é€»è¾‘æ•°æ®æºå®šä¹‰ ds0 ä¸º user_db
spring.shardingsphere.sharding.master-slave-rules.ds0.master-data-source-name=m0
spring.shardingsphere.sharding.master-slave-rules.ds0.slave-data-source-names=s0
# é…ç½®user_dbæ•°æ®åº“é‡Œé¢t_user  ä¸“åº“ä¸“è¡¨
#spring.shardingsphere.sharding.tables.t_user.actual-data-nodes=m0.t_user
# t_user åˆ†è¡¨ç­–ç•¥ï¼Œå›ºå®šåˆ†é…è‡³ ds0 çš„ t_user çœŸå®è¡¨
spring.shardingsphere.sharding.tables.t_user.actual-data-nodes=ds0.t_user
# é…ç½®ä¸»é”®çš„ç”Ÿæˆç­–ç•¥
spring.shardingsphere.sharding.tables.t_user.key-generator.column=user_id
spring.shardingsphere.sharding.tables.t_user.key-generator.type=SNOWFLAKE
# æŒ‡å®šåˆ†è¡¨ç­–ç•¥
spring.shardingsphere.sharding.tables.t_user.table-strategy.inline.sharding-column=user_id
spring.shardingsphere.sharding.tables.t_user.table-strategy.inline.algorithm-expression=t_user
# æ‰“å¼€ sql è¾“å‡ºæ—¥å¿—
spring.shardingsphere.props.sql.show=true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>æµ‹è¯•ä»£ç ä½¿ç”¨å‚ç›´åˆ†åº“æ—¶ç¼–å†™çš„addUserDbå’ŒfindUserDbæ–¹æ³•ã€‚
addUserDbæ–¹æ³•æ‰§è¡Œç»“æœï¼Œå¯ä»¥çœ‹åˆ°ä¸»åº“å·²ç»æœ‰æ•°æ®äº†ï¼š</p> <p><img alt="image-20221115165842904" data-src="/assets/img/image-20221115165842904.94198e4f.png" loading="lazy" class="lazy"></p> <p>findUserDbæ–¹æ³•æ‰§è¡Œç»“æœï¼Œå¯ä»¥çœ‹åˆ°æ˜¯åœ¨ä»åº“ä¸­æŸ¥å¯»çš„ï¼š</p> <p><img alt="image-20221115170029656" data-src="/assets/img/image-20221115170029656.6f6aa553.png" loading="lazy" class="lazy"></p> <h2 id="_3-sharding-proxy-åˆ†åº“åˆ†è¡¨æ“ä½œ"><a href="#_3-sharding-proxy-åˆ†åº“åˆ†è¡¨æ“ä½œ" class="header-anchor">#</a> 3.Sharding-Proxy åˆ†åº“åˆ†è¡¨æ“ä½œ</h2> <img src="/assets/img/image-20200906171730541.1639eb48.png" style="zoom:33%;"> <img src="/assets/img/image-20200906171735509.4bd438d0.png" style="zoom:33%;"> <ol><li>ShardingSphere-Proxyå®šä½ä¸ºé€æ˜çš„æ•°æ®åº“ä»£ç†ç«¯ã€‚</li> <li>Sharding-Proxyç‹¬ç«‹åº”ç”¨ï¼Œä½¿ç”¨å®‰è£…æœåŠ¡ï¼Œè¿›è¡Œåˆ†åº“åˆ†è¡¨æˆ–è€…è¯»å†™åˆ†ç¦»é…ç½®ã€å¯åŠ¨ã€‚</li></ol> <h2 id="_3-1-ä¸‹è½½å®‰è£…sharding-proxy"><a href="#_3-1-ä¸‹è½½å®‰è£…sharding-proxy" class="header-anchor">#</a> 3.1.ä¸‹è½½å®‰è£…sharding-proxy</h2> <p>https://shardingsphere.apache.org/document/current/en/downloads/</p> <img src="/assets/img/image-20221115171000102.a5aac93e.png" alt="image-20221115171000102" style="zoom:50%;"> <p>è§£å‹å¯åŠ¨</p> <img src="/assets/img/image-20221115171452703.7fc8aeb9.png" alt="image-20221115171452703" style="zoom:67%;"> <p>æ³¨æ„ï¼šlibæ–‡ä»¶å¤¹ä¸‹æœ‰çš„æ–‡ä»¶ä¸æ˜¯ä»¥jarç»“å°¾çš„,æ”¹ä¸‹æ–‡ä»¶åï¼Œéœ€è¦æŠŠjaråŠ ä¸Š</p> <h2 id="_3-2-é…ç½®-sharding-proxy-åˆ†åº“é…ç½®"><a href="#_3-2-é…ç½®-sharding-proxy-åˆ†åº“é…ç½®" class="header-anchor">#</a> 3.2.é…ç½® Sharding-Proxyï¼ˆåˆ†åº“é…ç½®ï¼‰</h2> <p>è¿›å…¥confç›®å½•</p> <ol><li><p>ä¿®æ”¹ server.yaml æ–‡ä»¶ï¼ˆæ­¤æ–‡ä»¶ä¸ºSharding-Proxyçš„é…ç½®ï¼‰ï¼Œå»é™¤æ‰authenticationå’Œpropsçš„æ³¨é‡Šã€‚</p> <p><img alt="" data-src="/assets/img/image-20200908180640817.415577b6.png" loading="lazy" class="lazy"></p></li></ol> <p>2.ä¿®æ”¹ config-sharding.yaml é…ç½®æ–‡ä»¶ï¼ˆæ­¤æ–‡ä»¶ä¸ºåˆ†åº“åˆ†è¡¨çš„é…ç½®ï¼‰</p> <p><img alt="" data-src="/assets/img/image-20200908180937278.b244ade1.png" loading="lazy" class="lazy"></p> <p><code>æ–‡ä»¶é‡Œæç¤ºè¯´ï¼Œå¦‚æœä½¿ç”¨mysqlï¼Œéœ€è¦æŠŠmysqlçš„é©±åŠ¨jaråŒ…æ”¾åˆ°libç›®å½•ä¸‹ã€‚ï¼ˆåˆ°mavenä¸‹è½½çš„jaråŒ…é‡Œæ‰¾å³å¯ï¼‰</code></p> <p><img alt="image-20221115172824447" data-src="/assets/img/image-20221115172824447.942d7c41.png" loading="lazy" class="lazy"></p> <p>å…ˆåšä¸€ä¸ªåº“ä¸€ä¸ªè¡¨çš„é…ç½®</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>schemaName: sharding_db
dataSources:
  ds_0:
    url: jdbc:mysql://127.0.0.1:3306/edu_1?serverTimezone=UTC&amp;useSSL=false
    username: root
    password: 123456
    connectionTimeoutMilliseconds: 30000
    idleTimeoutMilliseconds: 60000
    maxLifetimeMilliseconds: 1800000
    maxPoolSize: 50
shardingRule:
  tables:
    t_order:
      actualDataNodes: ds_${0}.t_order_${0..1}
      tableStrategy:
        inline:
          shardingColumn: order_id
          algorithmExpression: t_order_${order_id % 2}
      keyGenerator:
        type: SNOWFLAKE
        column: order_id
  bindingTables:
    - t_order
  defaultDatabaseStrategy:
    inline:
      shardingColumn: user_id
      algorithmExpression: ds_${0}
  defaultTableStrategy:
    none:
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="_3-3-å¯åŠ¨sharding-proxy"><a href="#_3-3-å¯åŠ¨sharding-proxy" class="header-anchor">#</a> 3.3.å¯åŠ¨sharding-proxy</h2> <p>ä»ç»ˆç«¯è¿›å…¥åˆ°binç›®å½•ï¼Œç„¶å<code>start.bat</code>å¯åŠ¨æœåŠ¡ã€‚ï¼ˆç©ºæ ¼ç„¶ååŠ ä¸Šç«¯å£å·ï¼Œå¯ä»¥æŒ‡å®šç«¯å£ï¼Œé»˜è®¤3307,å·²è¢«ä»åº“å ç”¨ï¼Œæ­¤å¤„æŒ‡å®šç«¯å£ä¸º3308ï¼‰</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">start</span><span class="token punctuation">.</span>bat <span class="token number">3308</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img alt="image-20221115174427788" data-src="/assets/img/image-20221115174427788.c7cc9f14.png" loading="lazy" class="lazy"></p> <p>æ˜¾ç¤ºä¸‹é¢è¿™ç§ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸ</p> <p><img alt="image-20221115174442807" data-src="/assets/img/image-20221115174442807.7994b1d1.png" loading="lazy" class="lazy"></p> <h2 id="_3-4-é€šè¿‡ç»ˆç«¯è¿›è¡Œè¿æ¥"><a href="#_3-4-é€šè¿‡ç»ˆç«¯è¿›è¡Œè¿æ¥" class="header-anchor">#</a> 3.4.é€šè¿‡ç»ˆç«¯è¿›è¡Œè¿æ¥ï¼š</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code>mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>proot <span class="token operator">-</span>P3308
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¦‚æœå‡ºç°ä¸‹é¢è¿™ç§é”™è¯¯ï¼Œå¯ä»¥å°è¯•è¿æ¥å‘½ä»¤åŠ ä¸Š<code>-h127.0.0.1</code></p> <img src="/assets/img/image-20200908213319175.011ec991.png" style="zoom:33%;"> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>proot <span class="token operator">-</span>h127<span class="token punctuation">.</span><span class="token number">0.0</span><span class="token number">.1</span> <span class="token operator">-</span>P3307
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="/assets/img/image-20200908213359911.65ce990b.png" style="zoom:33%;"> <p><code>æ³¨æ„è¿™é‡Œè¿æ¥çš„æ˜¯proxy</code></p> <p><code>1.æ‰§è¡Œä¸‹é¢å‘½ä»¤</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span><span class="token comment">#å¯ä»¥çœ‹åˆ°åªæœ‰sharding_dbä¸€ä¸ªåº“</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>2.åœ¨sharding_dbæ•°æ®åº“ä¸­ï¼Œæ–°å»ºä¸€å¼ è¡¨ï¼Œå¹¶æ’å…¥ä¸€æ¡æ•°æ®</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">use</span> sharding_db<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> ds_0<span class="token punctuation">.</span>t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æŒ‰ç…§order_idè¿›è¡Œåˆ†é…ï¼Œå› ä¸ºidæ˜¯å¥‡æ•°æ‰€ä»¥è¢«åˆ†åˆ°äº†t_order_1è¡¨é‡Œã€‚</p> <p><img alt="image-20221115180130279" data-src="/assets/img/image-20221115180130279.53f2e615.png" loading="lazy" class="lazy"></p> <h2 id="_3-5-é…ç½®-sharding-proxyåˆ†åº“"><a href="#_3-5-é…ç½®-sharding-proxyåˆ†åº“" class="header-anchor">#</a> 3.5.é…ç½® Sharding-Proxyåˆ†åº“</h2> <h3 id="_3-5-1-åˆ›å»ºä¸¤ä¸ªæ•°æ®åº“"><a href="#_3-5-1-åˆ›å»ºä¸¤ä¸ªæ•°æ®åº“" class="header-anchor">#</a> 3.5.1.åˆ›å»ºä¸¤ä¸ªæ•°æ®åº“</h3> <p><img alt="image-20221115214414003" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <h3 id="_3-5-2-æ‰¾åˆ°confç›®å½•-ä¿®æ”¹config-sharding-yamlæ–‡ä»¶"><a href="#_3-5-2-æ‰¾åˆ°confç›®å½•-ä¿®æ”¹config-sharding-yamlæ–‡ä»¶" class="header-anchor">#</a> 3.5.2.æ‰¾åˆ°confç›®å½•ï¼Œä¿®æ”¹config-sharding.yamlæ–‡ä»¶</h3> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">schemaName</span><span class="token punctuation">:</span> sharding_db
<span class="token key atrule">dataSources</span><span class="token punctuation">:</span>
  <span class="token key atrule">ds_0</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>3306/edu_db_1<span class="token punctuation">?</span>serverTimezone=UTC<span class="token important">&amp;useSSL=false</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token key atrule">connectionTimeoutMilliseconds</span><span class="token punctuation">:</span> <span class="token number">30000</span>
    <span class="token key atrule">idleTimeoutMilliseconds</span><span class="token punctuation">:</span> <span class="token number">60000</span>
    <span class="token key atrule">maxLifetimeMilliseconds</span><span class="token punctuation">:</span> <span class="token number">1800000</span>
    <span class="token key atrule">maxPoolSize</span><span class="token punctuation">:</span> <span class="token number">50</span>
  <span class="token key atrule">ds_1</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>3306/edu_db_2<span class="token punctuation">?</span>serverTimezone=UTC<span class="token important">&amp;useSSL=false</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token key atrule">connectionTimeoutMilliseconds</span><span class="token punctuation">:</span> <span class="token number">30000</span>
    <span class="token key atrule">idleTimeoutMilliseconds</span><span class="token punctuation">:</span> <span class="token number">60000</span>
    <span class="token key atrule">maxLifetimeMilliseconds</span><span class="token punctuation">:</span> <span class="token number">1800000</span>
    <span class="token key atrule">maxPoolSize</span><span class="token punctuation">:</span> <span class="token number">50</span>
<span class="token key atrule">shardingRule</span><span class="token punctuation">:</span>
  <span class="token key atrule">tables</span><span class="token punctuation">:</span>
    <span class="token key atrule">t_order</span><span class="token punctuation">:</span>
      <span class="token key atrule">actualDataNodes</span><span class="token punctuation">:</span> ds_$<span class="token punctuation">{</span>0..1<span class="token punctuation">}</span>.t_order_$<span class="token punctuation">{</span>1..2<span class="token punctuation">}</span>
      <span class="token key atrule">tableStrategy</span><span class="token punctuation">:</span>
        <span class="token key atrule">inline</span><span class="token punctuation">:</span>
          <span class="token key atrule">shardingColumn</span><span class="token punctuation">:</span> order_id
          <span class="token key atrule">algorithmExpression</span><span class="token punctuation">:</span> t_order_$<span class="token punctuation">{</span>order_id % 2+1<span class="token punctuation">}</span>
      <span class="token key atrule">keyGenerator</span><span class="token punctuation">:</span>
        <span class="token key atrule">type</span><span class="token punctuation">:</span> SNOWFLAKE
        <span class="token key atrule">column</span><span class="token punctuation">:</span> order_id
  <span class="token key atrule">bindingTables</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> t_order
  <span class="token key atrule">defaultDatabaseStrategy</span><span class="token punctuation">:</span>
    <span class="token key atrule">inline</span><span class="token punctuation">:</span>
      <span class="token key atrule">shardingColumn</span><span class="token punctuation">:</span> user_id
      <span class="token key atrule">algorithmExpression</span><span class="token punctuation">:</span> ds_$<span class="token punctuation">{</span>user_id % 2<span class="token punctuation">}</span>
  <span class="token key atrule">defaultTableStrategy</span><span class="token punctuation">:</span>
    <span class="token key atrule">none</span><span class="token punctuation">:</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><code>1.å¯åŠ¨Sharding-ProxyæœåŠ¡</code></p> <p>cmdä»ç»ˆç«¯è¿›å…¥åˆ°binç›®å½•ï¼ŒæŒ‡å®šç«¯å£3308ï¼Œç„¶å<code>start.bat</code>å¯åŠ¨æœåŠ¡ã€‚ï¼ˆç©ºæ ¼ç„¶ååŠ ä¸Šç«¯å£å·ï¼Œå¯ä»¥æŒ‡å®šç«¯å£ï¼Œé»˜è®¤3307ï¼‰</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">start</span><span class="token punctuation">.</span>bat <span class="token number">3308</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>2.è¿æ¥sharding-proxyæœåŠ¡</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>proot <span class="token operator">-</span>P3308
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="/assets/img/image-20221115220159834.49abaea0.png" alt="image-20221115220159834" style="zoom:50%;"> <p><code>3.åˆ›å»ºæ•°æ®åº“è¡¨ï¼Œå‘è¡¨é‡Œé¢æ·»åŠ æ•°æ®</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span><span class="token comment">#å¯ä»¥çœ‹åˆ°åªæœ‰sharding_dbä¸€ä¸ªåº“</span>
<span class="token keyword">use</span> sharding_db<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> ds_0<span class="token punctuation">.</span>t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>4.å¯ä»¥çœ‹åˆ°æ•°æ®å·²ç»æ’å…¥</code></p> <img src="/assets/img/image-20221115220810329.40aefdcd.png" alt="image-20221115220810329" style="zoom:67%;"> <h2 id="_3-6-sharding-proxyé…ç½®-è¯»å†™åˆ†ç¦»"><a href="#_3-6-sharding-proxyé…ç½®-è¯»å†™åˆ†ç¦»" class="header-anchor">#</a> 3.6.sharding-proxyé…ç½®ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰</h2> <p>Sharding-Proxyä¸Sharding-JDBCä¸€æ ·ï¼Œå¹¶ä¸ä¼šè¿›è¡Œä¸»ä»å¤åˆ¶ï¼Œä¸»ä»å¤åˆ¶ä¾ç„¶æ˜¯æœ‰MySQLè‡ªå·±å®Œæˆã€‚</p> <p><code>1.åˆ›å»ºä¸‰ä¸ªæ•°æ®åº“</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>demo_ds_master
demo_ds_slave_0
demo_ds_slave_1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>2.ä¿®æ”¹config-master_slave.yamlæ–‡ä»¶</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>dataSources:
  master_ds:
    url: jdbc:mysql:<span class="token comment">//127.0.0.1:3306/demo_ds_master?serverTimezone=UTC&amp;useSSL=false</span>
    username: root
    password: <span class="token number">123456</span>
    connectionTimeoutMilliseconds: <span class="token number">30000</span>
    idleTimeoutMilliseconds: <span class="token number">60000</span>
    maxLifetimeMilliseconds: <span class="token number">1800000</span>
    maxPoolSize: <span class="token number">50</span>
  slave_ds_0:
    url: jdbc:mysql:<span class="token comment">//127.0.0.1:3306/demo_ds_slave_0?serverTimezone=UTC&amp;useSSL=false</span>
    username: root
    password: <span class="token number">123456</span>
    connectionTimeoutMilliseconds: <span class="token number">30000</span>
    idleTimeoutMilliseconds: <span class="token number">60000</span>
    maxLifetimeMilliseconds: <span class="token number">1800000</span>
    maxPoolSize: <span class="token number">50</span>
  slave_ds_1:
    url: jdbc:mysql:<span class="token comment">//127.0.0.1:3306/demo_ds_slave_1?serverTimezone=UTC&amp;useSSL=false</span>
    username: root
    password: <span class="token number">123456</span>
    connectionTimeoutMilliseconds: <span class="token number">30000</span>
    idleTimeoutMilliseconds: <span class="token number">60000</span>
    maxLifetimeMilliseconds: <span class="token number">1800000</span>
    maxPoolSize: <span class="token number">50</span>
masterSlaveRule:
  name: ms_ds
  masterDataSourceName: master_ds
  slaveDataSourceNames:
    <span class="token operator">-</span> slave_ds_0
    <span class="token operator">-</span> slave_ds_1	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p><code>3.å¯åŠ¨sharding-proxy,sharding-proxyçš„é»˜è®¤ç«¯å£æ˜¯3307ï¼Œæˆ‘çš„ç”µè„‘ä¸Š3307ç«¯å£è¢«ä»åº“å ç”¨äº†ï¼Œæ‰€ä»¥æ­¤å¤„æ‰§è¡Œå¯åŠ¨ç«¯å£ä¸º3308</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">start</span><span class="token punctuation">.</span>bat <span class="token number">3308</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>4.è¿æ¥sharding-proxyæœåŠ¡</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>proot <span class="token operator">-</span>P3308<span class="token punctuation">;</span>
	<span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>5.åœ¨ä¸»æ•°æ®åº“å’Œä»æ•°æ®åº“éƒ½åˆ›å»ºè¡¨</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">use</span> master_slave_db<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> demo_ds_master<span class="token punctuation">.</span>t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> demo_ds_slave_0<span class="token punctuation">.</span>t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> demo_ds_slave_1<span class="token punctuation">.</span>t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img alt="image-20221115222130975" data-src="/assets/img/image-20221115222130975.eb12bc11.png" loading="lazy" class="lazy"></p> <p><code>6.æ‰§è¡Œæ’å…¥è¯­å¥,ä¸æŒ‡å®šå‘å“ªä¸ªåº“æ·»åŠ ï¼Œä¼šæ·»åŠ åˆ°ä¸»åº“ä¸­</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>7.æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼Œä¸æŒ‡å®šå‘å“ªä¸ªåº“æŸ¥è¯¢ï¼Œä¼šåœ¨ä»åº“ä¸­æŸ¥è¯¢</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_order<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img alt="image-20221115222438163" data-src="data:image/png;base64,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vwgQMvxvtTYEQZAFsN29c7ff62mrZ0DpYJQIfUAHVmtDEARZAPvdu/dsOzsEAAbUtrNjp3dsxHb37l27fbFQaAiCINZie/z45Af37wPA/fv3j4+PbYR89913H3744bff/tVqbQiCIAuw89NXftJ51nnttdf++Mc/Hf7hD66f//w/JenRo0df/PnP6hdfWC0PQRDEKPbf7v32vffea7VaZ2dn//y733315VfvvvtuMBB49D//a7U2BEGQBbC98soru7u7b7zxxj/86lc/+9lPu91z7Wmney/cs1obgiDIAtgfPXp0dnb2+9//68cf/+nvXvoBsdmA0t3d3d3dXau1IQiCLMDOL1999fUHD3794MHLL//4g/c/+Mff/Ma2s/P+++//7W/ffXV2ZrU8BEEQo5CPm9JLL7305MlT+507337zzb0XX3j25OmXX375Hx988PCdd6yWhyAIYhTbD3/4o/6A2u13nj199uOXXwYK9jt3GebvX3jxRau1IQiCLID9vE/71EYJ7Nx74WmnO4CdHh2cd3v9Pj4VgCDIbcJO7PdsgwGlA9of9Ps9m91mo4T0KZBlMgojCIJYxf8D1ZYapuJeitwAAAAASUVORK5CYII=" loading="lazy" class="lazy"></p> <p><code>8.åˆ†åˆ«å‘æ¯ä¸ªä»åº“æ’å…¥æ•°æ®</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> demo_ds_slave_0<span class="token punctuation">.</span>t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> demo_ds_slave_1<span class="token punctuation">.</span>t_order<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>order_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>user_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>9.å†æŸ¥è¯¢å‘ç°å¯ä»¥ä»ä»åº“ä¸­æŸ¥å‡ºæ•°æ®</code></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_order<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img alt="image-20221115222631757" data-src="/assets/img/image-20221115222631757.ee106d45.png" loading="lazy" class="lazy"></p> <p>end;</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/502051565/502051565.github.io/edit/master/docs/studynotes/database/ShardingSphere/ShardingSphere_index_.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘æ”¹å–„æ­¤é¡µé¢</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022å¹´11æœˆ16æ—¥</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/8457cc/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">MyBatisXæ’ä»¶</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/8457cc/" class="prev">MyBatisXæ’ä»¶</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/3lhq91/"><div>
            jvm
            <!----></div></a> <span class="date">06-01</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/3lhh91/"><div>
            å¤šçº¿ç¨‹&amp;å¹¶å‘ç¯‡
            <!----></div></a> <span class="date">05-30</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/3lhl98/"><div>
            spring
            <!----></div></a> <span class="date">05-30</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:502051565@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="img/wx.jpg" title="å¾®ä¿¡" target="_blank" class="iconfont icon-weixin"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> <!----></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div><div></div><div></div><div id="tcomment"></div><!----></div></div>
    <script src="/assets/js/app.52078691.js" defer></script><script src="/assets/js/2.3705e0fd.js" defer></script><script src="/assets/js/3.34330720.js" defer></script><script src="/assets/js/41.f9580004.js" defer></script><script src="/assets/js/62.88bcb186.js" defer></script><script src="/assets/js/68.17898152.js" defer></script><script src="/assets/js/53.6e4f0023.js" defer></script><script src="/assets/js/54.7ab2b710.js" defer></script>
  </body>
</html>
