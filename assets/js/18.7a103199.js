(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1387:function(a,s,t){"use strict";t.r(s);var n=t(17),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"本地镜像发布到阿里云"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#本地镜像发布到阿里云"}},[a._v("#")]),a._v(" 本地镜像发布到阿里云")]),a._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#流程"}},[a._v("流程")])]),n("li",[n("a",{attrs:{href:"#镜像的生成方法"}},[a._v("镜像的生成方法")])]),n("li",[n("a",{attrs:{href:"#将本地镜像推送到阿里云"}},[a._v("将本地镜像推送到阿里云")]),n("ul",[n("li",[n("a",{attrs:{href:"#本地镜像原型"}},[a._v("本地镜像原型")])])])]),n("li",[n("a",{attrs:{href:"#将镜像推送到阿里云"}},[a._v("将镜像推送到阿里云")])]),n("li",[n("a",{attrs:{href:"#将阿里云的镜像下载到本地"}},[a._v("将阿里云的镜像下载到本地")])])])]),n("p"),a._v(" "),n("h2",{attrs:{id:"流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#流程"}},[a._v("#")]),a._v(" 流程")]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(931),loading:"lazy"}})]),a._v(" "),n("h2",{attrs:{id:"镜像的生成方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#镜像的生成方法"}},[a._v("#")]),a._v(" 镜像的生成方法")]),a._v(" "),n("ul",[n("li",[n("p",[a._v("第一种：基于当前容器创建一个新的镜像，新功能增强")]),a._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/project-management/Docker/4.Docker_images_principle/#docker镜像commit操作案例"}},[a._v("具体步骤")])],1)])]),a._v(" "),n("li",[n("p",[a._v("第二种：DockerFile章节")])])]),a._v(" "),n("h2",{attrs:{id:"将本地镜像推送到阿里云"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将本地镜像推送到阿里云"}},[a._v("#")]),a._v(" 将本地镜像推送到阿里云")]),a._v(" "),n("h3",{attrs:{id:"本地镜像原型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#本地镜像原型"}},[a._v("#")]),a._v(" 本地镜像原型")]),a._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[a._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@frx01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker images")]),a._v("\nREPOSITORY         TAG       IMAGE ID       CREATED          SIZE\nnode2/myubuntu     "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.3")]),a._v("       599f5515aeb4   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v(" minutes ago   180MB\natguigu/tomcat02   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.5")]),a._v(".27    c69a4d8dcfcf   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("53")]),a._v(" minutes ago   670MB\ntomcat             "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.5")]),a._v(".73    2d2bccf89f53   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" months ago    678MB\nubuntu             latest    ba6acccedd29   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(" months ago    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("72")]),a._v(".8MB\nredis              "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("6.0")]),a._v(".8     16ecd2772934   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" years ago      104MB\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br")])]),n("ul",[n("li",[a._v("阿里云开发者平台:"),n("a",{attrs:{href:"https://promotion.aliyun.com/ntms/act/kubernetes.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://promotion.aliyun.com/ntms/act/kubernetes.html"),n("OutboundLink")],1)])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(932),loading:"lazy"}})]),a._v(" "),n("ul",[n("li",[a._v("选择控制台，进入容器镜像服务")])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(933),loading:"lazy"}})]),a._v(" "),n("ul",[n("li",[a._v("进入个人实例")])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(934),loading:"lazy"}})]),a._v(" "),n("ul",[n("li",[n("p",[a._v("设置Registry登录密码"),n("code",[a._v("502051565Liu")])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image-20221117171149351","data-src":t(935),loading:"lazy"}})])]),a._v(" "),n("li",[n("p",[a._v("创建命名空间")])])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(936),loading:"lazy"}})]),a._v(" "),n("ul",[n("li",[a._v("创建镜像仓库")])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(937),loading:"lazy"}})]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(938),loading:"lazy"}})]),a._v(" "),n("ul",[n("li",[a._v("进入管理页面获得脚本")])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(939),loading:"lazy"}})]),a._v(" "),n("h2",{attrs:{id:"将镜像推送到阿里云"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将镜像推送到阿里云"}},[a._v("#")]),a._v(" 将镜像推送到阿里云")]),a._v(" "),n("ul",[n("li",[a._v("将镜像推送到阿里云registy")]),a._v(" "),n("li",[a._v("管理页面脚本")])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(940),loading:"lazy"}})]),a._v(" "),n("ul",[n("li",[a._v("执行3的命令")])]),a._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" login --username"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("冯荣旭 registry.cn-shenzhen.aliyuncs.com\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" tag "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("ImageId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" registry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("镜像版本号"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" push registry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("镜像版本号"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br")])]),n("blockquote",[n("p",[a._v("密码是自己容器镜像下面的访问凭证设置的密码")])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(941),loading:"lazy"}})]),a._v(" "),n("blockquote",[n("p",[a._v("执行命令截图")])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image-20221117172019784","data-src":t(942),loading:"lazy"}})]),a._v(" "),n("blockquote",[n("p",[a._v("设置image id和版本号")])]),a._v(" "),n("ul",[n("li",[a._v("在阿里云上面查看结果")])]),a._v(" "),n("p",[n("img",{staticClass:"lazy",attrs:{alt:"image","data-src":t(943),loading:"lazy"}})]),a._v(" "),n("h2",{attrs:{id:"将阿里云的镜像下载到本地"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将阿里云的镜像下载到本地"}},[a._v("#")]),a._v(" 将阿里云的镜像下载到本地")]),a._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@noed2 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker images")]),a._v("\nREPOSITORY                                                TAG       IMAGE ID       CREATED             SIZE\nregistry.cn-hangzhou.aliyuncs.com/node-beijing/myubuntu   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.3")]),a._v("       599f5515aeb4   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" minutes ago      180MB\nnode2/myubuntu                                            "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.3")]),a._v("       599f5515aeb4   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v(" minutes ago      180MB\natguigu/tomcat02                                          "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.5")]),a._v(".27    c69a4d8dcfcf   About an hour ago   670MB\ntomcat                                                    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.5")]),a._v(".73    2d2bccf89f53   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" months ago       678MB\nubuntu                                                    latest    ba6acccedd29   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(" months ago       "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("72")]),a._v(".8MB\nredis                                                     "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("6.0")]),a._v(".8     16ecd2772934   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" years ago         104MB\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#先删掉本地的node2/myubuntu")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@noed2 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker rmi -f 599f5515aeb4")]),a._v("\nUntagged: node2/myubuntu:1.3\nUntagged: registry.cn-hangzhou.aliyuncs.com/node-beijing/myubuntu:1.3\nUntagged: registry.cn-hangzhou.aliyuncs.com/node-beijing/myubuntu@sha256:a7522f5fc813edcab935155fd044067e57680608b350382e50c4b346bf7d7fbe\nDeleted: sha256:599f5515aeb4d40d8ce5f20bdf938a39556c1d3332517b99ddf7427c076f9ae7\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br")])]),n("div",{staticClass:"language-sh line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[a._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@noed2 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker images")]),a._v("\nREPOSITORY         TAG       IMAGE ID       CREATED             SIZE\natguigu/tomcat02   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.5")]),a._v(".27    c69a4d8dcfcf   About an hour ago   670MB\ntomcat             "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.5")]),a._v(".73    2d2bccf89f53   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" months ago       678MB\nubuntu             latest    ba6acccedd29   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(" months ago       "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("72")]),a._v(".8MB\nredis              "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("6.0")]),a._v(".8     16ecd2772934   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" years ago         104MB\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@noed2 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker pull registry.cn-hangzhou.aliyuncs.com/node-beijing/myubuntu:1.3")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.3")]),a._v(": Pulling from node-beijing/myubuntu\n7b1a6ab2e44d: Already exists \ne419008f4c59: Already exists \nDigest: sha256:a7522f5fc813edcab935155fd044067e57680608b350382e50c4b346bf7d7fbe\nStatus: Downloaded newer image "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" registry.cn-hangzhou.aliyuncs.com/node-beijing/myubuntu:1.3\nregistry.cn-hangzhou.aliyuncs.com/node-beijing/myubuntu:1.3\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@noed2 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker images")]),a._v("\nREPOSITORY                                                TAG       IMAGE ID       CREATED             SIZE\nregistry.cn-hangzhou.aliyuncs.com/node-beijing/myubuntu   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.3")]),a._v("       599f5515aeb4   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("31")]),a._v(" minutes ago      180MB\natguigu/tomcat02                                          "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.5")]),a._v(".27    c69a4d8dcfcf   About an hour ago   670MB\ntomcat                                                    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.5")]),a._v(".73    2d2bccf89f53   "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" months ago       678MB\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@frx01 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker run -it 599f5515aeb4 /bin/bash")]),a._v("\nroot@a7795849ec26:/"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vim a.txt")]),a._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br")])])])}),[],!1,null,null,null);s.default=e.exports},931:function(a,s,t){a.exports=t.p+"assets/img/image.nzg3lx1r7y8.8c8229a5.png"},932:function(a,s,t){a.exports=t.p+"assets/img/image.26vtegy9iack.b6ea6b90.png"},933:function(a,s,t){a.exports=t.p+"assets/img/image.3ggtfvzruxk0.6f6d8780.png"},934:function(a,s,t){a.exports=t.p+"assets/img/image.6x8g7kynigk0.506987fa.png"},935:function(a,s,t){a.exports=t.p+"assets/img/image-20221117171149351.507fb3bd.png"},936:function(a,s,t){a.exports=t.p+"assets/img/image.x9xgkhb2rgw.a0996a43.png"},937:function(a,s,t){a.exports=t.p+"assets/img/image.2qchilnl2di0.8b30810e.png"},938:function(a,s,t){a.exports=t.p+"assets/img/image.104ml4c0mzn4.bbbf9c76.png"},939:function(a,s,t){a.exports=t.p+"assets/img/image.5a1l9nfogv00.aa910ade.png"},940:function(a,s,t){a.exports=t.p+"assets/img/image.1t4n31w3b82o.1b97a042.png"},941:function(a,s,t){a.exports=t.p+"assets/img/image.x8qx98px48w.374bbae2.png"},942:function(a,s,t){a.exports=t.p+"assets/img/image-20221117172019784.0ba641e9.png"},943:function(a,s,t){a.exports=t.p+"assets/img/image.ogz22mouas0.3e981b4c.png"}}]);