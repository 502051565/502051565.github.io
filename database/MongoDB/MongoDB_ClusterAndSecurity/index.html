<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MongoDB é›†ç¾¤å’Œå®‰å…¨ | lwy&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e1aa9d15d62220ec692a843c08c79000";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>        
    </script>
    <script src="https://fastly.jsdelivr.net/npm/twikoo@1.5.11/dist/twikoo.all.min.js"></script>
    <script href="./js/index.js" async="async"></script>
    <link rel="icon" href="https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/20220627/mmexport1656324824543.124zxwkqyzlc.webp">
    <script charset="utf-8" href="./js/main.js"></script>
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="ä¸€èµ·å­¦ä¹ ç¼–ç¨‹!">
    <meta name="image" content="https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/20220627/image.28iayc515les.webp">
    <meta name="twitter:title" content="MongoDB é›†ç¾¤å’Œå®‰å…¨">
    <meta name="twitter:description" content="">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/20220627/image.28iayc515les.webp">
    <meta name="twitter:url" content="https://frxcat.fun/studynotes/database/MongoDB/MongoDB_ClusterAndSecurity.html">
    <meta name="twitter:site" content="@frxcat">
    <meta property="og:type" content="article">
    <meta property="og:title" content="MongoDB é›†ç¾¤å’Œå®‰å…¨">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/20220627/image.28iayc515les.webp">
    <meta property="og:url" content="https://frxcat.fun/studynotes/database/MongoDB/MongoDB_ClusterAndSecurity.html">
    <meta property="og:site_name" content="frxcat">
    <meta property="article:published_time" content="2022-06-27T23:23:57.000Z">
    <meta property="article:tag" content="MongoDB">
    <meta itemprop="name" content="MongoDB é›†ç¾¤å’Œå®‰å…¨">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/20220627/image.28iayc515les.webp">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="baidu-site-verification" content="code-5aMKYEt9fV">
    <link rel="preload" href="/assets/css/0.styles.47be26a6.css" as="style"><link rel="preload" href="/assets/js/app.52078691.js" as="script"><link rel="preload" href="/assets/js/2.3705e0fd.js" as="script"><link rel="preload" href="/assets/js/221.ba868543.js" as="script"><link rel="preload" href="/assets/js/41.f9580004.js" as="script"><link rel="preload" href="/assets/js/62.88bcb186.js" as="script"><link rel="preload" href="/assets/js/68.17898152.js" as="script"><link rel="preload" href="/assets/js/53.6e4f0023.js" as="script"><link rel="preload" href="/assets/js/54.7ab2b710.js" as="script"><link rel="prefetch" href="/assets/js/10.9737349b.js"><link rel="prefetch" href="/assets/js/100.ce9d8915.js"><link rel="prefetch" href="/assets/js/101.f87843de.js"><link rel="prefetch" href="/assets/js/102.70976c26.js"><link rel="prefetch" href="/assets/js/103.af0ae479.js"><link rel="prefetch" href="/assets/js/104.08019755.js"><link rel="prefetch" href="/assets/js/105.5ba4095d.js"><link rel="prefetch" href="/assets/js/106.972a8f34.js"><link rel="prefetch" href="/assets/js/107.12e9ddb4.js"><link rel="prefetch" href="/assets/js/108.28e874b2.js"><link rel="prefetch" href="/assets/js/109.9b8d4781.js"><link rel="prefetch" href="/assets/js/11.b6770bd0.js"><link rel="prefetch" href="/assets/js/110.22af2046.js"><link rel="prefetch" href="/assets/js/111.e6983aec.js"><link rel="prefetch" href="/assets/js/112.1f240eff.js"><link rel="prefetch" href="/assets/js/113.d14bc345.js"><link rel="prefetch" href="/assets/js/114.4aa404d9.js"><link rel="prefetch" href="/assets/js/115.99538e07.js"><link rel="prefetch" href="/assets/js/116.208b8283.js"><link rel="prefetch" href="/assets/js/117.b1d409af.js"><link rel="prefetch" href="/assets/js/118.d47b4c00.js"><link rel="prefetch" href="/assets/js/119.370cd414.js"><link rel="prefetch" href="/assets/js/12.bd5c2d8b.js"><link rel="prefetch" href="/assets/js/120.1fa4e63b.js"><link rel="prefetch" href="/assets/js/121.a4fe7a0f.js"><link rel="prefetch" href="/assets/js/122.2bfb2933.js"><link rel="prefetch" href="/assets/js/123.aa149f19.js"><link rel="prefetch" href="/assets/js/124.e8464955.js"><link rel="prefetch" href="/assets/js/125.575955d0.js"><link rel="prefetch" href="/assets/js/126.4dff1740.js"><link rel="prefetch" href="/assets/js/127.09db1a96.js"><link rel="prefetch" href="/assets/js/128.943fa020.js"><link rel="prefetch" href="/assets/js/129.5aed95c9.js"><link rel="prefetch" href="/assets/js/13.9cbc2efd.js"><link rel="prefetch" href="/assets/js/130.245e9fdc.js"><link rel="prefetch" href="/assets/js/131.581380a1.js"><link rel="prefetch" href="/assets/js/132.60db6223.js"><link rel="prefetch" href="/assets/js/133.96797ef5.js"><link rel="prefetch" href="/assets/js/134.b688c12a.js"><link rel="prefetch" href="/assets/js/135.4e3da7b9.js"><link rel="prefetch" href="/assets/js/136.6ca77d45.js"><link rel="prefetch" href="/assets/js/137.bcb83ecf.js"><link rel="prefetch" href="/assets/js/138.4a67aa90.js"><link rel="prefetch" href="/assets/js/139.a9de0505.js"><link rel="prefetch" href="/assets/js/14.0503a1f8.js"><link rel="prefetch" href="/assets/js/140.000d224c.js"><link rel="prefetch" href="/assets/js/141.d4417d1a.js"><link rel="prefetch" href="/assets/js/142.9f63cf5c.js"><link rel="prefetch" href="/assets/js/143.52301d1e.js"><link rel="prefetch" href="/assets/js/144.183c8304.js"><link rel="prefetch" href="/assets/js/145.cafbbce0.js"><link rel="prefetch" href="/assets/js/146.b07ef39d.js"><link rel="prefetch" href="/assets/js/147.f8c98c90.js"><link rel="prefetch" href="/assets/js/148.a1db8613.js"><link rel="prefetch" href="/assets/js/149.3f6baedb.js"><link rel="prefetch" href="/assets/js/15.d34a8df4.js"><link rel="prefetch" href="/assets/js/150.d0ed51f5.js"><link rel="prefetch" href="/assets/js/151.b2b0401c.js"><link rel="prefetch" href="/assets/js/152.e650aea9.js"><link rel="prefetch" href="/assets/js/153.086cfb5b.js"><link rel="prefetch" href="/assets/js/154.996b563c.js"><link rel="prefetch" href="/assets/js/155.40fd70fa.js"><link rel="prefetch" href="/assets/js/156.69d0287c.js"><link rel="prefetch" href="/assets/js/157.5575a854.js"><link rel="prefetch" href="/assets/js/158.c8c3db15.js"><link rel="prefetch" href="/assets/js/159.62cfff25.js"><link rel="prefetch" href="/assets/js/16.6451f778.js"><link rel="prefetch" href="/assets/js/160.08eed556.js"><link rel="prefetch" href="/assets/js/161.309275e7.js"><link rel="prefetch" href="/assets/js/162.2eb8eaa9.js"><link rel="prefetch" href="/assets/js/163.44b7949e.js"><link rel="prefetch" href="/assets/js/164.6f6d645f.js"><link rel="prefetch" href="/assets/js/165.c5d88775.js"><link rel="prefetch" href="/assets/js/166.69dfbb33.js"><link rel="prefetch" href="/assets/js/167.4b1ee20c.js"><link rel="prefetch" href="/assets/js/168.1ed9dde6.js"><link rel="prefetch" href="/assets/js/169.e23242bb.js"><link rel="prefetch" href="/assets/js/17.7550e5c8.js"><link rel="prefetch" href="/assets/js/170.784b6d48.js"><link rel="prefetch" href="/assets/js/171.50a83b35.js"><link rel="prefetch" href="/assets/js/172.40c931dc.js"><link rel="prefetch" href="/assets/js/173.244612f1.js"><link rel="prefetch" href="/assets/js/174.4104b8a3.js"><link rel="prefetch" href="/assets/js/175.c2b2ee17.js"><link rel="prefetch" href="/assets/js/176.d8eaa441.js"><link rel="prefetch" href="/assets/js/177.e90c3831.js"><link rel="prefetch" href="/assets/js/178.30b27b94.js"><link rel="prefetch" href="/assets/js/179.854eb2e3.js"><link rel="prefetch" href="/assets/js/18.7a103199.js"><link rel="prefetch" href="/assets/js/180.350f5024.js"><link rel="prefetch" href="/assets/js/181.80b2d200.js"><link rel="prefetch" href="/assets/js/182.c2b971a6.js"><link rel="prefetch" href="/assets/js/183.74680f68.js"><link rel="prefetch" href="/assets/js/184.0325e3d7.js"><link rel="prefetch" href="/assets/js/185.ec78a717.js"><link rel="prefetch" href="/assets/js/186.dca301d6.js"><link rel="prefetch" href="/assets/js/187.42e89237.js"><link rel="prefetch" href="/assets/js/188.3d89a625.js"><link rel="prefetch" href="/assets/js/189.ec5bb043.js"><link rel="prefetch" href="/assets/js/19.df1fef81.js"><link rel="prefetch" href="/assets/js/190.fd14816e.js"><link rel="prefetch" href="/assets/js/191.8e55628c.js"><link rel="prefetch" href="/assets/js/192.ff48f421.js"><link rel="prefetch" href="/assets/js/193.03757d8b.js"><link rel="prefetch" href="/assets/js/194.6dbc284a.js"><link rel="prefetch" href="/assets/js/195.4ec15c3e.js"><link rel="prefetch" href="/assets/js/196.beda4d6e.js"><link rel="prefetch" href="/assets/js/197.5064a624.js"><link rel="prefetch" href="/assets/js/198.43286ea8.js"><link rel="prefetch" href="/assets/js/199.301b3707.js"><link rel="prefetch" href="/assets/js/20.e0e9251f.js"><link rel="prefetch" href="/assets/js/200.d54667f8.js"><link rel="prefetch" href="/assets/js/201.d3e38772.js"><link rel="prefetch" href="/assets/js/202.609eee44.js"><link rel="prefetch" href="/assets/js/203.891daf04.js"><link rel="prefetch" href="/assets/js/204.b1ec7758.js"><link rel="prefetch" href="/assets/js/205.419a76de.js"><link rel="prefetch" href="/assets/js/206.06dacd15.js"><link rel="prefetch" href="/assets/js/207.07d858a5.js"><link rel="prefetch" href="/assets/js/208.e9e9d1a3.js"><link rel="prefetch" href="/assets/js/209.eed886b0.js"><link rel="prefetch" href="/assets/js/21.b29bbfd0.js"><link rel="prefetch" href="/assets/js/210.1b3fc6c1.js"><link rel="prefetch" href="/assets/js/211.2828e206.js"><link rel="prefetch" href="/assets/js/212.b4145674.js"><link rel="prefetch" href="/assets/js/213.40581007.js"><link rel="prefetch" href="/assets/js/214.10021b7a.js"><link rel="prefetch" href="/assets/js/215.c63ea6cd.js"><link rel="prefetch" href="/assets/js/216.a4c7698a.js"><link rel="prefetch" href="/assets/js/217.1a0d8ee7.js"><link rel="prefetch" href="/assets/js/218.39707446.js"><link rel="prefetch" href="/assets/js/219.d88c14a5.js"><link rel="prefetch" href="/assets/js/22.40bd7391.js"><link rel="prefetch" href="/assets/js/220.f2426e81.js"><link rel="prefetch" href="/assets/js/222.b176c69e.js"><link rel="prefetch" href="/assets/js/223.8d89753d.js"><link rel="prefetch" href="/assets/js/224.85f7d7c5.js"><link rel="prefetch" href="/assets/js/225.bc929c1a.js"><link rel="prefetch" href="/assets/js/226.c1a508ca.js"><link rel="prefetch" href="/assets/js/227.50eb23c4.js"><link rel="prefetch" href="/assets/js/228.c830f0ed.js"><link rel="prefetch" href="/assets/js/229.f85d6beb.js"><link rel="prefetch" href="/assets/js/23.4097c0c1.js"><link rel="prefetch" href="/assets/js/230.96c62d70.js"><link rel="prefetch" href="/assets/js/231.612e981b.js"><link rel="prefetch" href="/assets/js/232.6e0c1ae8.js"><link rel="prefetch" href="/assets/js/233.a1c9f425.js"><link rel="prefetch" href="/assets/js/234.d2e0ad23.js"><link rel="prefetch" href="/assets/js/235.279f0b35.js"><link rel="prefetch" href="/assets/js/236.7ab53cbc.js"><link rel="prefetch" href="/assets/js/237.43a4af2e.js"><link rel="prefetch" href="/assets/js/238.fe5c7fb7.js"><link rel="prefetch" href="/assets/js/239.75b41961.js"><link rel="prefetch" href="/assets/js/24.80d0ea88.js"><link rel="prefetch" href="/assets/js/240.51559559.js"><link rel="prefetch" href="/assets/js/241.694be33f.js"><link rel="prefetch" href="/assets/js/242.a703c270.js"><link rel="prefetch" href="/assets/js/243.da64b731.js"><link rel="prefetch" href="/assets/js/244.15eeffbb.js"><link rel="prefetch" href="/assets/js/245.5f3dc510.js"><link rel="prefetch" href="/assets/js/246.784553ea.js"><link rel="prefetch" href="/assets/js/247.f8ea5fdf.js"><link rel="prefetch" href="/assets/js/248.bada25c2.js"><link rel="prefetch" href="/assets/js/249.bc9dd416.js"><link rel="prefetch" href="/assets/js/25.e8691b15.js"><link rel="prefetch" href="/assets/js/250.1f4519ae.js"><link rel="prefetch" href="/assets/js/251.9f27016e.js"><link rel="prefetch" href="/assets/js/252.9789c0ce.js"><link rel="prefetch" href="/assets/js/253.61d9c2ff.js"><link rel="prefetch" href="/assets/js/254.462c1534.js"><link rel="prefetch" href="/assets/js/255.31d681e1.js"><link rel="prefetch" href="/assets/js/256.3f32f819.js"><link rel="prefetch" href="/assets/js/257.d63fd914.js"><link rel="prefetch" href="/assets/js/258.5bcfe9aa.js"><link rel="prefetch" href="/assets/js/259.b90ca4b1.js"><link rel="prefetch" href="/assets/js/26.4811050d.js"><link rel="prefetch" href="/assets/js/260.ec35a84d.js"><link rel="prefetch" href="/assets/js/261.adaf3e9c.js"><link rel="prefetch" href="/assets/js/262.ffb4323c.js"><link rel="prefetch" href="/assets/js/263.7eac7f34.js"><link rel="prefetch" href="/assets/js/264.20216400.js"><link rel="prefetch" href="/assets/js/265.63289daa.js"><link rel="prefetch" href="/assets/js/266.e575e597.js"><link rel="prefetch" href="/assets/js/267.b4d4982d.js"><link rel="prefetch" href="/assets/js/268.fb0ad32c.js"><link rel="prefetch" href="/assets/js/269.eff28f67.js"><link rel="prefetch" href="/assets/js/27.9457ca9e.js"><link rel="prefetch" href="/assets/js/270.0fe5a756.js"><link rel="prefetch" href="/assets/js/271.965a0032.js"><link rel="prefetch" href="/assets/js/272.dadc37da.js"><link rel="prefetch" href="/assets/js/273.74c233e5.js"><link rel="prefetch" href="/assets/js/274.faaf2837.js"><link rel="prefetch" href="/assets/js/275.ebf1a886.js"><link rel="prefetch" href="/assets/js/276.88095e66.js"><link rel="prefetch" href="/assets/js/277.8de99fb3.js"><link rel="prefetch" href="/assets/js/278.c5ccf883.js"><link rel="prefetch" href="/assets/js/279.d2a2a622.js"><link rel="prefetch" href="/assets/js/28.15e050ac.js"><link rel="prefetch" href="/assets/js/280.ccc75b75.js"><link rel="prefetch" href="/assets/js/281.6a99caed.js"><link rel="prefetch" href="/assets/js/282.1a5662a1.js"><link rel="prefetch" href="/assets/js/283.3f1abb3d.js"><link rel="prefetch" href="/assets/js/284.e8083077.js"><link rel="prefetch" href="/assets/js/285.d5502c5a.js"><link rel="prefetch" href="/assets/js/286.0bf35ff3.js"><link rel="prefetch" href="/assets/js/287.f8606aa4.js"><link rel="prefetch" href="/assets/js/288.43aafdd0.js"><link rel="prefetch" href="/assets/js/289.1f225e1f.js"><link rel="prefetch" href="/assets/js/29.fc604ea8.js"><link rel="prefetch" href="/assets/js/290.511c1ecb.js"><link rel="prefetch" href="/assets/js/291.2a97f2f8.js"><link rel="prefetch" href="/assets/js/292.60f07469.js"><link rel="prefetch" href="/assets/js/293.513e4f12.js"><link rel="prefetch" href="/assets/js/294.1e3142f1.js"><link rel="prefetch" href="/assets/js/295.f6dd6bb0.js"><link rel="prefetch" href="/assets/js/296.f27849d1.js"><link rel="prefetch" href="/assets/js/297.8299d6c2.js"><link rel="prefetch" href="/assets/js/298.736bb09f.js"><link rel="prefetch" href="/assets/js/299.1a1d84bb.js"><link rel="prefetch" href="/assets/js/3.34330720.js"><link rel="prefetch" href="/assets/js/30.0dc5bdaf.js"><link rel="prefetch" href="/assets/js/300.b1e44f73.js"><link rel="prefetch" href="/assets/js/301.f4b3766a.js"><link rel="prefetch" href="/assets/js/302.1b3978e5.js"><link rel="prefetch" href="/assets/js/303.1d2d380e.js"><link rel="prefetch" href="/assets/js/304.9b1eb3e1.js"><link rel="prefetch" href="/assets/js/305.c0a6482f.js"><link rel="prefetch" href="/assets/js/306.2da8847d.js"><link rel="prefetch" href="/assets/js/307.de86dbf4.js"><link rel="prefetch" href="/assets/js/308.64af9f4e.js"><link rel="prefetch" href="/assets/js/309.a43d581f.js"><link rel="prefetch" href="/assets/js/31.56b3711d.js"><link rel="prefetch" href="/assets/js/310.4d6c6ec0.js"><link rel="prefetch" href="/assets/js/311.10e0994d.js"><link rel="prefetch" href="/assets/js/312.444c5360.js"><link rel="prefetch" href="/assets/js/313.ae5b8015.js"><link rel="prefetch" href="/assets/js/314.48737017.js"><link rel="prefetch" href="/assets/js/315.a8d7c9f0.js"><link rel="prefetch" href="/assets/js/316.2ce73af7.js"><link rel="prefetch" href="/assets/js/317.8bbe6a4f.js"><link rel="prefetch" href="/assets/js/318.18ea088d.js"><link rel="prefetch" href="/assets/js/319.f99b3850.js"><link rel="prefetch" href="/assets/js/32.98e21745.js"><link rel="prefetch" href="/assets/js/320.bf33a93f.js"><link rel="prefetch" href="/assets/js/321.7795d606.js"><link rel="prefetch" href="/assets/js/322.15ee300f.js"><link rel="prefetch" href="/assets/js/323.8f69f55d.js"><link rel="prefetch" href="/assets/js/324.56376288.js"><link rel="prefetch" href="/assets/js/325.1ddb3a11.js"><link rel="prefetch" href="/assets/js/326.dd92c51e.js"><link rel="prefetch" href="/assets/js/327.636535c1.js"><link rel="prefetch" href="/assets/js/328.ecab5d99.js"><link rel="prefetch" href="/assets/js/329.f3471637.js"><link rel="prefetch" href="/assets/js/33.5cb151f0.js"><link rel="prefetch" href="/assets/js/330.6bcc345d.js"><link rel="prefetch" href="/assets/js/331.2c6587ef.js"><link rel="prefetch" href="/assets/js/332.55251f19.js"><link rel="prefetch" href="/assets/js/333.913c2b69.js"><link rel="prefetch" href="/assets/js/334.35003154.js"><link rel="prefetch" href="/assets/js/335.9801f78b.js"><link rel="prefetch" href="/assets/js/336.0e7bcd51.js"><link rel="prefetch" href="/assets/js/337.a1d950ac.js"><link rel="prefetch" href="/assets/js/338.8715b7e7.js"><link rel="prefetch" href="/assets/js/339.aa147c68.js"><link rel="prefetch" href="/assets/js/34.d8f76763.js"><link rel="prefetch" href="/assets/js/340.7f66359e.js"><link rel="prefetch" href="/assets/js/341.16692663.js"><link rel="prefetch" href="/assets/js/342.acae3279.js"><link rel="prefetch" href="/assets/js/343.fb6498a0.js"><link rel="prefetch" href="/assets/js/344.d987f6c4.js"><link rel="prefetch" href="/assets/js/345.2e2a1575.js"><link rel="prefetch" href="/assets/js/346.23cb7ed6.js"><link rel="prefetch" href="/assets/js/347.dc457dab.js"><link rel="prefetch" href="/assets/js/348.d278ae56.js"><link rel="prefetch" href="/assets/js/349.f472beb4.js"><link rel="prefetch" href="/assets/js/35.1927e840.js"><link rel="prefetch" href="/assets/js/350.693f46d7.js"><link rel="prefetch" href="/assets/js/351.8379e2bc.js"><link rel="prefetch" href="/assets/js/352.3c7bdcc6.js"><link rel="prefetch" href="/assets/js/353.327ce979.js"><link rel="prefetch" href="/assets/js/354.cd7508a0.js"><link rel="prefetch" href="/assets/js/355.6180aaad.js"><link rel="prefetch" href="/assets/js/356.66d21afe.js"><link rel="prefetch" href="/assets/js/357.acd36a95.js"><link rel="prefetch" href="/assets/js/358.543c7a5f.js"><link rel="prefetch" href="/assets/js/359.c255a149.js"><link rel="prefetch" href="/assets/js/36.0d770678.js"><link rel="prefetch" href="/assets/js/37.3bdb5cfe.js"><link rel="prefetch" href="/assets/js/38.3aedc88f.js"><link rel="prefetch" href="/assets/js/39.7033fe79.js"><link rel="prefetch" href="/assets/js/4.a76891f2.js"><link rel="prefetch" href="/assets/js/40.8ad3fb1f.js"><link rel="prefetch" href="/assets/js/42.e363d915.js"><link rel="prefetch" href="/assets/js/43.1132b9a3.js"><link rel="prefetch" href="/assets/js/44.fdaae5bc.js"><link rel="prefetch" href="/assets/js/45.d73821d7.js"><link rel="prefetch" href="/assets/js/46.bf9a345e.js"><link rel="prefetch" href="/assets/js/47.5c4abc58.js"><link rel="prefetch" href="/assets/js/48.34950cd2.js"><link rel="prefetch" href="/assets/js/49.1ec0762a.js"><link rel="prefetch" href="/assets/js/5.65db3320.js"><link rel="prefetch" href="/assets/js/50.652c485a.js"><link rel="prefetch" href="/assets/js/51.877b9a08.js"><link rel="prefetch" href="/assets/js/52.ead5e03f.js"><link rel="prefetch" href="/assets/js/55.1a84271a.js"><link rel="prefetch" href="/assets/js/56.7ec80127.js"><link rel="prefetch" href="/assets/js/57.b81aaa00.js"><link rel="prefetch" href="/assets/js/58.6ac03d81.js"><link rel="prefetch" href="/assets/js/59.0d1a6f34.js"><link rel="prefetch" href="/assets/js/6.145042a1.js"><link rel="prefetch" href="/assets/js/60.f62b6344.js"><link rel="prefetch" href="/assets/js/61.9e4959cd.js"><link rel="prefetch" href="/assets/js/63.7df25f03.js"><link rel="prefetch" href="/assets/js/64.247e1298.js"><link rel="prefetch" href="/assets/js/65.c8329589.js"><link rel="prefetch" href="/assets/js/66.68670215.js"><link rel="prefetch" href="/assets/js/67.1765e15d.js"><link rel="prefetch" href="/assets/js/69.fd3bd675.js"><link rel="prefetch" href="/assets/js/7.64b824a1.js"><link rel="prefetch" href="/assets/js/70.be083088.js"><link rel="prefetch" href="/assets/js/71.34d2826d.js"><link rel="prefetch" href="/assets/js/72.19ab5be1.js"><link rel="prefetch" href="/assets/js/73.19afbfb9.js"><link rel="prefetch" href="/assets/js/74.f6adbfae.js"><link rel="prefetch" href="/assets/js/75.5d6ed878.js"><link rel="prefetch" href="/assets/js/76.a98f9057.js"><link rel="prefetch" href="/assets/js/77.2c7ee7a9.js"><link rel="prefetch" href="/assets/js/78.65ea061d.js"><link rel="prefetch" href="/assets/js/79.4893c957.js"><link rel="prefetch" href="/assets/js/8.7ff72049.js"><link rel="prefetch" href="/assets/js/80.72463664.js"><link rel="prefetch" href="/assets/js/81.99bc6553.js"><link rel="prefetch" href="/assets/js/82.653fa55a.js"><link rel="prefetch" href="/assets/js/83.0878479e.js"><link rel="prefetch" href="/assets/js/84.82a035c3.js"><link rel="prefetch" href="/assets/js/85.1b7de756.js"><link rel="prefetch" href="/assets/js/86.327e80da.js"><link rel="prefetch" href="/assets/js/87.51de929e.js"><link rel="prefetch" href="/assets/js/88.211a0254.js"><link rel="prefetch" href="/assets/js/89.ca5538d2.js"><link rel="prefetch" href="/assets/js/9.158c7fa3.js"><link rel="prefetch" href="/assets/js/90.d5e79edf.js"><link rel="prefetch" href="/assets/js/91.1be6359e.js"><link rel="prefetch" href="/assets/js/92.cbb1aa69.js"><link rel="prefetch" href="/assets/js/93.59feba4a.js"><link rel="prefetch" href="/assets/js/94.8cc33ac2.js"><link rel="prefetch" href="/assets/js/95.b0ae84fc.js"><link rel="prefetch" href="/assets/js/96.d019867f.js"><link rel="prefetch" href="/assets/js/97.3271008e.js"><link rel="prefetch" href="/assets/js/98.85cad3d9.js"><link rel="prefetch" href="/assets/js/99.45fc9fb4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.47be26a6.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">lwy's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pages/f6054a/" class="nav-link">å¯¼èˆªğŸš€â€‹</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JavaåŸºç¡€</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e05ef5/" class="nav-link">JavaSE</a></li></ul></li><li class="dropdown-item"><h4>JavaWeb</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5cda88/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/cea341/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/8f83ba/" class="nav-link">Servlet</a></li><li class="dropdown-subitem"><a href="/pages/8bc1c4/" class="nav-link">MVC</a></li><li class="dropdown-subitem"><a href="/pages/f883e2/" class="nav-link">filter|listener</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Springç”Ÿæ€" class="dropdown-title"><!----> <span class="title" style="display:;">Springç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/462a90/" class="nav-link">Spring5</a></li><li class="dropdown-item"><!----> <a href="/pages/2e990c/" class="nav-link">SpringMVC</a></li><li class="dropdown-item"><!----> <a href="/pages/0d4af0/" class="nav-link">SpringBoot2</a></li><li class="dropdown-item"><!----> <a href="/pages/870083/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/pages/66babb/" class="nav-link">SpringSecurity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><!----> <span class="title" style="display:;">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æœç´¢å¼•æ“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/596552/" class="nav-link">ElasticSearch</a></li></ul></li><li class="dropdown-item"><h4>æ¶ˆæ¯é˜Ÿåˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e645d9/" class="nav-link">RabbitMQ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡å™¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9551ee/" class="nav-link">NginxğŸŒ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/48771f/" class="nav-link">Dubbo</a></li></ul></li><li class="dropdown-item"><h4>å¸¸ç”¨æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/46271f/" class="nav-link">SSO</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§æ•°æ®" class="dropdown-title"><!----> <span class="title" style="display:;">å¤§æ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b9268d/" class="nav-link">PythonåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/e0bd06/" class="nav-link">æ•°æ®åˆ†æ</a></li></ul></li><li class="dropdown-item"><h4>ç¯å¢ƒæ­å»º</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/600247/" class="nav-link">Hadoopé›†ç¾¤</a></li><li class="dropdown-subitem"><a href="/pages/cdeb68/" class="nav-link">KVMè™šæ‹ŸåŒ–æŠ€æœ¯</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e72480/" class="nav-link">MySQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7ab056/" class="nav-link">NoSQLæ•°æ®åº“æ¦‚è®º</a></li><li class="dropdown-subitem"><a href="/pages/e9cc9f/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/pages/91197c/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/pages/2aae92/" class="nav-link">HBase</a></li></ul></li><li class="dropdown-item"><h4>æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0e424f/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/pages/e0594a/" class="nav-link">MyBatis-Plus</a></li><li class="dropdown-subitem"><a href="/pages/1f54f3/" class="nav-link">ShardingSphere</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><!----> <span class="title" style="display:;">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/99e9dc/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/pages/90cc29/" class="nav-link">DockeråŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/90ac28/" class="nav-link">Dockeré«˜çº§</a></li></ul></li><li class="dropdown-item"><h4>ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/45eca1/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/pages/34892c/" class="nav-link">Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•" class="dropdown-title"><!----> <span class="title" style="display:;">é¢è¯•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/40ee62/" class="nav-link">åŠ›æ‰£ç®—æ³•é¢˜</a></li><li class="dropdown-item"><!----> <a href="/pages/39659d/" class="nav-link">åŸºç¡€å¼€å‘ç¯‡</a></li><li class="dropdown-item"><h4>è¿›é˜¶ç¯‡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/60k8c2/" class="nav-link">ä¸­é«˜è¿›é˜¶ç¯‡</a></li><li class="dropdown-subitem"><a href="/pages/29c8c2/" class="nav-link">è°·ç²’å•†åŸ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><!----> <span class="title" style="display:;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/myfriends/" class="nav-link">å‹æƒ…é“¾æ¥</a></li><li class="dropdown-item"><!----> <a href="/pages/mdUse/" class="nav-link">mdä½¿ç”¨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æœ¬ç«™" class="dropdown-title"><!----> <span class="title" style="display:;">æœ¬ç«™</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ç´¢å¼•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9013e4/" class="nav-link">å…³äº</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="img/qie.png"> <div class="blogger-info"><h3>lwy</h3> <span>ä¸€èµ·å­¦ä¹ ç¼–ç¨‹!</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/pages/f6054a/" class="nav-link">å¯¼èˆªğŸš€â€‹</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JavaåŸºç¡€</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e05ef5/" class="nav-link">JavaSE</a></li></ul></li><li class="dropdown-item"><h4>JavaWeb</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5cda88/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/cea341/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/8f83ba/" class="nav-link">Servlet</a></li><li class="dropdown-subitem"><a href="/pages/8bc1c4/" class="nav-link">MVC</a></li><li class="dropdown-subitem"><a href="/pages/f883e2/" class="nav-link">filter|listener</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Springç”Ÿæ€" class="dropdown-title"><!----> <span class="title" style="display:;">Springç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/462a90/" class="nav-link">Spring5</a></li><li class="dropdown-item"><!----> <a href="/pages/2e990c/" class="nav-link">SpringMVC</a></li><li class="dropdown-item"><!----> <a href="/pages/0d4af0/" class="nav-link">SpringBoot2</a></li><li class="dropdown-item"><!----> <a href="/pages/870083/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/pages/66babb/" class="nav-link">SpringSecurity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><!----> <span class="title" style="display:;">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æœç´¢å¼•æ“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/596552/" class="nav-link">ElasticSearch</a></li></ul></li><li class="dropdown-item"><h4>æ¶ˆæ¯é˜Ÿåˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e645d9/" class="nav-link">RabbitMQ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡å™¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9551ee/" class="nav-link">NginxğŸŒ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/48771f/" class="nav-link">Dubbo</a></li></ul></li><li class="dropdown-item"><h4>å¸¸ç”¨æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/46271f/" class="nav-link">SSO</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§æ•°æ®" class="dropdown-title"><!----> <span class="title" style="display:;">å¤§æ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b9268d/" class="nav-link">PythonåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/e0bd06/" class="nav-link">æ•°æ®åˆ†æ</a></li></ul></li><li class="dropdown-item"><h4>ç¯å¢ƒæ­å»º</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/600247/" class="nav-link">Hadoopé›†ç¾¤</a></li><li class="dropdown-subitem"><a href="/pages/cdeb68/" class="nav-link">KVMè™šæ‹ŸåŒ–æŠ€æœ¯</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e72480/" class="nav-link">MySQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7ab056/" class="nav-link">NoSQLæ•°æ®åº“æ¦‚è®º</a></li><li class="dropdown-subitem"><a href="/pages/e9cc9f/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/pages/91197c/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/pages/2aae92/" class="nav-link">HBase</a></li></ul></li><li class="dropdown-item"><h4>æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0e424f/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/pages/e0594a/" class="nav-link">MyBatis-Plus</a></li><li class="dropdown-subitem"><a href="/pages/1f54f3/" class="nav-link">ShardingSphere</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><!----> <span class="title" style="display:;">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/99e9dc/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/pages/90cc29/" class="nav-link">DockeråŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/90ac28/" class="nav-link">Dockeré«˜çº§</a></li></ul></li><li class="dropdown-item"><h4>ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/45eca1/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/pages/34892c/" class="nav-link">Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•" class="dropdown-title"><!----> <span class="title" style="display:;">é¢è¯•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/40ee62/" class="nav-link">åŠ›æ‰£ç®—æ³•é¢˜</a></li><li class="dropdown-item"><!----> <a href="/pages/39659d/" class="nav-link">åŸºç¡€å¼€å‘ç¯‡</a></li><li class="dropdown-item"><h4>è¿›é˜¶ç¯‡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/60k8c2/" class="nav-link">ä¸­é«˜è¿›é˜¶ç¯‡</a></li><li class="dropdown-subitem"><a href="/pages/29c8c2/" class="nav-link">è°·ç²’å•†åŸ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><!----> <span class="title" style="display:;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/myfriends/" class="nav-link">å‹æƒ…é“¾æ¥</a></li><li class="dropdown-item"><!----> <a href="/pages/mdUse/" class="nav-link">mdä½¿ç”¨</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æœ¬ç«™" class="dropdown-title"><!----> <span class="title" style="display:;">æœ¬ç«™</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ç´¢å¼•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9013e4/" class="nav-link">å…³äº</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL-åŸºç¡€</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e72480/" class="sidebar-link">MySQL-ç®€ä»‹</a></li><li><a href="/database/MySQL/MySQL-CRUD/" class="sidebar-link">MySQL-CRUD</a></li><li><a href="/database/MySQL/MySQL-function/" class="sidebar-link">MySQL-å‡½æ•°</a></li><li><a href="/database/MySQL/MySQ-ManyTableQuery/" class="sidebar-link">MySQL å¤šè¡¨æŸ¥è¯¢</a></li><li><a href="/database/MySQL/MySQL-ConstraintsAndSelf-growth/" class="sidebar-link">MySQL çº¦æŸä¸è‡ªå¢é•¿</a></li><li><a href="/database/MySQL/MySQL_IndexesAndTransactions/" class="sidebar-link">MySQL ç´¢å¼•ä¸äº‹åŠ¡</a></li><li><a href="/database/MySQL/MySQL_Table_type_storage_engine/" class="sidebar-link">MySQL è¡¨ç±»å‹å’Œå­˜å‚¨å¼•æ“</a></li><li><a href="/database/MySQL/MySQL_View_Manage/" class="sidebar-link">MySQL è§†å›¾ä¸ç®¡ç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL-è¿›é˜¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/database/MySQL/MySQL_Storage_Engine/" class="sidebar-link">MySQL å­˜å‚¨å¼•æ“</a></li><li><a href="/database/MySQL/MySQL_Advanced_index/" class="sidebar-link">MySQL ç´¢å¼•</a></li><li><a href="/database/MySQL/MYSQL_SQL_optimization/" class="sidebar-link">MySQL SQLä¼˜åŒ–</a></li><li><a href="/database/MySQL/MySQL_Advanced_View/" class="sidebar-link">MySQL è§†å›¾/å­˜å‚¨è¿‡ç¨‹/è§¦å‘å™¨</a></li><li><a href="/database/MySQL/MySQL_lock/" class="sidebar-link">MySQL é”</a></li><li><a href="/database/MySQL/MySQL_InnoDB_engine/" class="sidebar-link">MySQL InnoDBå¼•æ“</a></li><li><a href="/database/MySQL/MySQL_Advanced_manager/" class="sidebar-link">MySQL ç®¡ç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MySQL-è¿ç»´</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/database/MySQL/MySQL_journal/" class="sidebar-link">MySQL æ—¥å¿—</a></li><li><a href="/database/MySQL/MySQL_Master_slave_replication/" class="sidebar-link">MySQL ä¸»ä»å¤åˆ¶</a></li><li><a href="/database/MySQL/MySQL_Mycat/" class="sidebar-link">MySQL åˆ†åº“åˆ†è¡¨</a></li><li><a href="/database/MySQL/MySQL_Read_write_separation/" class="sidebar-link">MySQL è¯»å†™åˆ†ç¦»</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>NoSQL æ•°æ®åº“æ¦‚è®º</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/7ab056/" class="sidebar-link">éå…³ç³»å‹æ•°æ®åº“</a></li><li><a href="/pages/8efc75/" class="sidebar-link">NoSQLæ•°æ®åº“ç†è®ºåŸºç¡€</a></li><li><a href="/pages/e2ef11/" class="sidebar-link">NoSQLæ•°æ®åº“åˆ†ç±»</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Redis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e9cc9f/" class="sidebar-link">Redis æ•°æ®åº“ç®€ä»‹</a></li><li><a href="/database/Reids/Redis_install/" class="sidebar-link">Redis æ¦‚è¿°å®‰è£…</a></li><li><a href="/database/Reids/Redis_datatype/" class="sidebar-link">å¸¸ç”¨äº”å¤§æ•°æ®ç±»å‹</a></li><li><a href="/database/Reids/Redis_conf/" class="sidebar-link">Redis é…ç½®æ–‡ä»¶</a></li><li><a href="/database/Reids/Redis_PublishAndSubscribe/" class="sidebar-link">Redis å‘å¸ƒå’Œè®¢é˜…</a></li><li><a href="/database/Reids/Redis_Newdatatype/" class="sidebar-link">Redis æ–°æ•°æ®ç±»å‹</a></li><li><a href="/database/Reids/Redis_Java/" class="sidebar-link">Redis Javaæ•´åˆ</a></li><li><a href="/database/Reids/Redis_AffairAndLock/" class="sidebar-link">Redis äº‹åŠ¡ä¸é”</a></li><li><a href="/database/Reids/Redis_Persistence/" class="sidebar-link">Redis æŒä¹…åŒ–æ“ä½œ</a></li><li><a href="/database/Reids/Redis_MasterSlaveCopy/" class="sidebar-link">Redis ä¸»ä»å¤åˆ¶</a></li><li><a href="/database/Reids/Redis_ClusterBuild/" class="sidebar-link">Redis é›†ç¾¤æ­å»º</a></li><li><a href="/database/Reids/Redis_CacheProblem/" class="sidebar-link">Redis ç¼“å­˜é—®é¢˜</a></li><li><a href="/database/Reids/Redis_Distributedlock/" class="sidebar-link">Redis åˆ†å¸ƒå¼é”</a></li><li><a href="/database/Reids/Redis_6newfunction/" class="sidebar-link">Redis 6.0æ–°åŠŸèƒ½</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MongoDB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/91197c/" class="sidebar-link">MongoDB ç›¸å…³æ¦‚å¿µ</a></li><li><a href="/database/MongoDB/MongoDB_install/" class="sidebar-link">MongoDB å®‰è£…</a></li><li><a href="/database/MongoDB/MongoDB_command/" class="sidebar-link">MongoDB å¸¸ç”¨å‘½ä»¤</a></li><li><a href="/database/MongoDB/MongoDB_index/" class="sidebar-link">MongoDB ç´¢å¼•-Index</a></li><li><a href="/database/MongoDB/MongoDB_Java/" class="sidebar-link">MongoDB æ•´åˆJavaæ¡ˆä¾‹</a></li><li><a href="/database/MongoDB/MongoDB_ClusterAndSecurity/" aria-current="page" class="active sidebar-link">MongoDB é›†ç¾¤å’Œå®‰å…¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HBase</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/2aae92/" class="sidebar-link">HBaseç®€ä»‹</a></li><li><a href="/pages/e33def/" class="sidebar-link">HBaseç³»ç»Ÿæ¶æ„</a></li><li><a href="/pages/c23c27/" class="sidebar-link">HBaseæ•°æ®å®šä¹‰</a></li><li><a href="/pages/0ef396/" class="sidebar-link">HBaseæ•°æ®æ“ä½œ</a></li><li><a href="/pages/e16a48/" class="sidebar-link">HBaseåŸºæœ¬åŸç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MyBatis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a7566d/" class="sidebar-link">MyBatis å…¥é—¨æ¡ˆä¾‹</a></li><li><a href="/pages/ba216f/" class="sidebar-link">XML é…ç½®</a></li><li><a href="/pages/c86777/" class="sidebar-link">XML æ˜ å°„æ–‡ä»¶</a></li><li><a href="/pages/72d6fc/" class="sidebar-link">åŠ¨æ€SQL</a></li><li><a href="/pages/c47d25/" class="sidebar-link">ç¼“å­˜</a></li><li><a href="/pages/b147f3/" class="sidebar-link">MyBatisçš„é€†å‘å·¥ç¨‹</a></li><li><a href="/pages/ca7f77/" class="sidebar-link">åˆ†é¡µæ’ä»¶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MyBatis-Plus</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e0594a/" class="sidebar-link">MyBatis-Plus ç®€ä»‹</a></li><li><a href="/pages/7e2604/" class="sidebar-link">MyBatis-Plus å…¥é—¨æ¡ˆä¾‹</a></li><li><a href="/pages/bcc63c/" class="sidebar-link">MyBatis-Plus åŸºæœ¬CRUD</a></li><li><a href="/pages/acce37/" class="sidebar-link">MyBatis-Plus å¸¸ç”¨æ³¨è§£</a></li><li><a href="/pages/004342/" class="sidebar-link">æ¡ä»¶æ„é€ å™¨å’Œå¸¸ç”¨æ¥å£</a></li><li><a href="/pages/160497/" class="sidebar-link">MyBatis-Plus æ’ä»¶</a></li><li><a href="/pages/d70dfe/" class="sidebar-link">MyBatis-Plus é€šç”¨æšä¸¾</a></li><li><a href="/pages/b0e3b4/" class="sidebar-link">MyBatis-Plus ä»£ç ç”Ÿæˆå™¨</a></li><li><a href="/pages/575daf/" class="sidebar-link">MyBatis-Plus å¤šæ•°æ®æº</a></li><li><a href="/pages/8457cc/" class="sidebar-link">MyBatisXæ’ä»¶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Sharding-Sphere</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1f54f3/" class="sidebar-link">ShardingSphere</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=studynotes" title="åˆ†ç±»" data-v-06225672>studynotes</a></li><li data-v-06225672><a href="/categories/?category=database" title="åˆ†ç±»" data-v-06225672>database</a></li><li data-v-06225672><a href="/categories/?category=MongoDB" title="åˆ†ç±»" data-v-06225672>MongoDB</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>lwy</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-06-27</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">MongoDB é›†ç¾¤å’Œå®‰å…¨<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="mongodb-é›†ç¾¤å’Œå®‰å…¨"><a href="#mongodb-é›†ç¾¤å’Œå®‰å…¨" class="header-anchor">#</a> MongoDB é›†ç¾¤å’Œå®‰å…¨</h1> <p></p><div class="table-of-contents"><ul><li><a href="#å­¦ä¹ ç›®æ ‡">å­¦ä¹ ç›®æ ‡</a></li><li><a href="#å‰¯æœ¬é›†-replica-sets">å‰¯æœ¬é›†-Replica Sets</a><ul><li><a href="#ç®€ä»‹">ç®€ä»‹</a></li></ul></li><li><a href="#å‰¯æœ¬é›†çš„ä¸‰ä¸ªè§’è‰²">å‰¯æœ¬é›†çš„ä¸‰ä¸ªè§’è‰²</a></li><li><a href="#å‰¯æœ¬é›†æ¶æ„ç›®æ ‡">å‰¯æœ¬é›†æ¶æ„ç›®æ ‡</a></li><li><a href="#å‰¯æœ¬é›†çš„åˆ›å»º">å‰¯æœ¬é›†çš„åˆ›å»º</a><ul><li><a href="#ç¬¬ä¸€æ­¥-åˆ›å»ºä¸»èŠ‚ç‚¹">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸»èŠ‚ç‚¹</a></li><li><a href="#ç¬¬äºŒæ­¥-åˆ›å»ºå‰¯æœ¬èŠ‚ç‚¹">ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå‰¯æœ¬èŠ‚ç‚¹</a></li><li><a href="#ç¬¬ä¸‰æ­¥-åˆ›å»ºä»²è£èŠ‚ç‚¹">ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºä»²è£èŠ‚ç‚¹</a></li><li><a href="#ç¬¬å››æ­¥-åˆå§‹åŒ–é…ç½®å‰¯æœ¬é›†å’Œä¸»èŠ‚ç‚¹">ç¬¬å››æ­¥ï¼šåˆå§‹åŒ–é…ç½®å‰¯æœ¬é›†å’Œä¸»èŠ‚ç‚¹</a></li><li><a href="#ç¬¬äº”æ­¥-æŸ¥çœ‹å‰¯æœ¬é›†çš„é…ç½®å†…å®¹">ç¬¬äº”æ­¥ï¼šæŸ¥çœ‹å‰¯æœ¬é›†çš„é…ç½®å†…å®¹</a></li><li><a href="#ç¬¬å…­æ­¥-æŸ¥çœ‹å‰¯æœ¬é›†çŠ¶æ€">ç¬¬å…­æ­¥ï¼šæŸ¥çœ‹å‰¯æœ¬é›†çŠ¶æ€</a></li><li><a href="#æ·»åŠ å‰¯æœ¬èŠ‚ç‚¹">æ·»åŠ å‰¯æœ¬èŠ‚ç‚¹</a></li><li><a href="#æ·»åŠ ä»²è£ä»èŠ‚ç‚¹">æ·»åŠ ä»²è£ä»èŠ‚ç‚¹</a></li></ul></li><li><a href="#å‰¯æœ¬é›†çš„æ•°æ®è¯»å†™æ“ä½œ">å‰¯æœ¬é›†çš„æ•°æ®è¯»å†™æ“ä½œ</a></li><li><a href="#ä¸»èŠ‚ç‚¹çš„é€‰ä¸¾åŸåˆ™">ä¸»èŠ‚ç‚¹çš„é€‰ä¸¾åŸåˆ™</a></li><li><a href="#æ•…éšœæµ‹è¯•">æ•…éšœæµ‹è¯•</a><ul><li><a href="#å‰¯æœ¬èŠ‚ç‚¹æ•…éšœæµ‹è¯•">å‰¯æœ¬èŠ‚ç‚¹æ•…éšœæµ‹è¯•</a></li></ul></li><li><a href="#springdatamongodbè¿æ¥å‰¯æœ¬é›†">SpringDataMongoDBè¿æ¥å‰¯æœ¬é›†</a></li></ul></div><p></p> <h2 id="å­¦ä¹ ç›®æ ‡"><a href="#å­¦ä¹ ç›®æ ‡" class="header-anchor">#</a> å­¦ä¹ ç›®æ ‡</h2> <ul><li>MongoDBçš„å‰¯æœ¬é›†ï¼šæ“ä½œã€ä¸»è¦æ¦‚å¿µã€æ•…éšœè½¬ç§»ã€é€‰ä¸¾è§„åˆ™</li> <li>MongoDBçš„åˆ†ç‰‡é›†ç¾¤ï¼šæ¦‚å¿µã€ä¼˜ç‚¹ã€æ“ä½œã€åˆ†ç‰‡ç­–ç•¥ã€æ•…éšœè½¬ç§»</li> <li>MongoDBçš„å®‰å…¨è®¤è¯</li></ul> <h2 id="å‰¯æœ¬é›†-replica-sets"><a href="#å‰¯æœ¬é›†-replica-sets" class="header-anchor">#</a> å‰¯æœ¬é›†-Replica Sets</h2> <h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="header-anchor">#</a> ç®€ä»‹</h3> <p>MongoDBä¸­çš„å‰¯æœ¬é›†ï¼ˆReplica Setï¼‰æ˜¯ä¸€ç»„ç»´æŠ¤ç›¸åŒæ•°æ®é›†çš„mongodæœåŠ¡ã€‚ å‰¯æœ¬é›†å¯æä¾›å†—ä½™å’Œé«˜
å¯ç”¨æ€§ï¼Œæ˜¯æ‰€æœ‰ç”Ÿäº§éƒ¨ç½²çš„åŸºç¡€ã€‚</p> <p>ä¹Ÿå¯ä»¥è¯´ï¼Œå‰¯æœ¬é›†ç±»ä¼¼äºæœ‰è‡ªåŠ¨æ•…éšœæ¢å¤åŠŸèƒ½çš„ä¸»ä»é›†ç¾¤ã€‚é€šä¿—çš„è®²å°±æ˜¯ç”¨å¤šå°æœºå™¨è¿›è¡ŒåŒä¸€æ•°æ®çš„å¼‚
æ­¥åŒæ­¥ï¼Œä»è€Œä½¿å¤šå°æœºå™¨æ‹¥æœ‰åŒä¸€æ•°æ®çš„å¤šä¸ªå‰¯æœ¬ï¼Œå¹¶ä¸”å½“ä¸»åº“å½“æ‰æ—¶åœ¨ä¸éœ€è¦ç”¨æˆ·å¹²é¢„çš„æƒ…å†µä¸‹è‡ªåŠ¨
åˆ‡æ¢å…¶ä»–å¤‡ä»½æœåŠ¡å™¨åšä¸»åº“ã€‚è€Œä¸”è¿˜å¯ä»¥åˆ©ç”¨å‰¯æœ¬æœåŠ¡å™¨åšåªè¯»æœåŠ¡å™¨ï¼Œå®ç°è¯»å†™åˆ†ç¦»ï¼Œæé«˜è´Ÿè½½ã€‚</p> <ol><li>å†—ä½™å’Œæ•°æ®å¯ç”¨æ€§</li></ol> <p>å¤åˆ¶æä¾›å†—ä½™å¹¶æé«˜æ•°æ®å¯ç”¨æ€§ã€‚ é€šè¿‡åœ¨ä¸åŒæ•°æ®åº“æœåŠ¡å™¨ä¸Šæä¾›å¤šä¸ªæ•°æ®å‰¯æœ¬ï¼Œå¤åˆ¶å¯æä¾›ä¸€å®šçº§åˆ«
çš„å®¹é”™åŠŸèƒ½ï¼Œä»¥é˜²æ­¢ä¸¢å¤±å•ä¸ªæ•°æ®åº“æœåŠ¡å™¨ã€‚</p> <p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¤åˆ¶å¯ä»¥æä¾›å¢åŠ çš„è¯»å–æ€§èƒ½ï¼Œå› ä¸ºå®¢æˆ·ç«¯å¯ä»¥å°†è¯»å–æ“ä½œå‘é€åˆ°ä¸åŒçš„æœåŠ¡ä¸Šï¼Œ åœ¨ä¸
åŒæ•°æ®ä¸­å¿ƒç»´æŠ¤æ•°æ®å‰¯æœ¬å¯ä»¥å¢åŠ åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºçš„æ•°æ®ä½ç½®å’Œå¯ç”¨æ€§ã€‚ æ‚¨è¿˜å¯ä»¥ä¸ºä¸“ç”¨ç›®çš„ç»´æŠ¤å…¶ä»–
å‰¯æœ¬ï¼Œä¾‹å¦‚ç¾éš¾æ¢å¤ï¼ŒæŠ¥å‘Šæˆ–å¤‡ä»½ã€‚</p> <ol start="2"><li>MongoDBä¸­çš„å¤åˆ¶</li></ol> <p>å‰¯æœ¬é›†æ˜¯ä¸€ç»„ç»´æŠ¤ç›¸åŒæ•°æ®é›†çš„mongodå®ä¾‹ã€‚ å‰¯æœ¬é›†åŒ…å«å¤šä¸ªæ•°æ®æ‰¿è½½èŠ‚ç‚¹å’Œå¯é€‰çš„ä¸€ä¸ªä»²è£èŠ‚ç‚¹ã€‚
åœ¨æ‰¿è½½æ•°æ®çš„èŠ‚ç‚¹ä¸­ï¼Œä¸€ä¸ªä¸”ä»…ä¸€ä¸ªæˆå‘˜è¢«è§†ä¸ºä¸»èŠ‚ç‚¹ï¼Œè€Œå…¶ä»–èŠ‚ç‚¹è¢«è§†ä¸ºæ¬¡è¦ï¼ˆä»ï¼‰èŠ‚ç‚¹ã€‚</p> <p>ä¸»èŠ‚ç‚¹æ¥æ”¶æ‰€æœ‰å†™æ“ä½œã€‚ å‰¯æœ¬é›†åªèƒ½æœ‰ä¸€ä¸ªä¸»è¦èƒ½å¤Ÿç¡®è®¤å…·æœ‰{wï¼šâ€œmostâ€}å†™å…¥å…³æ³¨çš„å†™å…¥; è™½ç„¶åœ¨æŸ
äº›æƒ…å†µä¸‹ï¼Œå¦ä¸€ä¸ªmongodå®ä¾‹å¯èƒ½æš‚æ—¶è®¤ä¸ºè‡ªå·±ä¹Ÿæ˜¯ä¸»è¦çš„ã€‚ä¸»è¦è®°å½•å…¶æ“ä½œæ—¥å¿—ä¸­çš„æ•°æ®é›†çš„æ‰€æœ‰
æ›´æ”¹ï¼Œå³oplogã€‚</p> <p><img alt="image" data-src="https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/20220627/image.28iayc515les.webp" loading="lazy" class="lazy"></p> <p>è¾…åŠ©(å‰¯æœ¬)èŠ‚ç‚¹å¤åˆ¶ä¸»èŠ‚ç‚¹çš„oplogå¹¶å°†æ“ä½œåº”ç”¨äºå…¶æ•°æ®é›†ï¼Œä»¥ä½¿è¾…åŠ©èŠ‚ç‚¹çš„æ•°æ®é›†åæ˜ ä¸»èŠ‚ç‚¹çš„æ•°æ®
é›†ã€‚ å¦‚æœä¸»è¦äººå‘˜ä¸åœ¨ï¼Œåˆ™ç¬¦åˆæ¡ä»¶çš„ä¸­å­¦å°†ä¸¾è¡Œé€‰ä¸¾ä»¥é€‰å‡ºæ–°çš„ä¸»è¦äººå‘˜ã€‚</p> <ol start="3"><li>ä¸»ä»å¤åˆ¶å’Œå‰¯æœ¬é›†åŒºåˆ«</li></ol> <p>ä¸»ä»é›†ç¾¤å’Œå‰¯æœ¬é›†æœ€å¤§çš„åŒºåˆ«å°±æ˜¯å‰¯æœ¬é›†æ²¡æœ‰å›ºå®šçš„â€œä¸»èŠ‚ç‚¹â€ï¼›æ•´ä¸ªé›†ç¾¤ä¼šé€‰å‡ºä¸€ä¸ªâ€œä¸»èŠ‚ç‚¹â€ï¼Œå½“å…¶æŒ‚
æ‰åï¼Œåˆåœ¨å‰©ä¸‹çš„ä»èŠ‚ç‚¹ä¸­é€‰ä¸­å…¶ä»–èŠ‚ç‚¹ä¸ºâ€œä¸»èŠ‚ç‚¹â€ï¼Œå‰¯æœ¬é›†æ€»æœ‰ä¸€ä¸ªæ´»è·ƒç‚¹(ä¸»ã€primary)å’Œä¸€ä¸ªæˆ–å¤š
ä¸ªå¤‡ä»½èŠ‚ç‚¹(ä»ã€secondary)ã€‚</p> <h2 id="å‰¯æœ¬é›†çš„ä¸‰ä¸ªè§’è‰²"><a href="#å‰¯æœ¬é›†çš„ä¸‰ä¸ªè§’è‰²" class="header-anchor">#</a> å‰¯æœ¬é›†çš„ä¸‰ä¸ªè§’è‰²</h2> <p>å‰¯æœ¬é›†æœ‰ä¸¤ç§ç±»å‹ä¸‰ç§è§’è‰²</p> <p>ä¸¤ç§ç±»å‹ï¼š</p> <ul><li>ä¸»èŠ‚ç‚¹ï¼ˆPrimaryï¼‰ç±»å‹ï¼šæ•°æ®æ“ä½œçš„ä¸»è¦è¿æ¥ç‚¹ï¼Œå¯è¯»å†™ã€‚</li> <li>æ¬¡è¦ï¼ˆè¾…åŠ©ã€ä»ï¼‰èŠ‚ç‚¹ï¼ˆSecondariesï¼‰ç±»å‹ï¼šæ•°æ®å†—ä½™å¤‡ä»½èŠ‚ç‚¹ï¼Œå¯ä»¥è¯»æˆ–é€‰ä¸¾ã€‚</li></ul> <p>ä¸‰ç§è§’è‰²ï¼š</p> <p>ä¸»è¦æˆå‘˜ï¼ˆPrimaryï¼‰ï¼šä¸»è¦æ¥æ”¶æ‰€æœ‰å†™æ“ä½œã€‚å°±æ˜¯ä¸»èŠ‚ç‚¹ã€‚</p> <p>å‰¯æœ¬æˆå‘˜ï¼ˆReplicateï¼‰ï¼šä»ä¸»èŠ‚ç‚¹é€šè¿‡å¤åˆ¶æ“ä½œä»¥ç»´æŠ¤ç›¸åŒçš„æ•°æ®é›†ï¼Œå³å¤‡ä»½æ•°æ®ï¼Œä¸å¯å†™æ“ä½œï¼Œä½†å¯
ä»¥è¯»æ“ä½œï¼ˆä½†éœ€è¦é…ç½®ï¼‰ã€‚æ˜¯é»˜è®¤çš„ä¸€ç§ä»èŠ‚ç‚¹ç±»å‹ã€‚</p> <p>ä»²è£è€…ï¼ˆArbiterï¼‰ï¼šä¸ä¿ç•™ä»»ä½•æ•°æ®çš„å‰¯æœ¬ï¼Œåªå…·æœ‰æŠ•ç¥¨é€‰ä¸¾ä½œç”¨ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å°†ä»²è£æœåŠ¡å™¨ç»´æŠ¤ä¸ºå‰¯
æœ¬é›†çš„ä¸€éƒ¨åˆ†ï¼Œå³å‰¯æœ¬æˆå‘˜åŒæ—¶ä¹Ÿå¯ä»¥æ˜¯ä»²è£è€…ã€‚ä¹Ÿæ˜¯ä¸€ç§ä»èŠ‚ç‚¹ç±»å‹ã€‚</p> <p><img alt="image" data-src="https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/20220627/image.4ff6racfmye0.webp" loading="lazy" class="lazy"></p> <p>å…³äºä»²è£è€…çš„é¢å¤–è¯´æ˜ï¼š</p> <p>æ‚¨å¯ä»¥å°†é¢å¤–çš„mongodå®ä¾‹æ·»åŠ åˆ°å‰¯æœ¬é›†ä½œä¸ºä»²è£è€…ã€‚ ä»²è£è€…ä¸ç»´æŠ¤æ•°æ®é›†ã€‚ ä»²è£è€…çš„ç›®çš„æ˜¯é€šè¿‡
å“åº”å…¶ä»–å‰¯æœ¬é›†æˆå‘˜çš„å¿ƒè·³å’Œé€‰ä¸¾è¯·æ±‚æ¥ç»´æŠ¤å‰¯æœ¬é›†ä¸­çš„ä»²è£ã€‚ å› ä¸ºå®ƒä»¬ä¸å­˜å‚¨æ•°æ®é›†ï¼Œæ‰€ä»¥ä»²è£å™¨å¯
ä»¥æ˜¯æä¾›å‰¯æœ¬é›†ä»²è£åŠŸèƒ½çš„å¥½æ–¹æ³•ï¼Œå…¶èµ„æºæˆæœ¬æ¯”å…·æœ‰æ•°æ®é›†çš„å…¨åŠŸèƒ½å‰¯æœ¬é›†æˆå‘˜æ›´ä¾¿å®œã€‚</p> <p>å¦‚æœæ‚¨çš„å‰¯æœ¬é›†å…·æœ‰å¶æ•°ä¸ªæˆå‘˜ï¼Œè¯·æ·»åŠ ä»²è£è€…ä»¥è·å¾—ä¸»è¦é€‰ä¸¾ä¸­çš„â€œå¤§å¤šæ•°â€æŠ•ç¥¨ã€‚ ä»²è£è€…ä¸éœ€è¦ä¸“ç”¨
ç¡¬ä»¶ã€‚</p> <p>ä»²è£è€…å°†æ°¸è¿œæ˜¯ä»²è£è€…ï¼Œè€Œä¸»è¦äººå‘˜å¯èƒ½ä¼šé€€å‡ºå¹¶æˆä¸ºæ¬¡è¦äººå‘˜ï¼Œè€Œæ¬¡è¦äººå‘˜å¯èƒ½æˆä¸ºé€‰ä¸¾æœŸé—´çš„ä¸»è¦
äººå‘˜ã€‚</p> <p>å¦‚æœä½ çš„å‰¯æœ¬+ä¸»èŠ‚ç‚¹çš„ä¸ªæ•°æ˜¯å¶æ•°ï¼Œå»ºè®®åŠ ä¸€ä¸ªä»²è£è€…ï¼Œå½¢æˆå¥‡æ•°ï¼Œå®¹æ˜“æ»¡è¶³å¤§å¤šæ•°çš„æŠ•ç¥¨ã€‚</p> <p>å¦‚æœä½ çš„å‰¯æœ¬+ä¸»èŠ‚ç‚¹çš„ä¸ªæ•°æ˜¯å¥‡æ•°ï¼Œå¯ä»¥ä¸åŠ ä»²è£è€…ã€‚</p> <h2 id="å‰¯æœ¬é›†æ¶æ„ç›®æ ‡"><a href="#å‰¯æœ¬é›†æ¶æ„ç›®æ ‡" class="header-anchor">#</a> å‰¯æœ¬é›†æ¶æ„ç›®æ ‡</h2> <p>ä¸€ä¸»ä¸€å‰¯æœ¬ä¸€ä»²è£</p> <p><img alt="image" data-src="https://cdn.staticaly.com/gh/xustudyxu/image-hosting@master/20220627/image.31yuyn1jm8g0.webp" loading="lazy" class="lazy"></p> <h2 id="å‰¯æœ¬é›†çš„åˆ›å»º"><a href="#å‰¯æœ¬é›†çš„åˆ›å»º" class="header-anchor">#</a> å‰¯æœ¬é›†çš„åˆ›å»º</h2> <h3 id="ç¬¬ä¸€æ­¥-åˆ›å»ºä¸»èŠ‚ç‚¹"><a href="#ç¬¬ä¸€æ­¥-åˆ›å»ºä¸»èŠ‚ç‚¹" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸»èŠ‚ç‚¹</h3> <p>å»ºç«‹å­˜æ”¾æ•°æ®å’Œæ—¥å¿—çš„ç›®å½•</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#-----------myrs</span>
<span class="token comment">#ä¸»èŠ‚ç‚¹</span>
<span class="token function">mkdir</span> -p /mongodb/replica_sets/myrs_27017/log <span class="token punctuation">\</span> <span class="token operator">&amp;</span>
<span class="token function">mkdir</span> -p /mongodb/replica_sets/myrs_27017/data/db
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æ–°å»ºæˆ–ä¿®æ”¹é…ç½®æ–‡ä»¶</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">vim</span> /mongodb/replica_sets/myrs_27017/mongod.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>myrs_27017ï¼š</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">systemLog</span><span class="token punctuation">:</span>
  <span class="token comment">#MongoDBå‘é€æ‰€æœ‰æ—¥å¿—è¾“å‡ºçš„ç›®æ ‡æŒ‡å®šä¸ºæ–‡ä»¶</span>
  <span class="token key atrule">destination</span><span class="token punctuation">:</span> file
  <span class="token comment">#mongodæˆ–mongosåº”å‘å…¶å‘é€æ‰€æœ‰è¯Šæ–­æ—¥å¿—è®°å½•ä¿¡æ¯çš„æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„</span>
  <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token string">&quot;/mongodb/replica_sets/myrs_27017/log/mongod.log&quot;</span>
  <span class="token comment">#å½“mongosæˆ–mongodå®ä¾‹é‡æ–°å¯åŠ¨æ—¶ï¼Œmongosæˆ–mongodä¼šå°†æ–°æ¡ç›®é™„åŠ åˆ°ç°æœ‰æ—¥å¿—æ–‡ä»¶çš„æœ«å°¾ã€‚</span>
  <span class="token key atrule">logAppend</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">storage</span><span class="token punctuation">:</span>
  <span class="token comment">#mongodå®ä¾‹å­˜å‚¨å…¶æ•°æ®çš„ç›®å½•ã€‚storage.dbPathè®¾ç½®ä»…é€‚ç”¨äºmongodã€‚</span>
  <span class="token key atrule">dbPath</span><span class="token punctuation">:</span> <span class="token string">&quot;/mongodb/replica_sets/myrs_27017/data/db&quot;</span>
  <span class="token key atrule">journal</span><span class="token punctuation">:</span>
    <span class="token comment">#å¯ç”¨æˆ–ç¦ç”¨æŒä¹…æ€§æ—¥å¿—ä»¥ç¡®ä¿æ•°æ®æ–‡ä»¶ä¿æŒæœ‰æ•ˆå’Œå¯æ¢å¤ã€‚</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">processManagement</span><span class="token punctuation">:</span>
  <span class="token comment">#å¯ç”¨åœ¨åå°è¿è¡Œmongosæˆ–mongodè¿›ç¨‹çš„å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ã€‚</span>
  <span class="token key atrule">fork</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment">#æŒ‡å®šç”¨äºä¿å­˜mongosæˆ–mongodè¿›ç¨‹çš„è¿›ç¨‹IDçš„æ–‡ä»¶ä½ç½®ï¼Œå…¶ä¸­mongosæˆ–mongodå°†å†™å…¥å…¶PID</span>
  <span class="token key atrule">pidFilePath</span><span class="token punctuation">:</span> <span class="token string">&quot;/mongodb/replica_sets/myrs_27017/log/mongod.pid&quot;</span>
<span class="token key atrule">net</span><span class="token punctuation">:</span>
  <span class="token comment">#æœåŠ¡å®ä¾‹ç»‘å®šæ‰€æœ‰IPï¼Œæœ‰å‰¯ä½œç”¨ï¼Œå‰¯æœ¬é›†åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹åå­—ä¼šè‡ªåŠ¨è®¾ç½®ä¸ºæœ¬åœ°åŸŸåï¼Œè€Œä¸æ˜¯ip</span>
  <span class="token comment">#bindIpAll: true</span>
  <span class="token comment">#æœåŠ¡å®ä¾‹ç»‘å®šçš„IP</span>
  <span class="token key atrule">bindIp</span><span class="token punctuation">:</span> localhost<span class="token punctuation">,</span>192.168.72.2
  <span class="token comment">#bindIp</span>
  <span class="token comment">#ç»‘å®šçš„ç«¯å£</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">27017</span>
<span class="token key atrule">replication</span><span class="token punctuation">:</span>
  <span class="token comment">#å‰¯æœ¬é›†çš„åç§°</span>
  <span class="token key atrule">replSetName</span><span class="token punctuation">:</span> myrs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>å¯åŠ¨èŠ‚ç‚¹æœåŠ¡ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@master ~<span class="token punctuation">]</span><span class="token comment">#  /usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27017/mongod.conf</span>
about to fork child process, waiting <span class="token keyword">until</span> server is ready <span class="token keyword">for</span> connections.
forked process: <span class="token number">2038</span>
child process started successfully, parent exiting
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="ç¬¬äºŒæ­¥-åˆ›å»ºå‰¯æœ¬èŠ‚ç‚¹"><a href="#ç¬¬äºŒæ­¥-åˆ›å»ºå‰¯æœ¬èŠ‚ç‚¹" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå‰¯æœ¬èŠ‚ç‚¹</h3> <p>å»ºç«‹å­˜æ”¾æ•°æ®å’Œæ—¥å¿—çš„ç›®å½•</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#-----------myrs</span>
<span class="token comment">#å‰¯æœ¬èŠ‚ç‚¹</span>
<span class="token function">mkdir</span> -p /mongodb/replica_sets/myrs_27018/log <span class="token punctuation">\</span> <span class="token operator">&amp;</span>
<span class="token function">mkdir</span> -p /mongodb/replica_sets/myrs_27018/data/db
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æ–°å»ºæˆ–ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">mkdir</span> /mongodb/replica_sets/myrs_27018/
<span class="token builtin class-name">cd</span> /mongodb/replica_sets/myrs_27017/
<span class="token function">cp</span> mongod.conf /mongodb/replica_sets/myrs_27018/mongod.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>myrs_27018ï¼š</p> <p>æŠŠmyrs_27017ä¸­çš„ç«¯å£å·æ”¹ä¸º27018å³å¯</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>:% s/27017/27018/g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¯åŠ¨èŠ‚ç‚¹æœåŠ¡ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@master mongodb<span class="token punctuation">]</span><span class="token comment">#  /usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27018/mongod.conf</span>
about to fork child process, waiting <span class="token keyword">until</span> server is ready <span class="token keyword">for</span> connections.
forked process: <span class="token number">2217</span>
child process started successfully, parent exiting
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="ç¬¬ä¸‰æ­¥-åˆ›å»ºä»²è£èŠ‚ç‚¹"><a href="#ç¬¬ä¸‰æ­¥-åˆ›å»ºä»²è£èŠ‚ç‚¹" class="header-anchor">#</a> ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºä»²è£èŠ‚ç‚¹</h3> <p>å»ºç«‹å­˜æ”¾æ•°æ®å’Œæ—¥å¿—çš„ç›®å½•</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#-----------myrs</span>
<span class="token comment">#ä»²è£èŠ‚ç‚¹</span>
<span class="token function">mkdir</span> -p /mongodb/replica_sets/myrs_27019/log <span class="token punctuation">\</span> <span class="token operator">&amp;</span>
<span class="token function">mkdir</span> -p /mongodb/replica_sets/myrs_27019/data/db
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ä»²è£èŠ‚ç‚¹ï¼š</p> <p>æ–°å»ºæˆ–ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">mkdir</span> /mongodb/replica_sets/myrs_27019/
<span class="token builtin class-name">cd</span> /mongodb/replica_sets/myrs_27017/
<span class="token function">cp</span> mongod.conf /mongodb/replica_sets/myrs_27019/mongod.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>myrs_27019ï¼š</p> <p>æŠŠmyrs_27017ä¸­çš„ç«¯å£å·æ”¹ä¸º27019å³å¯</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>:% s/27017/27019/g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¯åŠ¨èŠ‚ç‚¹æœåŠ¡ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@master myrs_27019<span class="token punctuation">]</span><span class="token comment">#  /usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27019/mongod.conf</span>
about to fork child process, waiting <span class="token keyword">until</span> server is ready <span class="token keyword">for</span> connections.
forked process: <span class="token number">2342</span>
child process started successfully, parent exiting
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>ä½¿ç”¨å‘½ä»¤è¡ŒæŸ¥çœ‹mongoæœåŠ¡</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span>root@master myrs_27019<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep mongo</span>
root       <span class="token number">2038</span>      <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">20</span>:25 ?        00:00:04 /usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27017/mongod.conf
root       <span class="token number">2217</span>      <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">20</span>:37 ?        00:00:01 /usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27018/mongod.conf
root       <span class="token number">2342</span>      <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">20</span>:43 ?        00:00:00 /usr/local/mongodb/bin/mongod -f /mongodb/replica_sets/myrs_27019/mongod.conf
root       <span class="token number">2388</span>   <span class="token number">1880</span>  <span class="token number">0</span> <span class="token number">20</span>:45 pts/0    00:00:00 <span class="token function">grep</span> --color<span class="token operator">=</span>auto mongo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="ç¬¬å››æ­¥-åˆå§‹åŒ–é…ç½®å‰¯æœ¬é›†å’Œä¸»èŠ‚ç‚¹"><a href="#ç¬¬å››æ­¥-åˆå§‹åŒ–é…ç½®å‰¯æœ¬é›†å’Œä¸»èŠ‚ç‚¹" class="header-anchor">#</a> ç¬¬å››æ­¥ï¼šåˆå§‹åŒ–é…ç½®å‰¯æœ¬é›†å’Œä¸»èŠ‚ç‚¹</h3> <p>ä½¿ç”¨å®¢æˆ·ç«¯å‘½ä»¤è¿æ¥ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†è¿™é‡Œå°½é‡è¦è¿æ¥ä¸»èŠ‚ç‚¹(27017èŠ‚ç‚¹)ï¼š</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>/usr/local/mongodb/bin/mongo --host<span class="token operator">=</span><span class="token number">192.168</span>.72.200 --port<span class="token operator">=</span><span class="token number">27017</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ç»“æœï¼Œè¿æ¥ä¸Šä¹‹åï¼Œå¾ˆå¤šå‘½ä»¤æ— æ³•ä½¿ç”¨ï¼Œï¼Œæ¯”å¦‚ show dbs ç­‰ï¼Œå¿…é¡»åˆå§‹åŒ–å‰¯æœ¬é›†æ‰è¡Œ</p> <p>å‡†å¤‡åˆå§‹åŒ–æ–°çš„å‰¯æœ¬é›†ï¼š</p> <p>è¯­æ³•ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>rs.initiate<span class="token punctuation">(</span>configuration<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>é€‰é¡¹:</p> <table><thead><tr><th>Parameter</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>configuration</code></td> <td>document</td> <td>Optional. A document that specifies configuration for the new replica set. If a configuration is not specified,MongoDB uses a default replica set configuration.</td></tr></tbody></table> <p>ã€ç¤ºä¾‹ã€‘</p> <p>ä½¿ç”¨é»˜è®¤çš„é…ç½®æ¥åˆå§‹åŒ–å‰¯æœ¬é›†ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>rs.initiate<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æ‰§è¡Œç»“æœï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token operator">&gt;</span> rs.<span class="token function-name function">initiate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
        <span class="token string">&quot;info2&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;no configuration specified. Using a default configuration for the set&quot;</span>,
        <span class="token string">&quot;me&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;localhost:27019&quot;</span>,
        <span class="token string">&quot;ok&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>,
        <span class="token string">&quot;operationTime&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656343919</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
        <span class="token string">&quot;<span class="token variable">$clusterTime</span>&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;clusterTime&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656343919</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
                <span class="token string">&quot;signature&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                        <span class="token string">&quot;hash&quot;</span> <span class="token builtin class-name">:</span> BinData<span class="token punctuation">(</span><span class="token number">0</span>,<span class="token string">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;keyId&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
myrs:OTHER<span class="token operator">&gt;</span>
myrs:PRIMARY<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>æç¤ºï¼š</p> <ol><li>â€œokâ€çš„å€¼ä¸º1ï¼Œè¯´æ˜åˆ›å»ºæˆåŠŸã€‚</li> <li>å‘½ä»¤è¡Œæç¤ºç¬¦å‘ç”Ÿå˜åŒ–ï¼Œå˜æˆäº†ä¸€ä¸ªä»èŠ‚ç‚¹è§’è‰²ï¼Œæ­¤æ—¶é»˜è®¤ä¸èƒ½è¯»å†™ã€‚ç¨ç­‰ç‰‡åˆ»ï¼Œå›è½¦ï¼Œå˜æˆä¸»èŠ‚
ç‚¹ã€‚</li></ol></blockquote> <h3 id="ç¬¬äº”æ­¥-æŸ¥çœ‹å‰¯æœ¬é›†çš„é…ç½®å†…å®¹"><a href="#ç¬¬äº”æ­¥-æŸ¥çœ‹å‰¯æœ¬é›†çš„é…ç½®å†…å®¹" class="header-anchor">#</a> ç¬¬äº”æ­¥ï¼šæŸ¥çœ‹å‰¯æœ¬é›†çš„é…ç½®å†…å®¹</h3> <p>è¯´æ˜ï¼š</p> <p>è¿”å›åŒ…å«å½“å‰å‰¯æœ¬é›†é…ç½®çš„æ–‡æ¡£ã€‚</p> <p>è¯­æ³•ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>rs.conf<span class="token punctuation">(</span>configuration<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>æç¤ºï¼š</p> <p>rs.config() æ˜¯è¯¥æ–¹æ³•çš„åˆ«åã€‚</p> <p>configurationï¼šå¯é€‰ï¼Œå¦‚æœæ²¡æœ‰é…ç½®ï¼Œåˆ™ä½¿ç”¨é»˜è®¤ä¸»èŠ‚ç‚¹é…ç½®ã€‚</p></blockquote> <p>ã€ç¤ºä¾‹ã€‘</p> <p>åœ¨27017ä¸Šæ‰§è¡Œå‰¯æœ¬é›†ä¸­å½“å‰èŠ‚ç‚¹çš„é»˜è®¤èŠ‚ç‚¹é…ç½®</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>myrs:PRIMARY<span class="token operator">&gt;</span> rs.<span class="token function-name function">conf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
        <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;myrs&quot;</span>,
        <span class="token string">&quot;version&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>,
        <span class="token string">&quot;protocolVersion&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>,
        <span class="token string">&quot;writeConcernMajorityJournalDefault&quot;</span> <span class="token builtin class-name">:</span> true,
        <span class="token string">&quot;members&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                        <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">0</span>,
                        <span class="token string">&quot;host&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;localhost:27019&quot;</span>,
                        <span class="token string">&quot;arbiterOnly&quot;</span> <span class="token builtin class-name">:</span> false,
                        <span class="token string">&quot;buildIndexes&quot;</span> <span class="token builtin class-name">:</span> true,
                        <span class="token string">&quot;hidden&quot;</span> <span class="token builtin class-name">:</span> false,
                        <span class="token string">&quot;priority&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>,
                        <span class="token string">&quot;tags&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                        <span class="token punctuation">}</span>,
                        <span class="token string">&quot;slaveDelay&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;votes&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>,
        <span class="token string">&quot;settings&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;chainingAllowed&quot;</span> <span class="token builtin class-name">:</span> true,
                <span class="token string">&quot;heartbeatIntervalMillis&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">2000</span>,
                <span class="token string">&quot;heartbeatTimeoutSecs&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">10</span>,
                <span class="token string">&quot;electionTimeoutMillis&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">10000</span>,
                <span class="token string">&quot;catchUpTimeoutMillis&quot;</span> <span class="token builtin class-name">:</span> -1,
                <span class="token string">&quot;catchUpTakeoverDelayMillis&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">30000</span>,
                <span class="token string">&quot;getLastErrorModes&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token punctuation">}</span>,
                <span class="token string">&quot;getLastErrorDefaults&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                        <span class="token string">&quot;w&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>,
                        <span class="token string">&quot;wtimeout&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">0</span>
                <span class="token punctuation">}</span>,
                <span class="token string">&quot;replicaSetId&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;62b9cd6f2c5c46b2620c8b1b&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><ul><li><code>&quot;_id&quot; : &quot;myrs&quot;</code> ï¼šå‰¯æœ¬é›†çš„é…ç½®æ•°æ®å­˜å‚¨çš„ä¸»é”®å€¼ï¼Œé»˜è®¤å°±æ˜¯<strong>å‰¯æœ¬é›†</strong>çš„åå­—</li> <li><code>&quot;members&quot;</code> ï¼šå‰¯æœ¬é›†æˆå‘˜æ•°ç»„ï¼Œæ­¤æ—¶åªæœ‰ä¸€ä¸ªï¼š <code>&quot;host&quot; : &quot;180.76.159.126:27017&quot;</code> ï¼Œè¯¥æˆå‘˜ä¸æ˜¯ä»²è£èŠ‚ç‚¹ï¼š <code>&quot;arbiterOnly&quot; : false</code> ï¼Œä¼˜å…ˆçº§ï¼ˆæƒé‡å€¼ï¼‰ï¼š <code>&quot;priority&quot; : 1</code></li> <li><code>&quot;settings&quot;</code> ï¼šå‰¯æœ¬é›†çš„å‚æ•°é…ç½®ã€‚</li></ul> <blockquote><p>æç¤ºï¼šå‰¯æœ¬é›†é…ç½®çš„æŸ¥çœ‹å‘½ä»¤ï¼Œæœ¬è´¨æ˜¯æŸ¥è¯¢çš„æ˜¯ system.replset çš„è¡¨ä¸­çš„æ•°æ®ï¼š</p></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>myrs:PRIMARY<span class="token operator">&gt;</span> use <span class="token builtin class-name">local</span>
switched to db <span class="token builtin class-name">local</span>
myrs:PRIMARY<span class="token operator">&gt;</span> show collections
oplog.rs
replset.election
replset.minvalid
replset.oplogTruncateAfterPoint
startup_log
system.replset
system.rollback.id
myrs:PRIMARY<span class="token operator">&gt;</span> db.system.replset.<span class="token function-name function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;myrs&quot;</span>, <span class="token string">&quot;version&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">&quot;protocolVersion&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>, <span class="token string">&quot;writeConcernMajorityJournalDefault&quot;</span> <span class="token builtin class-name">:</span> true, <span class="token string">&quot;members&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">0</span>, <span class="token string">&quot;host&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;localhost:27019&quot;</span>, <span class="token string">&quot;arbiterOnly&quot;</span> <span class="token builtin class-name">:</span> false, <span class="token string">&quot;buildIndexes&quot;</span> <span class="token builtin class-name">:</span> true, <span class="token string">&quot;hidden&quot;</span> <span class="token builtin class-name">:</span> false, <span class="token string">&quot;priority&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">&quot;tags&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span>, <span class="token string">&quot;slaveDelay&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>, <span class="token string">&quot;votes&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span>, <span class="token string">&quot;settings&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span> <span class="token string">&quot;chainingAllowed&quot;</span> <span class="token builtin class-name">:</span> true, <span class="token string">&quot;heartbeatIntervalMillis&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">2000</span>, <span class="token string">&quot;heartbeatTimeoutSecs&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">10</span>, <span class="token string">&quot;electionTimeoutMillis&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">10000</span>, <span class="token string">&quot;catchUpTimeoutMillis&quot;</span> <span class="token builtin class-name">:</span> -1, <span class="token string">&quot;catchUpTakeoverDelayMillis&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">30000</span>, <span class="token string">&quot;getLastErrorModes&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span>, <span class="token string">&quot;getLastErrorDefaults&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span> <span class="token string">&quot;w&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">&quot;wtimeout&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>, <span class="token string">&quot;replicaSetId&quot;</span> <span class="token builtin class-name">:</span> ObjectId<span class="token punctuation">(</span><span class="token string">&quot;62b9cd6f2c5c46b2620c8b1b&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="ç¬¬å…­æ­¥-æŸ¥çœ‹å‰¯æœ¬é›†çŠ¶æ€"><a href="#ç¬¬å…­æ­¥-æŸ¥çœ‹å‰¯æœ¬é›†çŠ¶æ€" class="header-anchor">#</a> ç¬¬å…­æ­¥ï¼šæŸ¥çœ‹å‰¯æœ¬é›†çŠ¶æ€</h3> <p>è¿”å›åŒ…å«çŠ¶æ€ä¿¡æ¯çš„æ–‡æ¡£ã€‚æ­¤è¾“å‡ºä½¿ç”¨ä»å‰¯æœ¬é›†çš„å…¶ä»–æˆå‘˜å‘é€çš„å¿ƒè·³åŒ…ä¸­è·å¾—çš„æ•°æ®åæ˜ å‰¯æœ¬é›†çš„å½“ å‰çŠ¶æ€</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>rs.status<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ã€ç¤ºä¾‹ã€‘</p> <p>åœ¨27017ä¸ŠæŸ¥çœ‹å‰¯æœ¬é›†çŠ¶æ€ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>myrs:PRIMARY<span class="token operator">&gt;</span> rs.<span class="token function-name function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
        <span class="token string">&quot;set&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;myrs&quot;</span>,
        <span class="token string">&quot;date&quot;</span> <span class="token builtin class-name">:</span> ISODate<span class="token punctuation">(</span><span class="token string">&quot;2022-06-27T15:37:26.398Z&quot;</span><span class="token punctuation">)</span>,
        <span class="token string">&quot;myState&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>,
        <span class="token string">&quot;term&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>,
        <span class="token string">&quot;syncingTo&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
        <span class="token string">&quot;syncSourceHost&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
        <span class="token string">&quot;syncSourceId&quot;</span> <span class="token builtin class-name">:</span> -1,
        <span class="token string">&quot;heartbeatIntervalMillis&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>,
        <span class="token string">&quot;optimes&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;lastCommittedOpTime&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                        <span class="token string">&quot;ts&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656344241</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;t&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>,
                <span class="token string">&quot;readConcernMajorityOpTime&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                        <span class="token string">&quot;ts&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656344241</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;t&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>,
                <span class="token string">&quot;appliedOpTime&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                        <span class="token string">&quot;ts&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656344241</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;t&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>,
                <span class="token string">&quot;durableOpTime&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                        <span class="token string">&quot;ts&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656344241</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;t&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;lastStableCheckpointTimestamp&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656344211</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
        <span class="token string">&quot;members&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                        <span class="token string">&quot;_id&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">0</span>,
                        <span class="token string">&quot;name&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;localhost:27019&quot;</span>,
                        <span class="token string">&quot;health&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>,
                        <span class="token string">&quot;state&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>,
                        <span class="token string">&quot;stateStr&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;PRIMARY&quot;</span>,
                        <span class="token string">&quot;uptime&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">566</span>,
                        <span class="token string">&quot;optime&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                                <span class="token string">&quot;ts&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656344241</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
                                <span class="token string">&quot;t&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>,
                        <span class="token string">&quot;optimeDate&quot;</span> <span class="token builtin class-name">:</span> ISODate<span class="token punctuation">(</span><span class="token string">&quot;2022-06-27T15:37:21Z&quot;</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;syncingTo&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
                        <span class="token string">&quot;syncSourceHost&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
                        <span class="token string">&quot;syncSourceId&quot;</span> <span class="token builtin class-name">:</span> -1,
                        <span class="token string">&quot;infoMessage&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
                        <span class="token string">&quot;electionTime&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656343919</span>, <span class="token number">2</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;electionDate&quot;</span> <span class="token builtin class-name">:</span> ISODate<span class="token punctuation">(</span><span class="token string">&quot;2022-06-27T15:31:59Z&quot;</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;configVersion&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>,
                        <span class="token string">&quot;self&quot;</span> <span class="token builtin class-name">:</span> true,
                        <span class="token string">&quot;lastHeartbeatMessage&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>,
        <span class="token string">&quot;ok&quot;</span> <span class="token builtin class-name">:</span> <span class="token number">1</span>,
        <span class="token string">&quot;operationTime&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656344241</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
        <span class="token string">&quot;<span class="token variable">$clusterTime</span>&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;clusterTime&quot;</span> <span class="token builtin class-name">:</span> Timestamp<span class="token punctuation">(</span><span class="token number">1656344241</span>, <span class="token number">1</span><span class="token punctuation">)</span>,
                <span class="token string">&quot;signature&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                        <span class="token string">&quot;hash&quot;</span> <span class="token builtin class-name">:</span> BinData<span class="token punctuation">(</span><span class="token number">0</span>,<span class="token string">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;</span><span class="token punctuation">)</span>,
                        <span class="token string">&quot;keyId&quot;</span> <span class="token builtin class-name">:</span> NumberLong<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><blockquote><p>è¯´æ˜ï¼š</p> <ol><li>&quot;set&quot; :  &quot;myrs&quot; ï¼šå‰¯æœ¬é›†çš„åå­—</li> <li>&quot;myState&quot; : 1ï¼šè¯´æ˜çŠ¶æ€æ­£å¸¸</li> <li>&quot;members&quot; ï¼šå‰¯æœ¬é›†æˆå‘˜æ•°ç»„ï¼Œæ­¤æ—¶åªæœ‰ä¸€ä¸ªï¼š &quot;name&quot; : &quot;180.76.159.126:27017&quot; ï¼Œè¯¥æˆå‘˜çš„è§’è‰²æ˜¯ &quot;stateStr&quot; : &quot;PRIMARY&quot;, è¯¥èŠ‚ç‚¹æ˜¯å¥åº·çš„ï¼š &quot;health&quot; : 1 ã€‚</li></ol></blockquote> <h3 id="æ·»åŠ å‰¯æœ¬èŠ‚ç‚¹"><a href="#æ·»åŠ å‰¯æœ¬èŠ‚ç‚¹" class="header-anchor">#</a> æ·»åŠ å‰¯æœ¬èŠ‚ç‚¹</h3> <p>åœ¨ä¸»èŠ‚ç‚¹æ·»åŠ ä»èŠ‚ç‚¹ï¼Œå°†å…¶ä»–æˆå‘˜åŠ å…¥åˆ°å‰¯æœ¬é›†</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>rs.add<span class="token punctuation">(</span>host, arbiterOnly<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>é€‰é¡¹:</p> <table><thead><tr><th>Parameter</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>host</td> <td>string or document</td> <td>è¦æ·»åŠ åˆ°å‰¯æœ¬é›†çš„æ–°æˆå‘˜ã€‚æŒ‡å®šä¸ºå­—ç¬¦ä¸²æˆ–é…ç½®æ–‡æ¡£ï¼š1ï¼‰å¦‚æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™éœ€è¦æŒ‡å®šæ–°æˆå‘˜çš„ä¸»æœºåå’Œå¯é€‰çš„ç«¯å£å·ï¼›2ï¼‰å¦‚æœæ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œè¯·æŒ‡å®šåœ¨membersæ•°ç»„ä¸­æ‰¾åˆ°çš„å‰¯æœ¬é›†æˆå‘˜é…ç½®æ–‡æ¡£ã€‚æ‚¨å¿…é¡»åœ¨æˆå‘˜é…ç½®æ–‡æ¡£ä¸­æŒ‡å®šä¸»æœºå­—æ®µã€‚æœ‰å…³æ–‡æ¡£é…ç½®å­—æ®µçš„è¯´æ˜ï¼Œè¯¦è§ä¸‹æ–¹æ–‡æ¡£ï¼š&quot;ä¸»æœºæˆå‘˜çš„é…ç½®æ–‡æ¡£&quot;</td></tr> <tr><td>arbiterOnly</td> <td>boolean</td> <td>å¯é€‰çš„ã€‚ä»…åœ¨å€¼ä¸ºå­—ç¬¦ä¸²æ—¶é€‚ç”¨ã€‚å¦‚æœä¸ºtrueï¼Œåˆ™æ·»åŠ çš„ä¸»æœºæ˜¯ä»²è£è€…ã€‚</td></tr></tbody></table> <p>ä¸»æœºæˆå‘˜çš„é…ç½®æ–‡æ¡£ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">{</span>
  _id:<span class="token operator">&lt;</span>int<span class="token operator">&gt;</span>,
  host:<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span>,
  arbiterOnly:<span class="token operator">&lt;</span>boolean<span class="token operator">&gt;</span>,
  buildIndexes:<span class="token operator">&lt;</span>boolean<span class="token operator">&gt;</span>,
  hidden:<span class="token operator">&lt;</span>boolean<span class="token operator">&gt;</span>,
  priority:<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span>,
  tags:<span class="token operator">&lt;</span>document<span class="token operator">&gt;</span>,
  slaveDelay:<span class="token operator">&lt;</span>int<span class="token operator">&gt;</span>,
  votes:<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ç¤ºä¾‹ï¼š</p> <p>å°†27018çš„å‰¯æœ¬èŠ‚ç‚¹åŠ æ·»åŠ åˆ°å‰¯æœ¬é›†æ±‡æ€»ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>rs.add<span class="token punctuation">(</span><span class="token string">&quot;localhost:27018&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="æ·»åŠ ä»²è£ä»èŠ‚ç‚¹"><a href="#æ·»åŠ ä»²è£ä»èŠ‚ç‚¹" class="header-anchor">#</a> æ·»åŠ ä»²è£ä»èŠ‚ç‚¹</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>rs.add<span class="token punctuation">(</span>host,arbiterOnly<span class="token punctuation">)</span>
æˆ–
rs.addArb<span class="token punctuation">(</span>host<span class="token punctuation">)</span>
ä¾‹å­ï¼š
rs.addArb<span class="token punctuation">(</span><span class="token string">&quot;localhost:27019&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="å‰¯æœ¬é›†çš„æ•°æ®è¯»å†™æ“ä½œ"><a href="#å‰¯æœ¬é›†çš„æ•°æ®è¯»å†™æ“ä½œ" class="header-anchor">#</a> å‰¯æœ¬é›†çš„æ•°æ®è¯»å†™æ“ä½œ</h2> <p>å‰¯æœ¬èŠ‚ç‚¹ (SECONDARY) é»˜è®¤ä¸èƒ½ read , æ›´ä¸å¯èƒ½ write æ•°æ®, éœ€è¦</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>rs.slaveOk<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>myrs:SECONDARY<span class="token operator">&gt;</span> show dbs<span class="token punctuation">;</span> 
<span class="token string">&quot;errmsg&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;not master and slaveOk=false&quot;</span>,
<span class="token comment"># éä¸»èŠ‚ç‚¹åŒæ—¶ slaveOk=false æ— æ³•è¯»å†™</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æ•°æ®ä¼šè‡ªåŠ¨åŒæ­¥, ä½†æ˜¯ä¼šæœ‰å»¶è¿Ÿ</p> <p>ä»²è£è€…èŠ‚ç‚¹, ä¸å­˜æ”¾ä»»ä½•æ•°æ® -&gt; <code>rs.slaveOk()</code> ä¹Ÿçœ‹ä¸åˆ°æ•°æ®</p> <h2 id="ä¸»èŠ‚ç‚¹çš„é€‰ä¸¾åŸåˆ™"><a href="#ä¸»èŠ‚ç‚¹çš„é€‰ä¸¾åŸåˆ™" class="header-anchor">#</a> ä¸»èŠ‚ç‚¹çš„é€‰ä¸¾åŸåˆ™</h2> <p>MongoDBåœ¨å‰¯æœ¬é›†ä¸­ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œä¸»èŠ‚ç‚¹çš„é€‰ä¸¾ï¼Œä¸»èŠ‚ç‚¹é€‰ä¸¾çš„è§¦å‘æ¡ä»¶</p> <ol><li>ä¸»èŠ‚ç‚¹æ•…éšœ</li> <li>ä¸»èŠ‚ç‚¹ç½‘ç»œä¸å¯è¾¾ (é»˜è®¤å¿ƒè·³ä¿¡æ¯ä¸º 10 ç§’)</li> <li>äººå·¥å¹²é¢„ <code>rs.stepDown(600)</code></li></ol> <p>ä¸€æ—¦è§¦å‘é€‰ä¸¾ï¼Œå°±è¦æ ¹æ®ä¸€å®šè§„åˆ™æ¥é€‰ä¸»èŠ‚ç‚¹</p> <p>é€‰ä¸¾è§„åˆ™æ˜¯æ ¹æ®ç¥¨æ•°æ¥å†³å®šè°è·èƒœ</p> <ul><li>ç¥¨æ•°æœ€é«˜ï¼Œä¸”è·å¾—äº†â€œå¤§å¤šæ•°â€æˆå‘˜çš„æŠ•ç¥¨æ”¯æŒçš„èŠ‚ç‚¹è·èƒœã€‚
<ul><li>â€œå¤§å¤šæ•°â€çš„å®šä¹‰ä¸ºï¼šå‡è®¾å¤åˆ¶é›†å†…æŠ•ç¥¨æˆå‘˜æ•°é‡ä¸ºNï¼Œåˆ™å¤§å¤šæ•°ä¸º N/2 + 1ã€‚ä¾‹å¦‚ï¼š3ä¸ªæŠ•ç¥¨æˆå‘˜ï¼Œ åˆ™å¤§å¤šæ•°çš„å€¼æ˜¯2ã€‚å½“å¤åˆ¶é›†å†…å­˜æ´»æˆå‘˜æ•°é‡ä¸è¶³å¤§å¤šæ•°æ—¶ï¼Œæ•´ä¸ªå¤åˆ¶é›†å°†æ— æ³•é€‰ä¸¾å‡ºPrimaryï¼Œ å¤åˆ¶é›†å°†æ— æ³•æä¾›å†™æœåŠ¡ï¼Œå¤„äºåªè¯»çŠ¶æ€ã€‚</li></ul></li> <li>è‹¥ç¥¨æ•°ç›¸åŒï¼Œä¸”éƒ½è·å¾—äº†â€œå¤§å¤šæ•°â€æˆå‘˜çš„æŠ•ç¥¨æ”¯æŒçš„ï¼Œæ•°æ®æ–°çš„èŠ‚ç‚¹è·èƒœã€‚
<ul><li>æ•°æ®çš„æ–°æ—§æ˜¯é€šè¿‡æ“ä½œæ—¥å¿— oplog æ¥å¯¹æ¯”çš„ã€‚</li></ul></li></ul> <p>åœ¨è·å¾—ç¥¨æ•°çš„æ—¶å€™ï¼Œä¼˜å…ˆçº§ï¼ˆpriorityï¼‰å‚æ•°å½±å“é‡å¤§ã€‚</p> <p>å¯ä»¥é€šè¿‡è®¾ç½®ä¼˜å…ˆçº§ï¼ˆpriorityï¼‰æ¥è®¾ç½®é¢å¤–ç¥¨æ•°ã€‚ä¼˜å…ˆçº§å³æƒé‡ï¼Œå–å€¼ä¸º0-1000ï¼Œç›¸å½“äºå¯é¢å¤–å¢åŠ  0-1000çš„ç¥¨æ•°ï¼Œä¼˜å…ˆçº§çš„å€¼è¶Šå¤§ï¼Œå°±è¶Šå¯èƒ½è·å¾—å¤šæ•°æˆå‘˜çš„æŠ•ç¥¨ï¼ˆvotesï¼‰æ•°ã€‚æŒ‡å®šè¾ƒé«˜çš„å€¼å¯ä½¿æˆå‘˜ æ›´æœ‰èµ„æ ¼æˆä¸ºä¸»è¦æˆå‘˜ï¼Œæ›´ä½çš„å€¼å¯ä½¿æˆå‘˜æ›´ä¸ç¬¦åˆæ¡ä»¶ã€‚</p> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼˜å…ˆçº§çš„å€¼æ˜¯ 1</p> <h2 id="æ•…éšœæµ‹è¯•"><a href="#æ•…éšœæµ‹è¯•" class="header-anchor">#</a> æ•…éšœæµ‹è¯•</h2> <h3 id="å‰¯æœ¬èŠ‚ç‚¹æ•…éšœæµ‹è¯•"><a href="#å‰¯æœ¬èŠ‚ç‚¹æ•…éšœæµ‹è¯•" class="header-anchor">#</a> å‰¯æœ¬èŠ‚ç‚¹æ•…éšœæµ‹è¯•</h3> <p>å…³é—­ <code>27018</code> å‰¯æœ¬èŠ‚ç‚¹</p> <ul><li>ä¸»èŠ‚ç‚¹å’Œä»²è£èŠ‚ç‚¹å¯¹ <code>27018</code> çš„å¿ƒè·³å¤±è´¥ã€‚å› ä¸ºä¸»èŠ‚ç‚¹è¿˜åœ¨ï¼Œå› æ­¤ï¼Œæ²¡æœ‰è§¦å‘æŠ•ç¥¨é€‰ä¸¾ã€‚</li> <li>å¦‚æœæ­¤æ—¶ï¼Œåœ¨ä¸»èŠ‚ç‚¹å†™å…¥æ•°æ®ã€‚å†å¯åŠ¨ä»èŠ‚ç‚¹ï¼Œä¼šå‘ç°ï¼Œ<strong>ä¸»èŠ‚ç‚¹å†™å…¥çš„æ•°æ®</strong>ï¼Œ<strong>ä¼šè‡ªåŠ¨åŒæ­¥ç»™ä»èŠ‚ç‚¹</strong>ã€‚</li></ul> <h4 id="ä¸»èŠ‚ç‚¹æ•…éšœæµ‹è¯•"><a href="#ä¸»èŠ‚ç‚¹æ•…éšœæµ‹è¯•" class="header-anchor">#</a> ä¸»èŠ‚ç‚¹æ•…éšœæµ‹è¯•</h4> <p>å…³é—­27017èŠ‚ç‚¹</p> <ul><li>ä»èŠ‚ç‚¹å’Œä»²è£èŠ‚ç‚¹å¯¹27017çš„å¿ƒè·³å¤±è´¥ï¼Œå½“å¤±è´¥è¶…è¿‡10ç§’ï¼Œæ­¤æ—¶å› ä¸ºæ²¡æœ‰ä¸»èŠ‚ç‚¹äº†ï¼Œä¼šè‡ªåŠ¨å‘èµ·æŠ•ç¥¨ã€‚</li> <li>è€Œå‰¯æœ¬èŠ‚ç‚¹åªæœ‰27018ï¼Œå› æ­¤ï¼Œå€™é€‰äººåªæœ‰ä¸€ä¸ªå°±æ˜¯27018ï¼Œå¼€å§‹æŠ•ç¥¨ã€‚</li> <li>27019å‘27018æŠ•äº†ä¸€ç¥¨ï¼Œ27018æœ¬èº«è‡ªå¸¦ä¸€ç¥¨ï¼Œå› æ­¤å…±ä¸¤ç¥¨ï¼Œè¶…è¿‡äº†â€œå¤§å¤šæ•°â€</li> <li>27019æ˜¯ä»²è£èŠ‚ç‚¹ï¼Œæ²¡æœ‰é€‰ä¸¾æƒï¼Œ27018ä¸å‘å…¶æŠ•ç¥¨ï¼Œå…¶ç¥¨æ•°æ˜¯0.</li></ul> <p>æœ€ç»ˆç»“æœï¼Œ27018æˆä¸ºä¸»èŠ‚ç‚¹ã€‚å…·å¤‡è¯»å†™åŠŸèƒ½ã€‚ åœ¨27018å†™å…¥æ•°æ®æŸ¥çœ‹ã€‚</p> <h4 id="ä»²è£èŠ‚ç‚¹å’Œä¸»èŠ‚ç‚¹æ•…éšœ"><a href="#ä»²è£èŠ‚ç‚¹å’Œä¸»èŠ‚ç‚¹æ•…éšœ" class="header-anchor">#</a> ä»²è£èŠ‚ç‚¹å’Œä¸»èŠ‚ç‚¹æ•…éšœ</h4> <p>å…ˆå…³æ‰ä»²è£èŠ‚ç‚¹27019ï¼Œ å…³æ‰ç°åœ¨çš„ä¸»èŠ‚ç‚¹27018 ç™»å½•27017å</p> <ul><li>27017ä»ç„¶æ˜¯ä»èŠ‚ç‚¹ï¼Œå‰¯æœ¬é›†ä¸­æ²¡æœ‰ä¸»èŠ‚ç‚¹äº†ï¼Œå¯¼è‡´æ­¤æ—¶ï¼Œå‰¯æœ¬é›†æ˜¯åªè¯»çŠ¶æ€ï¼Œ æ— æ³•å†™å…¥ã€‚</li> <li>ä¸ºå•¥ä¸é€‰ä¸¾äº†ï¼Ÿ
<ul><li>å› ä¸º27017çš„ç¥¨æ•°ï¼Œæ²¡æœ‰è·å¾—å¤§å¤šæ•°ï¼Œå³æ²¡æœ‰å¤§äºç­‰äº2ï¼Œå®ƒåªæœ‰é»˜è®¤çš„ä¸€ç¥¨ï¼ˆä¼˜å…ˆçº§ æ˜¯1ï¼‰</li> <li>å¦‚æœè¦è§¦å‘é€‰ä¸¾ï¼Œéšä¾¿åŠ å…¥ä¸€ä¸ªæˆå‘˜å³å¯ã€‚
<ul><li>å¦‚æœåªåŠ å…¥27019ä»²è£èŠ‚ç‚¹æˆå‘˜ï¼Œåˆ™ä¸»èŠ‚ç‚¹ä¸€å®šæ˜¯27017ï¼Œå› ä¸ºæ²¡å¾—é€‰äº†ï¼Œä»²è£èŠ‚ç‚¹ä¸å‚ä¸é€‰ä¸¾ï¼Œ ä½†å‚ä¸æŠ•ç¥¨</li> <li>å¦‚æœåªåŠ å…¥27018èŠ‚ç‚¹ï¼Œä¼šå‘èµ·é€‰ä¸¾ã€‚å› ä¸º27017å’Œ27018éƒ½æ˜¯ä¸¤ç¥¨ï¼Œåˆ™æŒ‰ç…§è°æ•°æ®æ–°ï¼Œè°å½“ä¸»èŠ‚ç‚¹ã€‚</li></ul></li></ul></li></ul> <h4 id="ä»²è£èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹æ•…éšœ"><a href="#ä»²è£èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹æ•…éšœ" class="header-anchor">#</a> ä»²è£èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹æ•…éšœ</h4> <p>å…ˆå…³æ‰ä»²è£èŠ‚ç‚¹ <code>27019</code>ï¼Œå…³æ‰ç°åœ¨çš„å‰¯æœ¬èŠ‚ç‚¹ <code>27018</code></p> <p>10ç§’åï¼Œ<code>27017</code> ä¸»èŠ‚ç‚¹è‡ªåŠ¨é™çº§ä¸ºå‰¯æœ¬èŠ‚ç‚¹ã€‚ï¼ˆæœåŠ¡é™çº§ï¼‰</p> <p>å‰¯æœ¬é›†ä¸å¯å†™æ•°æ®äº†ï¼Œå·²ç»æ•…éšœäº†ã€‚</p> <h2 id="springdatamongodbè¿æ¥å‰¯æœ¬é›†"><a href="#springdatamongodbè¿æ¥å‰¯æœ¬é›†" class="header-anchor">#</a> SpringDataMongoDBè¿æ¥å‰¯æœ¬é›†</h2> <p>å‰¯æœ¬é›†è¯­æ³•ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>mongodb://host1,host2,host3/articledb?connect<span class="token operator">=</span>replicaSet<span class="token operator">&amp;</span><span class="token assign-left variable">slaveOk</span><span class="token operator">=</span>true<span class="token operator">&amp;</span><span class="token assign-left variable">replicaSet</span><span class="token operator">=</span>å‰¯æœ¬é›†åå­—
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å…¶ä¸­ï¼š</p> <ul><li>slaveOk=trueï¼šå¼€å¯å‰¯æœ¬èŠ‚ç‚¹è¯»çš„åŠŸèƒ½ï¼Œå¯å®ç°è¯»å†™åˆ†ç¦»ã€‚</li> <li>connect=replicaSetï¼šè‡ªåŠ¨åˆ°å‰¯æœ¬é›†ä¸­é€‰æ‹©è¯»å†™çš„ä¸»æœºã€‚å¦‚æœslaveOkæ˜¯æ‰“å¼€çš„ï¼Œåˆ™å®ç°è¯»å†™åˆ†ç¦»ã€‚</li></ul> <p>ç¤ºä¾‹ï¼š</p> <p>è¿æ¥replica setä¸‰å°æœåŠ¡å™¨ï¼ˆç«¯å£27017ï¼Œ27018ï¼Œ27019ï¼‰ï¼Œç›´æ¥è¿æ¥ç¬¬ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæ— è®ºæ˜¯replica setä¸€éƒ¨åˆ†æˆ–è€…ä¸»æœåŠ¡å™¨æˆ–è€…ä»æœåŠ¡å™¨ï¼Œå†™å…¥æ“ä½œåº”ç”¨åœ¨ä¸»æœåŠ¡å™¨å¹¶ä¸”åˆ†å¸ƒæŸ¥è¯¢åˆ°ä»æœåŠ¡å™¨ã€‚</p> <p>ä¿®æ”¹é…ç½®æ–‡ä»¶application.yml</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span> 
	<span class="token comment">#æ•°æ®æºé…ç½®</span>
	<span class="token key atrule">data</span><span class="token punctuation">:</span>
		<span class="token key atrule">mongodb</span><span class="token punctuation">:</span> 
			<span class="token comment">#ä¸»æœºåœ°å€</span>
			<span class="token comment">#host: localhost</span>
			<span class="token comment">#æ•°æ®åº“</span>
			<span class="token comment">#database: test</span>
			<span class="token comment">#é»˜è®¤ç«¯å£å·æ˜¯27017</span>
			<span class="token comment">#port: 27017</span>
			<span class="token comment">#ä¹Ÿå¯ä»¥ä½¿ç”¨uriè¿æ¥</span>
			<span class="token key atrule">uri</span><span class="token punctuation">:</span> mongodb<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">27017</span><span class="token punctuation">,</span>localhost<span class="token punctuation">:</span><span class="token number">27018</span><span class="token punctuation">,</span>localhost<span class="token punctuation">:</span>27019/test<span class="token punctuation">?</span>connect=replicaSet<span class="token important">&amp;slaveOk=true&amp;replicaSet=myrs</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/502051565/502051565.github.io/edit/master/docs/studynotes/database/MongoDB/MongoDB_ClusterAndSecurity.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘æ”¹å–„æ­¤é¡µé¢</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=MongoDB" title="æ ‡ç­¾">#MongoDB</a></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022å¹´11æœˆ14æ—¥</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/database/MongoDB/MongoDB_Java/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">MongoDB æ•´åˆJavaæ¡ˆä¾‹</div></a> <a href="/pages/2aae92/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">HBaseç®€ä»‹</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/database/MongoDB/MongoDB_Java/" class="prev">MongoDB æ•´åˆJavaæ¡ˆä¾‹</a></span> <span class="next"><a href="/pages/2aae92/">HBaseç®€ä»‹</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/3lhq91/"><div>
            jvm
            <!----></div></a> <span class="date">06-01</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/3lhh91/"><div>
            å¤šçº¿ç¨‹&amp;å¹¶å‘ç¯‡
            <!----></div></a> <span class="date">05-30</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/3lhl98/"><div>
            spring
            <!----></div></a> <span class="date">05-30</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:502051565@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="img/wx.jpg" title="å¾®ä¿¡" target="_blank" class="iconfont icon-weixin"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> <!----></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div><div></div><div></div><div id="tcomment"></div><!----></div></div>
    <script src="/assets/js/app.52078691.js" defer></script><script src="/assets/js/2.3705e0fd.js" defer></script><script src="/assets/js/221.ba868543.js" defer></script><script src="/assets/js/41.f9580004.js" defer></script><script src="/assets/js/62.88bcb186.js" defer></script><script src="/assets/js/68.17898152.js" defer></script><script src="/assets/js/53.6e4f0023.js" defer></script><script src="/assets/js/54.7ab2b710.js" defer></script>
  </body>
</html>
